(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function De(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function CO(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var ij={exports:{}},Nf={},oj={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wc=Symbol.for("react.element"),AO=Symbol.for("react.portal"),OO=Symbol.for("react.fragment"),EO=Symbol.for("react.strict_mode"),TO=Symbol.for("react.profiler"),$O=Symbol.for("react.provider"),MO=Symbol.for("react.context"),IO=Symbol.for("react.forward_ref"),RO=Symbol.for("react.suspense"),DO=Symbol.for("react.memo"),LO=Symbol.for("react.lazy"),bx=Symbol.iterator;function UO(e){return e===null||typeof e!="object"?null:(e=bx&&e[bx]||e["@@iterator"],typeof e=="function"?e:null)}var sj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lj=Object.assign,cj={};function es(e,t,r){this.props=e,this.context=t,this.refs=cj,this.updater=r||sj}es.prototype.isReactComponent={};es.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};es.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function uj(){}uj.prototype=es.prototype;function Xy(e,t,r){this.props=e,this.context=t,this.refs=cj,this.updater=r||sj}var Jy=Xy.prototype=new uj;Jy.constructor=Xy;lj(Jy,es.prototype);Jy.isPureReactComponent=!0;var wx=Array.isArray,dj=Object.prototype.hasOwnProperty,Zy={current:null},fj={key:!0,ref:!0,__self:!0,__source:!0};function hj(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)dj.call(t,n)&&!fj.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:wc,type:e,key:i,ref:o,props:a,_owner:Zy.current}}function FO(e,t){return{$$typeof:wc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function e0(e){return typeof e=="object"&&e!==null&&e.$$typeof===wc}function BO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var _x=/\/+/g;function Zh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?BO(""+e.key):t.toString(36)}function ku(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case wc:case AO:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Zh(o,0):n,wx(a)?(r="",e!=null&&(r=e.replace(_x,"$&/")+"/"),ku(a,t,r,"",function(u){return u})):a!=null&&(e0(a)&&(a=FO(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(_x,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",wx(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Zh(i,l);o+=ku(i,t,r,c,a)}else if(c=UO(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Zh(i,l++),o+=ku(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Wc(e,t,r){if(e==null)return e;var n=[],a=0;return ku(e,n,"","",function(i){return t.call(r,i,a++)}),n}function zO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xt={current:null},Pu={transition:null},qO={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:Pu,ReactCurrentOwner:Zy};function pj(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:Wc,forEach:function(e,t,r){Wc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Wc(e,function(){t++}),t},toArray:function(e){return Wc(e,function(t){return t})||[]},only:function(e){if(!e0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Oe.Component=es;Oe.Fragment=OO;Oe.Profiler=TO;Oe.PureComponent=Xy;Oe.StrictMode=EO;Oe.Suspense=RO;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qO;Oe.act=pj;Oe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=lj({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Zy.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)dj.call(t,c)&&!fj.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:wc,type:e.type,key:a,ref:i,props:n,_owner:o}};Oe.createContext=function(e){return e={$$typeof:MO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$O,_context:e},e.Consumer=e};Oe.createElement=hj;Oe.createFactory=function(e){var t=hj.bind(null,e);return t.type=e,t};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(e){return{$$typeof:IO,render:e}};Oe.isValidElement=e0;Oe.lazy=function(e){return{$$typeof:LO,_payload:{_status:-1,_result:e},_init:zO}};Oe.memo=function(e,t){return{$$typeof:DO,type:e,compare:t===void 0?null:t}};Oe.startTransition=function(e){var t=Pu.transition;Pu.transition={};try{e()}finally{Pu.transition=t}};Oe.unstable_act=pj;Oe.useCallback=function(e,t){return Xt.current.useCallback(e,t)};Oe.useContext=function(e){return Xt.current.useContext(e)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(e){return Xt.current.useDeferredValue(e)};Oe.useEffect=function(e,t){return Xt.current.useEffect(e,t)};Oe.useId=function(){return Xt.current.useId()};Oe.useImperativeHandle=function(e,t,r){return Xt.current.useImperativeHandle(e,t,r)};Oe.useInsertionEffect=function(e,t){return Xt.current.useInsertionEffect(e,t)};Oe.useLayoutEffect=function(e,t){return Xt.current.useLayoutEffect(e,t)};Oe.useMemo=function(e,t){return Xt.current.useMemo(e,t)};Oe.useReducer=function(e,t,r){return Xt.current.useReducer(e,t,r)};Oe.useRef=function(e){return Xt.current.useRef(e)};Oe.useState=function(e){return Xt.current.useState(e)};Oe.useSyncExternalStore=function(e,t,r){return Xt.current.useSyncExternalStore(e,t,r)};Oe.useTransition=function(){return Xt.current.useTransition()};Oe.version="18.3.1";oj.exports=Oe;var T=oj.exports;const G=De(T);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WO=T,HO=Symbol.for("react.element"),VO=Symbol.for("react.fragment"),GO=Object.prototype.hasOwnProperty,KO=WO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QO={key:!0,ref:!0,__self:!0,__source:!0};function mj(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)GO.call(t,n)&&!QO.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:HO,type:e,key:i,ref:o,props:a,_owner:KO.current}}Nf.Fragment=VO;Nf.jsx=mj;Nf.jsxs=mj;ij.exports=Nf;var s=ij.exports,gj={exports:{}},br={},yj={exports:{}},vj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,O){var E=P.length;P.push(O);e:for(;0<E;){var D=E-1>>>1,F=P[D];if(0<a(F,O))P[D]=O,P[E]=F,E=D;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var O=P[0],E=P.pop();if(E!==O){P[0]=E;e:for(var D=0,F=P.length,W=F>>>1;D<W;){var z=2*(D+1)-1,K=P[z],Y=z+1,J=P[Y];if(0>a(K,E))Y<F&&0>a(J,K)?(P[D]=J,P[Y]=E,D=Y):(P[D]=K,P[z]=E,D=z);else if(Y<F&&0>a(J,E))P[D]=J,P[Y]=E,D=Y;else break e}}return O}function a(P,O){var E=P.sortIndex-O.sortIndex;return E!==0?E:P.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(P){for(var O=r(u);O!==null;){if(O.callback===null)n(u);else if(O.startTime<=P)n(u),O.sortIndex=O.expirationTime,t(c,O);else break;O=r(u)}}function S(P){if(g=!1,x(P),!m)if(r(c)!==null)m=!0,A(j);else{var O=r(u);O!==null&&_(S,O.startTime-P)}}function j(P,O){m=!1,g&&(g=!1,y(k),k=-1),p=!0;var E=h;try{for(x(O),f=r(c);f!==null&&(!(f.expirationTime>O)||P&&!R());){var D=f.callback;if(typeof D=="function"){f.callback=null,h=f.priorityLevel;var F=D(f.expirationTime<=O);O=e.unstable_now(),typeof F=="function"?f.callback=F:f===r(c)&&n(c),x(O)}else n(c);f=r(c)}if(f!==null)var W=!0;else{var z=r(u);z!==null&&_(S,z.startTime-O),W=!1}return W}finally{f=null,h=E,p=!1}}var w=!1,C=null,k=-1,N=5,M=-1;function R(){return!(e.unstable_now()-M<N)}function B(){if(C!==null){var P=e.unstable_now();M=P;var O=!0;try{O=C(!0,P)}finally{O?U():(w=!1,C=null)}}else w=!1}var U;if(typeof b=="function")U=function(){b(B)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,I=$.port2;$.port1.onmessage=B,U=function(){I.postMessage(null)}}else U=function(){v(B,0)};function A(P){C=P,w||(w=!0,U())}function _(P,O){k=v(function(){P(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,A(j))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var E=h;h=O;try{return P()}finally{h=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,O){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var E=h;h=P;try{return O()}finally{h=E}},e.unstable_scheduleCallback=function(P,O,E){var D=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?D+E:D):E=D,P){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=E+F,P={id:d++,callback:O,priorityLevel:P,startTime:E,expirationTime:F,sortIndex:-1},E>D?(P.sortIndex=E,t(u,P),r(c)===null&&P===r(u)&&(g?(y(k),k=-1):g=!0,_(S,E-D))):(P.sortIndex=F,t(c,P),m||p||(m=!0,A(j))),P},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(P){var O=h;return function(){var E=h;h=O;try{return P.apply(this,arguments)}finally{h=E}}}})(vj);yj.exports=vj;var YO=yj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XO=T,xr=YO;function ce(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xj=new Set,gl={};function Ni(e,t){bo(e,t),bo(e+"Capture",t)}function bo(e,t){for(gl[e]=t,e=0;e<t.length;e++)xj.add(t[e])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dm=Object.prototype.hasOwnProperty,JO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jx={},Sx={};function ZO(e){return dm.call(Sx,e)?!0:dm.call(jx,e)?!1:JO.test(e)?Sx[e]=!0:(jx[e]=!0,!1)}function eE(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tE(e,t,r,n){if(t===null||typeof t>"u"||eE(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Jt(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Mt[e]=new Jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Mt[t]=new Jt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Mt[e]=new Jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Mt[e]=new Jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Mt[e]=new Jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Mt[e]=new Jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Mt[e]=new Jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Mt[e]=new Jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Mt[e]=new Jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var t0=/[\-:]([a-z])/g;function r0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(t0,r0);Mt[t]=new Jt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(t0,r0);Mt[t]=new Jt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(t0,r0);Mt[t]=new Jt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Mt[e]=new Jt(e,1,!1,e.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Mt[e]=new Jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function n0(e,t,r,n){var a=Mt.hasOwnProperty(t)?Mt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tE(t,r,a,n)&&(r=null),n||a===null?ZO(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Qn=XO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hc=Symbol.for("react.element"),Vi=Symbol.for("react.portal"),Gi=Symbol.for("react.fragment"),a0=Symbol.for("react.strict_mode"),fm=Symbol.for("react.profiler"),bj=Symbol.for("react.provider"),wj=Symbol.for("react.context"),i0=Symbol.for("react.forward_ref"),hm=Symbol.for("react.suspense"),pm=Symbol.for("react.suspense_list"),o0=Symbol.for("react.memo"),ia=Symbol.for("react.lazy"),_j=Symbol.for("react.offscreen"),Nx=Symbol.iterator;function Ss(e){return e===null||typeof e!="object"?null:(e=Nx&&e[Nx]||e["@@iterator"],typeof e=="function"?e:null)}var ot=Object.assign,ep;function Ws(e){if(ep===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ep=t&&t[1]||""}return`
`+ep+e}var tp=!1;function rp(e,t){if(!e||tp)return"";tp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{tp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ws(e):""}function rE(e){switch(e.tag){case 5:return Ws(e.type);case 16:return Ws("Lazy");case 13:return Ws("Suspense");case 19:return Ws("SuspenseList");case 0:case 2:case 15:return e=rp(e.type,!1),e;case 11:return e=rp(e.type.render,!1),e;case 1:return e=rp(e.type,!0),e;default:return""}}function mm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gi:return"Fragment";case Vi:return"Portal";case fm:return"Profiler";case a0:return"StrictMode";case hm:return"Suspense";case pm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wj:return(e.displayName||"Context")+".Consumer";case bj:return(e._context.displayName||"Context")+".Provider";case i0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case o0:return t=e.displayName||null,t!==null?t:mm(e.type)||"Memo";case ia:t=e._payload,e=e._init;try{return mm(e(t))}catch{}}return null}function nE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mm(t);case 8:return t===a0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Na(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function aE(e){var t=jj(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vc(e){e._valueTracker||(e._valueTracker=aE(e))}function Sj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=jj(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Hu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gm(e,t){var r=t.checked;return ot({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function kx(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Na(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Nj(e,t){t=t.checked,t!=null&&n0(e,"checked",t,!1)}function ym(e,t){Nj(e,t);var r=Na(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vm(e,t.type,r):t.hasOwnProperty("defaultValue")&&vm(e,t.type,Na(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Px(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function vm(e,t,r){(t!=="number"||Hu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Hs=Array.isArray;function uo(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Na(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function xm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ce(91));return ot({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cx(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ce(92));if(Hs(r)){if(1<r.length)throw Error(ce(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Na(r)}}function kj(e,t){var r=Na(t.value),n=Na(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ax(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Pj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Pj(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Gc,Cj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Gc=Gc||document.createElement("div"),Gc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Gc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iE=["Webkit","ms","Moz","O"];Object.keys(Ys).forEach(function(e){iE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ys[t]=Ys[e]})});function Aj(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ys.hasOwnProperty(e)&&Ys[e]?(""+t).trim():t+"px"}function Oj(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Aj(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var oE=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wm(e,t){if(t){if(oE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ce(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ce(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ce(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ce(62))}}function _m(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jm=null;function s0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sm=null,fo=null,ho=null;function Ox(e){if(e=Sc(e)){if(typeof Sm!="function")throw Error(ce(280));var t=e.stateNode;t&&(t=Of(t),Sm(e.stateNode,e.type,t))}}function Ej(e){fo?ho?ho.push(e):ho=[e]:fo=e}function Tj(){if(fo){var e=fo,t=ho;if(ho=fo=null,Ox(e),t)for(e=0;e<t.length;e++)Ox(t[e])}}function $j(e,t){return e(t)}function Mj(){}var np=!1;function Ij(e,t,r){if(np)return e(t,r);np=!0;try{return $j(e,t,r)}finally{np=!1,(fo!==null||ho!==null)&&(Mj(),Tj())}}function vl(e,t){var r=e.stateNode;if(r===null)return null;var n=Of(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ce(231,t,typeof r));return r}var Nm=!1;if(Bn)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){Nm=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{Nm=!1}function sE(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Xs=!1,Vu=null,Gu=!1,km=null,lE={onError:function(e){Xs=!0,Vu=e}};function cE(e,t,r,n,a,i,o,l,c){Xs=!1,Vu=null,sE.apply(lE,arguments)}function uE(e,t,r,n,a,i,o,l,c){if(cE.apply(this,arguments),Xs){if(Xs){var u=Vu;Xs=!1,Vu=null}else throw Error(ce(198));Gu||(Gu=!0,km=u)}}function ki(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Rj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ex(e){if(ki(e)!==e)throw Error(ce(188))}function dE(e){var t=e.alternate;if(!t){if(t=ki(e),t===null)throw Error(ce(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Ex(a),e;if(i===n)return Ex(a),t;i=i.sibling}throw Error(ce(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(ce(189))}}if(r.alternate!==n)throw Error(ce(190))}if(r.tag!==3)throw Error(ce(188));return r.stateNode.current===r?e:t}function Dj(e){return e=dE(e),e!==null?Lj(e):null}function Lj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Lj(e);if(t!==null)return t;e=e.sibling}return null}var Uj=xr.unstable_scheduleCallback,Tx=xr.unstable_cancelCallback,fE=xr.unstable_shouldYield,hE=xr.unstable_requestPaint,ct=xr.unstable_now,pE=xr.unstable_getCurrentPriorityLevel,l0=xr.unstable_ImmediatePriority,Fj=xr.unstable_UserBlockingPriority,Ku=xr.unstable_NormalPriority,mE=xr.unstable_LowPriority,Bj=xr.unstable_IdlePriority,kf=null,pn=null;function gE(e){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(kf,e,void 0,(e.current.flags&128)===128)}catch{}}var Zr=Math.clz32?Math.clz32:xE,yE=Math.log,vE=Math.LN2;function xE(e){return e>>>=0,e===0?32:31-(yE(e)/vE|0)|0}var Kc=64,Qc=4194304;function Vs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Vs(l):(i&=o,i!==0&&(n=Vs(i)))}else o=r&~a,o!==0?n=Vs(o):i!==0&&(n=Vs(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Zr(t),a=1<<r,n|=e[r],t&=~a;return n}function bE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Zr(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=bE(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Pm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zj(){var e=Kc;return Kc<<=1,!(Kc&4194240)&&(Kc=64),e}function ap(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function _c(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zr(t),e[t]=r}function _E(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Zr(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function c0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Zr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Le=0;function qj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Wj,u0,Hj,Vj,Gj,Cm=!1,Yc=[],ma=null,ga=null,ya=null,xl=new Map,bl=new Map,la=[],jE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $x(e,t){switch(e){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":ga=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":xl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(t.pointerId)}}function ks(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Sc(t),t!==null&&u0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function SE(e,t,r,n,a){switch(t){case"focusin":return ma=ks(ma,e,t,r,n,a),!0;case"dragenter":return ga=ks(ga,e,t,r,n,a),!0;case"mouseover":return ya=ks(ya,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return xl.set(i,ks(xl.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,bl.set(i,ks(bl.get(i)||null,e,t,r,n,a)),!0}return!1}function Kj(e){var t=Ja(e.target);if(t!==null){var r=ki(t);if(r!==null){if(t=r.tag,t===13){if(t=Rj(r),t!==null){e.blockedOn=t,Gj(e.priority,function(){Hj(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Am(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);jm=n,r.target.dispatchEvent(n),jm=null}else return t=Sc(r),t!==null&&u0(t),e.blockedOn=r,!1;t.shift()}return!0}function Mx(e,t,r){Cu(e)&&r.delete(t)}function NE(){Cm=!1,ma!==null&&Cu(ma)&&(ma=null),ga!==null&&Cu(ga)&&(ga=null),ya!==null&&Cu(ya)&&(ya=null),xl.forEach(Mx),bl.forEach(Mx)}function Ps(e,t){e.blockedOn===t&&(e.blockedOn=null,Cm||(Cm=!0,xr.unstable_scheduleCallback(xr.unstable_NormalPriority,NE)))}function wl(e){function t(a){return Ps(a,e)}if(0<Yc.length){Ps(Yc[0],e);for(var r=1;r<Yc.length;r++){var n=Yc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ma!==null&&Ps(ma,e),ga!==null&&Ps(ga,e),ya!==null&&Ps(ya,e),xl.forEach(t),bl.forEach(t),r=0;r<la.length;r++)n=la[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<la.length&&(r=la[0],r.blockedOn===null);)Kj(r),r.blockedOn===null&&la.shift()}var po=Qn.ReactCurrentBatchConfig,Yu=!0;function kE(e,t,r,n){var a=Le,i=po.transition;po.transition=null;try{Le=1,d0(e,t,r,n)}finally{Le=a,po.transition=i}}function PE(e,t,r,n){var a=Le,i=po.transition;po.transition=null;try{Le=4,d0(e,t,r,n)}finally{Le=a,po.transition=i}}function d0(e,t,r,n){if(Yu){var a=Am(e,t,r,n);if(a===null)pp(e,t,n,Xu,r),$x(e,n);else if(SE(a,e,t,r,n))n.stopPropagation();else if($x(e,n),t&4&&-1<jE.indexOf(e)){for(;a!==null;){var i=Sc(a);if(i!==null&&Wj(i),i=Am(e,t,r,n),i===null&&pp(e,t,n,Xu,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else pp(e,t,n,null,r)}}var Xu=null;function Am(e,t,r,n){if(Xu=null,e=s0(n),e=Ja(e),e!==null)if(t=ki(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Rj(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xu=e,null}function Qj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pE()){case l0:return 1;case Fj:return 4;case Ku:case mE:return 16;case Bj:return 536870912;default:return 16}default:return 16}}var fa=null,f0=null,Au=null;function Yj(){if(Au)return Au;var e,t=f0,r=t.length,n,a="value"in fa?fa.value:fa.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Au=a.slice(e,1<n?1-n:void 0)}function Ou(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xc(){return!0}function Ix(){return!1}function wr(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xc:Ix,this.isPropagationStopped=Ix,this}return ot(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xc)},persist:function(){},isPersistent:Xc}),t}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},h0=wr(ts),jc=ot({},ts,{view:0,detail:0}),CE=wr(jc),ip,op,Cs,Pf=ot({},jc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:p0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cs&&(Cs&&e.type==="mousemove"?(ip=e.screenX-Cs.screenX,op=e.screenY-Cs.screenY):op=ip=0,Cs=e),ip)},movementY:function(e){return"movementY"in e?e.movementY:op}}),Rx=wr(Pf),AE=ot({},Pf,{dataTransfer:0}),OE=wr(AE),EE=ot({},jc,{relatedTarget:0}),sp=wr(EE),TE=ot({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),$E=wr(TE),ME=ot({},ts,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),IE=wr(ME),RE=ot({},ts,{data:0}),Dx=wr(RE),DE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=UE[e])?!!t[e]:!1}function p0(){return FE}var BE=ot({},jc,{key:function(e){if(e.key){var t=DE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ou(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?LE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:p0,charCode:function(e){return e.type==="keypress"?Ou(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ou(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zE=wr(BE),qE=ot({},Pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lx=wr(qE),WE=ot({},jc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:p0}),HE=wr(WE),VE=ot({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),GE=wr(VE),KE=ot({},Pf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),QE=wr(KE),YE=[9,13,27,32],m0=Bn&&"CompositionEvent"in window,Js=null;Bn&&"documentMode"in document&&(Js=document.documentMode);var XE=Bn&&"TextEvent"in window&&!Js,Xj=Bn&&(!m0||Js&&8<Js&&11>=Js),Ux=" ",Fx=!1;function Jj(e,t){switch(e){case"keyup":return YE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ki=!1;function JE(e,t){switch(e){case"compositionend":return Zj(t);case"keypress":return t.which!==32?null:(Fx=!0,Ux);case"textInput":return e=t.data,e===Ux&&Fx?null:e;default:return null}}function ZE(e,t){if(Ki)return e==="compositionend"||!m0&&Jj(e,t)?(e=Yj(),Au=f0=fa=null,Ki=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xj&&t.locale!=="ko"?null:t.data;default:return null}}var eT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eT[e.type]:t==="textarea"}function eS(e,t,r,n){Ej(n),t=Ju(t,"onChange"),0<t.length&&(r=new h0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Zs=null,_l=null;function tT(e){dS(e,0)}function Cf(e){var t=Xi(e);if(Sj(t))return e}function rT(e,t){if(e==="change")return t}var tS=!1;if(Bn){var lp;if(Bn){var cp="oninput"in document;if(!cp){var zx=document.createElement("div");zx.setAttribute("oninput","return;"),cp=typeof zx.oninput=="function"}lp=cp}else lp=!1;tS=lp&&(!document.documentMode||9<document.documentMode)}function qx(){Zs&&(Zs.detachEvent("onpropertychange",rS),_l=Zs=null)}function rS(e){if(e.propertyName==="value"&&Cf(_l)){var t=[];eS(t,_l,e,s0(e)),Ij(tT,t)}}function nT(e,t,r){e==="focusin"?(qx(),Zs=t,_l=r,Zs.attachEvent("onpropertychange",rS)):e==="focusout"&&qx()}function aT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cf(_l)}function iT(e,t){if(e==="click")return Cf(t)}function oT(e,t){if(e==="input"||e==="change")return Cf(t)}function sT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rn=typeof Object.is=="function"?Object.is:sT;function jl(e,t){if(rn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!dm.call(t,a)||!rn(e[a],t[a]))return!1}return!0}function Wx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hx(e,t){var r=Wx(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Wx(r)}}function nS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?nS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function aS(){for(var e=window,t=Hu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Hu(e.document)}return t}function g0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lT(e){var t=aS(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&nS(r.ownerDocument.documentElement,r)){if(n!==null&&g0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Hx(r,i);var o=Hx(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cT=Bn&&"documentMode"in document&&11>=document.documentMode,Qi=null,Om=null,el=null,Em=!1;function Vx(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Em||Qi==null||Qi!==Hu(n)||(n=Qi,"selectionStart"in n&&g0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),el&&jl(el,n)||(el=n,n=Ju(Om,"onSelect"),0<n.length&&(t=new h0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Qi)))}function Jc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Yi={animationend:Jc("Animation","AnimationEnd"),animationiteration:Jc("Animation","AnimationIteration"),animationstart:Jc("Animation","AnimationStart"),transitionend:Jc("Transition","TransitionEnd")},up={},iS={};Bn&&(iS=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function Af(e){if(up[e])return up[e];if(!Yi[e])return e;var t=Yi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in iS)return up[e]=t[r];return e}var oS=Af("animationend"),sS=Af("animationiteration"),lS=Af("animationstart"),cS=Af("transitionend"),uS=new Map,Gx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pa(e,t){uS.set(e,t),Ni(t,[e])}for(var dp=0;dp<Gx.length;dp++){var fp=Gx[dp],uT=fp.toLowerCase(),dT=fp[0].toUpperCase()+fp.slice(1);Pa(uT,"on"+dT)}Pa(oS,"onAnimationEnd");Pa(sS,"onAnimationIteration");Pa(lS,"onAnimationStart");Pa("dblclick","onDoubleClick");Pa("focusin","onFocus");Pa("focusout","onBlur");Pa(cS,"onTransitionEnd");bo("onMouseEnter",["mouseout","mouseover"]);bo("onMouseLeave",["mouseout","mouseover"]);bo("onPointerEnter",["pointerout","pointerover"]);bo("onPointerLeave",["pointerout","pointerover"]);Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gs));function Kx(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,uE(n,t,void 0,e),e.currentTarget=null}function dS(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Kx(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Kx(a,l,u),i=c}}}if(Gu)throw e=km,Gu=!1,km=null,e}function Ye(e,t){var r=t[Rm];r===void 0&&(r=t[Rm]=new Set);var n=e+"__bubble";r.has(n)||(fS(t,e,2,!1),r.add(n))}function hp(e,t,r){var n=0;t&&(n|=4),fS(r,e,n,t)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function Sl(e){if(!e[Zc]){e[Zc]=!0,xj.forEach(function(r){r!=="selectionchange"&&(fT.has(r)||hp(r,!1,e),hp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zc]||(t[Zc]=!0,hp("selectionchange",!1,t))}}function fS(e,t,r,n){switch(Qj(t)){case 1:var a=kE;break;case 4:a=PE;break;default:a=d0}r=a.bind(null,t,r,e),a=void 0,!Nm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function pp(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Ja(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Ij(function(){var u=i,d=s0(r),f=[];e:{var h=uS.get(e);if(h!==void 0){var p=h0,m=e;switch(e){case"keypress":if(Ou(r)===0)break e;case"keydown":case"keyup":p=zE;break;case"focusin":m="focus",p=sp;break;case"focusout":m="blur",p=sp;break;case"beforeblur":case"afterblur":p=sp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Rx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=OE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=HE;break;case oS:case sS:case lS:p=$E;break;case cS:p=GE;break;case"scroll":p=CE;break;case"wheel":p=QE;break;case"copy":case"cut":case"paste":p=IE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Lx}var g=(t&4)!==0,v=!g&&e==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var b=u,x;b!==null;){x=b;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,y!==null&&(S=vl(b,y),S!=null&&g.push(Nl(b,S,x)))),v)break;b=b.return}0<g.length&&(h=new p(h,m,null,r,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==jm&&(m=r.relatedTarget||r.fromElement)&&(Ja(m)||m[zn]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?Ja(m):null,m!==null&&(v=ki(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=Rx,S="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=Lx,S="onPointerLeave",y="onPointerEnter",b="pointer"),v=p==null?h:Xi(p),x=m==null?h:Xi(m),h=new g(S,b+"leave",p,r,d),h.target=v,h.relatedTarget=x,S=null,Ja(d)===u&&(g=new g(y,b+"enter",m,r,d),g.target=x,g.relatedTarget=v,S=g),v=S,p&&m)t:{for(g=p,y=m,b=0,x=g;x;x=Mi(x))b++;for(x=0,S=y;S;S=Mi(S))x++;for(;0<b-x;)g=Mi(g),b--;for(;0<x-b;)y=Mi(y),x--;for(;b--;){if(g===y||y!==null&&g===y.alternate)break t;g=Mi(g),y=Mi(y)}g=null}else g=null;p!==null&&Qx(f,h,p,g,!1),m!==null&&v!==null&&Qx(f,v,m,g,!0)}}e:{if(h=u?Xi(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=rT;else if(Bx(h))if(tS)j=oT;else{j=aT;var w=nT}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=iT);if(j&&(j=j(e,u))){eS(f,j,r,d);break e}w&&w(e,h,u),e==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&vm(h,"number",h.value)}switch(w=u?Xi(u):window,e){case"focusin":(Bx(w)||w.contentEditable==="true")&&(Qi=w,Om=u,el=null);break;case"focusout":el=Om=Qi=null;break;case"mousedown":Em=!0;break;case"contextmenu":case"mouseup":case"dragend":Em=!1,Vx(f,r,d);break;case"selectionchange":if(cT)break;case"keydown":case"keyup":Vx(f,r,d)}var C;if(m0)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Ki?Jj(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Xj&&r.locale!=="ko"&&(Ki||k!=="onCompositionStart"?k==="onCompositionEnd"&&Ki&&(C=Yj()):(fa=d,f0="value"in fa?fa.value:fa.textContent,Ki=!0)),w=Ju(u,k),0<w.length&&(k=new Dx(k,e,null,r,d),f.push({event:k,listeners:w}),C?k.data=C:(C=Zj(r),C!==null&&(k.data=C)))),(C=XE?JE(e,r):ZE(e,r))&&(u=Ju(u,"onBeforeInput"),0<u.length&&(d=new Dx("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=C))}dS(f,t)})}function Nl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ju(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=vl(e,r),i!=null&&n.unshift(Nl(e,i,a)),i=vl(e,t),i!=null&&n.push(Nl(e,i,a))),e=e.return}return n}function Mi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qx(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=vl(r,i),c!=null&&o.unshift(Nl(r,c,l))):a||(c=vl(r,i),c!=null&&o.push(Nl(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var hT=/\r\n?/g,pT=/\u0000|\uFFFD/g;function Yx(e){return(typeof e=="string"?e:""+e).replace(hT,`
`).replace(pT,"")}function eu(e,t,r){if(t=Yx(t),Yx(e)!==t&&r)throw Error(ce(425))}function Zu(){}var Tm=null,$m=null;function Mm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Im=typeof setTimeout=="function"?setTimeout:void 0,mT=typeof clearTimeout=="function"?clearTimeout:void 0,Xx=typeof Promise=="function"?Promise:void 0,gT=typeof queueMicrotask=="function"?queueMicrotask:typeof Xx<"u"?function(e){return Xx.resolve(null).then(e).catch(yT)}:Im;function yT(e){setTimeout(function(){throw e})}function mp(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),wl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);wl(t)}function va(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Jx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var rs=Math.random().toString(36).slice(2),fn="__reactFiber$"+rs,kl="__reactProps$"+rs,zn="__reactContainer$"+rs,Rm="__reactEvents$"+rs,vT="__reactListeners$"+rs,xT="__reactHandles$"+rs;function Ja(e){var t=e[fn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[zn]||r[fn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Jx(e);e!==null;){if(r=e[fn])return r;e=Jx(e)}return t}e=r,r=e.parentNode}return null}function Sc(e){return e=e[fn]||e[zn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ce(33))}function Of(e){return e[kl]||null}var Dm=[],Ji=-1;function Ca(e){return{current:e}}function Ze(e){0>Ji||(e.current=Dm[Ji],Dm[Ji]=null,Ji--)}function Ke(e,t){Ji++,Dm[Ji]=e.current,e.current=t}var ka={},zt=Ca(ka),ar=Ca(!1),pi=ka;function wo(e,t){var r=e.type.contextTypes;if(!r)return ka;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ir(e){return e=e.childContextTypes,e!=null}function ed(){Ze(ar),Ze(zt)}function Zx(e,t,r){if(zt.current!==ka)throw Error(ce(168));Ke(zt,t),Ke(ar,r)}function hS(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ce(108,nE(e)||"Unknown",a));return ot({},r,n)}function td(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ka,pi=zt.current,Ke(zt,e),Ke(ar,ar.current),!0}function eb(e,t,r){var n=e.stateNode;if(!n)throw Error(ce(169));r?(e=hS(e,t,pi),n.__reactInternalMemoizedMergedChildContext=e,Ze(ar),Ze(zt),Ke(zt,e)):Ze(ar),Ke(ar,r)}var On=null,Ef=!1,gp=!1;function pS(e){On===null?On=[e]:On.push(e)}function bT(e){Ef=!0,pS(e)}function Aa(){if(!gp&&On!==null){gp=!0;var e=0,t=Le;try{var r=On;for(Le=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}On=null,Ef=!1}catch(a){throw On!==null&&(On=On.slice(e+1)),Uj(l0,Aa),a}finally{Le=t,gp=!1}}return null}var Zi=[],eo=0,rd=null,nd=0,Nr=[],kr=0,mi=null,En=1,Tn="";function za(e,t){Zi[eo++]=nd,Zi[eo++]=rd,rd=e,nd=t}function mS(e,t,r){Nr[kr++]=En,Nr[kr++]=Tn,Nr[kr++]=mi,mi=e;var n=En;e=Tn;var a=32-Zr(n)-1;n&=~(1<<a),r+=1;var i=32-Zr(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,En=1<<32-Zr(t)+a|r<<a|n,Tn=i+e}else En=1<<i|r<<a|n,Tn=e}function y0(e){e.return!==null&&(za(e,1),mS(e,1,0))}function v0(e){for(;e===rd;)rd=Zi[--eo],Zi[eo]=null,nd=Zi[--eo],Zi[eo]=null;for(;e===mi;)mi=Nr[--kr],Nr[kr]=null,Tn=Nr[--kr],Nr[kr]=null,En=Nr[--kr],Nr[kr]=null}var gr=null,mr=null,et=!1,Qr=null;function gS(e,t){var r=Ar(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function tb(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gr=e,mr=va(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gr=e,mr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=mi!==null?{id:En,overflow:Tn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ar(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,gr=e,mr=null,!0):!1;default:return!1}}function Lm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Um(e){if(et){var t=mr;if(t){var r=t;if(!tb(e,t)){if(Lm(e))throw Error(ce(418));t=va(r.nextSibling);var n=gr;t&&tb(e,t)?gS(n,r):(e.flags=e.flags&-4097|2,et=!1,gr=e)}}else{if(Lm(e))throw Error(ce(418));e.flags=e.flags&-4097|2,et=!1,gr=e}}}function rb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gr=e}function tu(e){if(e!==gr)return!1;if(!et)return rb(e),et=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Mm(e.type,e.memoizedProps)),t&&(t=mr)){if(Lm(e))throw yS(),Error(ce(418));for(;t;)gS(e,t),t=va(t.nextSibling)}if(rb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ce(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){mr=va(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}mr=null}}else mr=gr?va(e.stateNode.nextSibling):null;return!0}function yS(){for(var e=mr;e;)e=va(e.nextSibling)}function _o(){mr=gr=null,et=!1}function x0(e){Qr===null?Qr=[e]:Qr.push(e)}var wT=Qn.ReactCurrentBatchConfig;function As(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ce(309));var n=r.stateNode}if(!n)throw Error(ce(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ce(284));if(!r._owner)throw Error(ce(290,e))}return e}function ru(e,t){throw e=Object.prototype.toString.call(t),Error(ce(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nb(e){var t=e._init;return t(e._payload)}function vS(e){function t(y,b){if(e){var x=y.deletions;x===null?(y.deletions=[b],y.flags|=16):x.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=_a(y,b),y.index=0,y.sibling=null,y}function i(y,b,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<b?(y.flags|=2,b):x):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,b,x,S){return b===null||b.tag!==6?(b=jp(x,y.mode,S),b.return=y,b):(b=a(b,x),b.return=y,b)}function c(y,b,x,S){var j=x.type;return j===Gi?d(y,b,x.props.children,S,x.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ia&&nb(j)===b.type)?(S=a(b,x.props),S.ref=As(y,b,x),S.return=y,S):(S=Du(x.type,x.key,x.props,null,y.mode,S),S.ref=As(y,b,x),S.return=y,S)}function u(y,b,x,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=Sp(x,y.mode,S),b.return=y,b):(b=a(b,x.children||[]),b.return=y,b)}function d(y,b,x,S,j){return b===null||b.tag!==7?(b=ci(x,y.mode,S,j),b.return=y,b):(b=a(b,x),b.return=y,b)}function f(y,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=jp(""+b,y.mode,x),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Hc:return x=Du(b.type,b.key,b.props,null,y.mode,x),x.ref=As(y,null,b),x.return=y,x;case Vi:return b=Sp(b,y.mode,x),b.return=y,b;case ia:var S=b._init;return f(y,S(b._payload),x)}if(Hs(b)||Ss(b))return b=ci(b,y.mode,x,null),b.return=y,b;ru(y,b)}return null}function h(y,b,x,S){var j=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return j!==null?null:l(y,b,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Hc:return x.key===j?c(y,b,x,S):null;case Vi:return x.key===j?u(y,b,x,S):null;case ia:return j=x._init,h(y,b,j(x._payload),S)}if(Hs(x)||Ss(x))return j!==null?null:d(y,b,x,S,null);ru(y,x)}return null}function p(y,b,x,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(x)||null,l(b,y,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Hc:return y=y.get(S.key===null?x:S.key)||null,c(b,y,S,j);case Vi:return y=y.get(S.key===null?x:S.key)||null,u(b,y,S,j);case ia:var w=S._init;return p(y,b,x,w(S._payload),j)}if(Hs(S)||Ss(S))return y=y.get(x)||null,d(b,y,S,j,null);ru(b,S)}return null}function m(y,b,x,S){for(var j=null,w=null,C=b,k=b=0,N=null;C!==null&&k<x.length;k++){C.index>k?(N=C,C=null):N=C.sibling;var M=h(y,C,x[k],S);if(M===null){C===null&&(C=N);break}e&&C&&M.alternate===null&&t(y,C),b=i(M,b,k),w===null?j=M:w.sibling=M,w=M,C=N}if(k===x.length)return r(y,C),et&&za(y,k),j;if(C===null){for(;k<x.length;k++)C=f(y,x[k],S),C!==null&&(b=i(C,b,k),w===null?j=C:w.sibling=C,w=C);return et&&za(y,k),j}for(C=n(y,C);k<x.length;k++)N=p(C,y,k,x[k],S),N!==null&&(e&&N.alternate!==null&&C.delete(N.key===null?k:N.key),b=i(N,b,k),w===null?j=N:w.sibling=N,w=N);return e&&C.forEach(function(R){return t(y,R)}),et&&za(y,k),j}function g(y,b,x,S){var j=Ss(x);if(typeof j!="function")throw Error(ce(150));if(x=j.call(x),x==null)throw Error(ce(151));for(var w=j=null,C=b,k=b=0,N=null,M=x.next();C!==null&&!M.done;k++,M=x.next()){C.index>k?(N=C,C=null):N=C.sibling;var R=h(y,C,M.value,S);if(R===null){C===null&&(C=N);break}e&&C&&R.alternate===null&&t(y,C),b=i(R,b,k),w===null?j=R:w.sibling=R,w=R,C=N}if(M.done)return r(y,C),et&&za(y,k),j;if(C===null){for(;!M.done;k++,M=x.next())M=f(y,M.value,S),M!==null&&(b=i(M,b,k),w===null?j=M:w.sibling=M,w=M);return et&&za(y,k),j}for(C=n(y,C);!M.done;k++,M=x.next())M=p(C,y,k,M.value,S),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?k:M.key),b=i(M,b,k),w===null?j=M:w.sibling=M,w=M);return e&&C.forEach(function(B){return t(y,B)}),et&&za(y,k),j}function v(y,b,x,S){if(typeof x=="object"&&x!==null&&x.type===Gi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Hc:e:{for(var j=x.key,w=b;w!==null;){if(w.key===j){if(j=x.type,j===Gi){if(w.tag===7){r(y,w.sibling),b=a(w,x.props.children),b.return=y,y=b;break e}}else if(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ia&&nb(j)===w.type){r(y,w.sibling),b=a(w,x.props),b.ref=As(y,w,x),b.return=y,y=b;break e}r(y,w);break}else t(y,w);w=w.sibling}x.type===Gi?(b=ci(x.props.children,y.mode,S,x.key),b.return=y,y=b):(S=Du(x.type,x.key,x.props,null,y.mode,S),S.ref=As(y,b,x),S.return=y,y=S)}return o(y);case Vi:e:{for(w=x.key;b!==null;){if(b.key===w)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){r(y,b.sibling),b=a(b,x.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=Sp(x,y.mode,S),b.return=y,y=b}return o(y);case ia:return w=x._init,v(y,b,w(x._payload),S)}if(Hs(x))return m(y,b,x,S);if(Ss(x))return g(y,b,x,S);ru(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(r(y,b.sibling),b=a(b,x),b.return=y,y=b):(r(y,b),b=jp(x,y.mode,S),b.return=y,y=b),o(y)):r(y,b)}return v}var jo=vS(!0),xS=vS(!1),ad=Ca(null),id=null,to=null,b0=null;function w0(){b0=to=id=null}function _0(e){var t=ad.current;Ze(ad),e._currentValue=t}function Fm(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function mo(e,t){id=e,b0=to=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rr=!0),e.firstContext=null)}function Tr(e){var t=e._currentValue;if(b0!==e)if(e={context:e,memoizedValue:t,next:null},to===null){if(id===null)throw Error(ce(308));to=e,id.dependencies={lanes:0,firstContext:e}}else to=to.next=e;return t}var Za=null;function j0(e){Za===null?Za=[e]:Za.push(e)}function bS(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,j0(t)):(r.next=a.next,a.next=r),t.interleaved=r,qn(e,n)}function qn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var oa=!1;function S0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xa(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Te&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,qn(e,r)}return a=n.interleaved,a===null?(t.next=t,j0(n)):(t.next=a.next,a.next=t),n.interleaved=t,qn(e,r)}function Eu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,c0(e,r)}}function ab(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function od(e,t,r,n){var a=e.updateQueue;oa=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,g=l;switch(h=t,p=r,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=ot({},f,h);break e;case 2:oa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);yi|=o,e.lanes=o,e.memoizedState=f}}function ib(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ce(191,a));a.call(n)}}}var Nc={},mn=Ca(Nc),Pl=Ca(Nc),Cl=Ca(Nc);function ei(e){if(e===Nc)throw Error(ce(174));return e}function N0(e,t){switch(Ke(Cl,t),Ke(Pl,e),Ke(mn,Nc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bm(t,e)}Ze(mn),Ke(mn,t)}function So(){Ze(mn),Ze(Pl),Ze(Cl)}function _S(e){ei(Cl.current);var t=ei(mn.current),r=bm(t,e.type);t!==r&&(Ke(Pl,e),Ke(mn,r))}function k0(e){Pl.current===e&&(Ze(mn),Ze(Pl))}var at=Ca(0);function sd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yp=[];function P0(){for(var e=0;e<yp.length;e++)yp[e]._workInProgressVersionPrimary=null;yp.length=0}var Tu=Qn.ReactCurrentDispatcher,vp=Qn.ReactCurrentBatchConfig,gi=0,it=null,yt=null,kt=null,ld=!1,tl=!1,Al=0,_T=0;function It(){throw Error(ce(321))}function C0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!rn(e[r],t[r]))return!1;return!0}function A0(e,t,r,n,a,i){if(gi=i,it=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Tu.current=e===null||e.memoizedState===null?kT:PT,e=r(n,a),tl){i=0;do{if(tl=!1,Al=0,25<=i)throw Error(ce(301));i+=1,kt=yt=null,t.updateQueue=null,Tu.current=CT,e=r(n,a)}while(tl)}if(Tu.current=cd,t=yt!==null&&yt.next!==null,gi=0,kt=yt=it=null,ld=!1,t)throw Error(ce(300));return e}function O0(){var e=Al!==0;return Al=0,e}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?it.memoizedState=kt=e:kt=kt.next=e,kt}function $r(){if(yt===null){var e=it.alternate;e=e!==null?e.memoizedState:null}else e=yt.next;var t=kt===null?it.memoizedState:kt.next;if(t!==null)kt=t,yt=e;else{if(e===null)throw Error(ce(310));yt=e,e={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},kt===null?it.memoizedState=kt=e:kt=kt.next=e}return kt}function Ol(e,t){return typeof t=="function"?t(e):t}function xp(e){var t=$r(),r=t.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=e;var n=yt,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((gi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,it.lanes|=d,yi|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,rn(n,t.memoizedState)||(rr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,it.lanes|=i,yi|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function bp(e){var t=$r(),r=t.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);rn(i,t.memoizedState)||(rr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function jS(){}function SS(e,t){var r=it,n=$r(),a=t(),i=!rn(n.memoizedState,a);if(i&&(n.memoizedState=a,rr=!0),n=n.queue,E0(PS.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||kt!==null&&kt.memoizedState.tag&1){if(r.flags|=2048,El(9,kS.bind(null,r,n,a,t),void 0,null),Pt===null)throw Error(ce(349));gi&30||NS(r,t,a)}return a}function NS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=it.updateQueue,t===null?(t={lastEffect:null,stores:null},it.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function kS(e,t,r,n){t.value=r,t.getSnapshot=n,CS(t)&&AS(e)}function PS(e,t,r){return r(function(){CS(t)&&AS(e)})}function CS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!rn(e,r)}catch{return!0}}function AS(e){var t=qn(e,1);t!==null&&en(t,e,1,-1)}function ob(e){var t=ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ol,lastRenderedState:e},t.queue=e,e=e.dispatch=NT.bind(null,it,e),[t.memoizedState,e]}function El(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=it.updateQueue,t===null?(t={lastEffect:null,stores:null},it.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function OS(){return $r().memoizedState}function $u(e,t,r,n){var a=ln();it.flags|=e,a.memoizedState=El(1|t,r,void 0,n===void 0?null:n)}function Tf(e,t,r,n){var a=$r();n=n===void 0?null:n;var i=void 0;if(yt!==null){var o=yt.memoizedState;if(i=o.destroy,n!==null&&C0(n,o.deps)){a.memoizedState=El(t,r,i,n);return}}it.flags|=e,a.memoizedState=El(1|t,r,i,n)}function sb(e,t){return $u(8390656,8,e,t)}function E0(e,t){return Tf(2048,8,e,t)}function ES(e,t){return Tf(4,2,e,t)}function TS(e,t){return Tf(4,4,e,t)}function $S(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function MS(e,t,r){return r=r!=null?r.concat([e]):null,Tf(4,4,$S.bind(null,t,e),r)}function T0(){}function IS(e,t){var r=$r();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&C0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function RS(e,t){var r=$r();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&C0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function DS(e,t,r){return gi&21?(rn(r,t)||(r=zj(),it.lanes|=r,yi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rr=!0),e.memoizedState=r)}function jT(e,t){var r=Le;Le=r!==0&&4>r?r:4,e(!0);var n=vp.transition;vp.transition={};try{e(!1),t()}finally{Le=r,vp.transition=n}}function LS(){return $r().memoizedState}function ST(e,t,r){var n=wa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},US(e))FS(t,r);else if(r=bS(e,t,r,n),r!==null){var a=Yt();en(r,e,n,a),BS(r,t,n)}}function NT(e,t,r){var n=wa(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(US(e))FS(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,rn(l,o)){var c=t.interleaved;c===null?(a.next=a,j0(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=bS(e,t,a,n),r!==null&&(a=Yt(),en(r,e,n,a),BS(r,t,n))}}function US(e){var t=e.alternate;return e===it||t!==null&&t===it}function FS(e,t){tl=ld=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function BS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,c0(e,r)}}var cd={readContext:Tr,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},kT={readContext:Tr,useCallback:function(e,t){return ln().memoizedState=[e,t===void 0?null:t],e},useContext:Tr,useEffect:sb,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,$u(4194308,4,$S.bind(null,t,e),r)},useLayoutEffect:function(e,t){return $u(4194308,4,e,t)},useInsertionEffect:function(e,t){return $u(4,2,e,t)},useMemo:function(e,t){var r=ln();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ln();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ST.bind(null,it,e),[n.memoizedState,e]},useRef:function(e){var t=ln();return e={current:e},t.memoizedState=e},useState:ob,useDebugValue:T0,useDeferredValue:function(e){return ln().memoizedState=e},useTransition:function(){var e=ob(!1),t=e[0];return e=jT.bind(null,e[1]),ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=it,a=ln();if(et){if(r===void 0)throw Error(ce(407));r=r()}else{if(r=t(),Pt===null)throw Error(ce(349));gi&30||NS(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,sb(PS.bind(null,n,i,e),[e]),n.flags|=2048,El(9,kS.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ln(),t=Pt.identifierPrefix;if(et){var r=Tn,n=En;r=(n&~(1<<32-Zr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Al++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=_T++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},PT={readContext:Tr,useCallback:IS,useContext:Tr,useEffect:E0,useImperativeHandle:MS,useInsertionEffect:ES,useLayoutEffect:TS,useMemo:RS,useReducer:xp,useRef:OS,useState:function(){return xp(Ol)},useDebugValue:T0,useDeferredValue:function(e){var t=$r();return DS(t,yt.memoizedState,e)},useTransition:function(){var e=xp(Ol)[0],t=$r().memoizedState;return[e,t]},useMutableSource:jS,useSyncExternalStore:SS,useId:LS,unstable_isNewReconciler:!1},CT={readContext:Tr,useCallback:IS,useContext:Tr,useEffect:E0,useImperativeHandle:MS,useInsertionEffect:ES,useLayoutEffect:TS,useMemo:RS,useReducer:bp,useRef:OS,useState:function(){return bp(Ol)},useDebugValue:T0,useDeferredValue:function(e){var t=$r();return yt===null?t.memoizedState=e:DS(t,yt.memoizedState,e)},useTransition:function(){var e=bp(Ol)[0],t=$r().memoizedState;return[e,t]},useMutableSource:jS,useSyncExternalStore:SS,useId:LS,unstable_isNewReconciler:!1};function qr(e,t){if(e&&e.defaultProps){t=ot({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Bm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ot({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var $f={isMounted:function(e){return(e=e._reactInternals)?ki(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Yt(),a=wa(e),i=Rn(n,a);i.payload=t,r!=null&&(i.callback=r),t=xa(e,i,a),t!==null&&(en(t,e,a,n),Eu(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Yt(),a=wa(e),i=Rn(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=xa(e,i,a),t!==null&&(en(t,e,a,n),Eu(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Yt(),n=wa(e),a=Rn(r,n);a.tag=2,t!=null&&(a.callback=t),t=xa(e,a,n),t!==null&&(en(t,e,n,r),Eu(t,e,n))}};function lb(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!jl(r,n)||!jl(a,i):!0}function zS(e,t,r){var n=!1,a=ka,i=t.contextType;return typeof i=="object"&&i!==null?i=Tr(i):(a=ir(t)?pi:zt.current,n=t.contextTypes,i=(n=n!=null)?wo(e,a):ka),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$f,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function cb(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&$f.enqueueReplaceState(t,t.state,null)}function zm(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},S0(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Tr(i):(i=ir(t)?pi:zt.current,a.context=wo(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Bm(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&$f.enqueueReplaceState(a,a.state,null),od(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function No(e,t){try{var r="",n=t;do r+=rE(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function wp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function qm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var AT=typeof WeakMap=="function"?WeakMap:Map;function qS(e,t,r){r=Rn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){dd||(dd=!0,Zm=n),qm(e,t)},r}function WS(e,t,r){r=Rn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){qm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){qm(e,t),typeof n!="function"&&(ba===null?ba=new Set([this]):ba.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function ub(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new AT;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=qT.bind(null,e,t,r),t.then(e,e))}function db(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fb(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Rn(-1,1),t.tag=2,xa(r,t,1))),r.lanes|=1),e)}var OT=Qn.ReactCurrentOwner,rr=!1;function Vt(e,t,r,n){t.child=e===null?xS(t,null,r,n):jo(t,e.child,r,n)}function hb(e,t,r,n,a){r=r.render;var i=t.ref;return mo(t,a),n=A0(e,t,r,n,i,a),r=O0(),e!==null&&!rr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wn(e,t,a)):(et&&r&&y0(t),t.flags|=1,Vt(e,t,n,a),t.child)}function pb(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!F0(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,HS(e,t,i,n,a)):(e=Du(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:jl,r(o,n)&&e.ref===t.ref)return Wn(e,t,a)}return t.flags|=1,e=_a(i,n),e.ref=t.ref,e.return=t,t.child=e}function HS(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(jl(i,n)&&e.ref===t.ref)if(rr=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(rr=!0);else return t.lanes=e.lanes,Wn(e,t,a)}return Wm(e,t,r,n,a)}function VS(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(no,dr),dr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ke(no,dr),dr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ke(no,dr),dr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ke(no,dr),dr|=n;return Vt(e,t,a,r),t.child}function GS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Wm(e,t,r,n,a){var i=ir(r)?pi:zt.current;return i=wo(t,i),mo(t,a),r=A0(e,t,r,n,i,a),n=O0(),e!==null&&!rr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wn(e,t,a)):(et&&n&&y0(t),t.flags|=1,Vt(e,t,r,a),t.child)}function mb(e,t,r,n,a){if(ir(r)){var i=!0;td(t)}else i=!1;if(mo(t,a),t.stateNode===null)Mu(e,t),zS(t,r,n),zm(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Tr(u):(u=ir(r)?pi:zt.current,u=wo(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&cb(t,o,n,u),oa=!1;var h=t.memoizedState;o.state=h,od(t,n,o,a),c=t.memoizedState,l!==n||h!==c||ar.current||oa?(typeof d=="function"&&(Bm(t,r,d,n),c=t.memoizedState),(l=oa||lb(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,wS(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:qr(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Tr(c):(c=ir(r)?pi:zt.current,c=wo(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&cb(t,o,n,c),oa=!1,h=t.memoizedState,o.state=h,od(t,n,o,a);var m=t.memoizedState;l!==f||h!==m||ar.current||oa?(typeof p=="function"&&(Bm(t,r,p,n),m=t.memoizedState),(u=oa||lb(t,r,u,n,h,m,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),o.props=n,o.state=m,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Hm(e,t,r,n,i,a)}function Hm(e,t,r,n,a,i){GS(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&eb(t,r,!1),Wn(e,t,i);n=t.stateNode,OT.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=jo(t,e.child,null,i),t.child=jo(t,null,l,i)):Vt(e,t,l,i),t.memoizedState=n.state,a&&eb(t,r,!0),t.child}function KS(e){var t=e.stateNode;t.pendingContext?Zx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zx(e,t.context,!1),N0(e,t.containerInfo)}function gb(e,t,r,n,a){return _o(),x0(a),t.flags|=256,Vt(e,t,r,n),t.child}var Vm={dehydrated:null,treeContext:null,retryLane:0};function Gm(e){return{baseLanes:e,cachePool:null,transitions:null}}function QS(e,t,r){var n=t.pendingProps,a=at.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ke(at,a&1),e===null)return Um(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Rf(o,n,0,null),e=ci(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Gm(r),t.memoizedState=Vm,e):$0(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return ET(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=_a(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=_a(l,i):(i=ci(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Gm(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Vm,n}return i=e.child,e=i.sibling,n=_a(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function $0(e,t){return t=Rf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function nu(e,t,r,n){return n!==null&&x0(n),jo(t,e.child,null,r),e=$0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ET(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=wp(Error(ce(422))),nu(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Rf({mode:"visible",children:n.children},a,0,null),i=ci(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&jo(t,e.child,null,o),t.child.memoizedState=Gm(o),t.memoizedState=Vm,i);if(!(t.mode&1))return nu(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ce(419)),n=wp(i,n,void 0),nu(e,t,o,n)}if(l=(o&e.childLanes)!==0,rr||l){if(n=Pt,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,qn(e,a),en(n,e,a,-1))}return U0(),n=wp(Error(ce(421))),nu(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=WT.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,mr=va(a.nextSibling),gr=t,et=!0,Qr=null,e!==null&&(Nr[kr++]=En,Nr[kr++]=Tn,Nr[kr++]=mi,En=e.id,Tn=e.overflow,mi=t),t=$0(t,n.children),t.flags|=4096,t)}function yb(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Fm(e.return,t,r)}function _p(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function YS(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Vt(e,t,n.children,r),n=at.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yb(e,r,t);else if(e.tag===19)yb(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ke(at,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&sd(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),_p(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&sd(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}_p(t,!0,r,null,i);break;case"together":_p(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Mu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),yi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ce(153));if(t.child!==null){for(e=t.child,r=_a(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=_a(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function TT(e,t,r){switch(t.tag){case 3:KS(t),_o();break;case 5:_S(t);break;case 1:ir(t.type)&&td(t);break;case 4:N0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Ke(ad,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ke(at,at.current&1),t.flags|=128,null):r&t.child.childLanes?QS(e,t,r):(Ke(at,at.current&1),e=Wn(e,t,r),e!==null?e.sibling:null);Ke(at,at.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return YS(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ke(at,at.current),n)break;return null;case 22:case 23:return t.lanes=0,VS(e,t,r)}return Wn(e,t,r)}var XS,Km,JS,ZS;XS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Km=function(){};JS=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ei(mn.current);var i=null;switch(r){case"input":a=gm(e,a),n=gm(e,n),i=[];break;case"select":a=ot({},a,{value:void 0}),n=ot({},n,{value:void 0}),i=[];break;case"textarea":a=xm(e,a),n=xm(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Zu)}wm(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(gl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(gl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ye("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};ZS=function(e,t,r,n){r!==n&&(t.flags|=4)};function Os(e,t){if(!et)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function $T(e,t,r){var n=t.pendingProps;switch(v0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return ir(t.type)&&ed(),Rt(t),null;case 3:return n=t.stateNode,So(),Ze(ar),Ze(zt),P0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(tu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qr!==null&&(rg(Qr),Qr=null))),Km(e,t),Rt(t),null;case 5:k0(t);var a=ei(Cl.current);if(r=t.type,e!==null&&t.stateNode!=null)JS(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ce(166));return Rt(t),null}if(e=ei(mn.current),tu(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[fn]=t,n[kl]=i,e=(t.mode&1)!==0,r){case"dialog":Ye("cancel",n),Ye("close",n);break;case"iframe":case"object":case"embed":Ye("load",n);break;case"video":case"audio":for(a=0;a<Gs.length;a++)Ye(Gs[a],n);break;case"source":Ye("error",n);break;case"img":case"image":case"link":Ye("error",n),Ye("load",n);break;case"details":Ye("toggle",n);break;case"input":kx(n,i),Ye("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ye("invalid",n);break;case"textarea":Cx(n,i),Ye("invalid",n)}wm(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&eu(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&eu(n.textContent,l,e),a=["children",""+l]):gl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ye("scroll",n)}switch(r){case"input":Vc(n),Px(n,i,!0);break;case"textarea":Vc(n),Ax(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Zu)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Pj(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[fn]=t,e[kl]=n,XS(e,t,!1,!1),t.stateNode=e;e:{switch(o=_m(r,n),r){case"dialog":Ye("cancel",e),Ye("close",e),a=n;break;case"iframe":case"object":case"embed":Ye("load",e),a=n;break;case"video":case"audio":for(a=0;a<Gs.length;a++)Ye(Gs[a],e);a=n;break;case"source":Ye("error",e),a=n;break;case"img":case"image":case"link":Ye("error",e),Ye("load",e),a=n;break;case"details":Ye("toggle",e),a=n;break;case"input":kx(e,n),a=gm(e,n),Ye("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=ot({},n,{value:void 0}),Ye("invalid",e);break;case"textarea":Cx(e,n),a=xm(e,n),Ye("invalid",e);break;default:a=n}wm(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Oj(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Cj(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&yl(e,c):typeof c=="number"&&yl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(gl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ye("scroll",e):c!=null&&n0(e,i,c,o))}switch(r){case"input":Vc(e),Px(e,n,!1);break;case"textarea":Vc(e),Ax(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Na(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?uo(e,!!n.multiple,i,!1):n.defaultValue!=null&&uo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Zu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rt(t),null;case 6:if(e&&t.stateNode!=null)ZS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ce(166));if(r=ei(Cl.current),ei(mn.current),tu(t)){if(n=t.stateNode,r=t.memoizedProps,n[fn]=t,(i=n.nodeValue!==r)&&(e=gr,e!==null))switch(e.tag){case 3:eu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&eu(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[fn]=t,t.stateNode=n}return Rt(t),null;case 13:if(Ze(at),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(et&&mr!==null&&t.mode&1&&!(t.flags&128))yS(),_o(),t.flags|=98560,i=!1;else if(i=tu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ce(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ce(317));i[fn]=t}else _o(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rt(t),i=!1}else Qr!==null&&(rg(Qr),Qr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||at.current&1?bt===0&&(bt=3):U0())),t.updateQueue!==null&&(t.flags|=4),Rt(t),null);case 4:return So(),Km(e,t),e===null&&Sl(t.stateNode.containerInfo),Rt(t),null;case 10:return _0(t.type._context),Rt(t),null;case 17:return ir(t.type)&&ed(),Rt(t),null;case 19:if(Ze(at),i=t.memoizedState,i===null)return Rt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Os(i,!1);else{if(bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=sd(e),o!==null){for(t.flags|=128,Os(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ke(at,at.current&1|2),t.child}e=e.sibling}i.tail!==null&&ct()>ko&&(t.flags|=128,n=!0,Os(i,!1),t.lanes=4194304)}else{if(!n)if(e=sd(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Os(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!et)return Rt(t),null}else 2*ct()-i.renderingStartTime>ko&&r!==1073741824&&(t.flags|=128,n=!0,Os(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ct(),t.sibling=null,r=at.current,Ke(at,n?r&1|2:r&1),t):(Rt(t),null);case 22:case 23:return L0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?dr&1073741824&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),null;case 24:return null;case 25:return null}throw Error(ce(156,t.tag))}function MT(e,t){switch(v0(t),t.tag){case 1:return ir(t.type)&&ed(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return So(),Ze(ar),Ze(zt),P0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return k0(t),null;case 13:if(Ze(at),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ce(340));_o()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ze(at),null;case 4:return So(),null;case 10:return _0(t.type._context),null;case 22:case 23:return L0(),null;case 24:return null;default:return null}}var au=!1,Ut=!1,IT=typeof WeakSet=="function"?WeakSet:Set,pe=null;function ro(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){st(e,t,n)}else r.current=null}function Qm(e,t,r){try{r()}catch(n){st(e,t,n)}}var vb=!1;function RT(e,t){if(Tm=Yu,e=aS(),g0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for($m={focusedElem:e,selectionRange:r},Yu=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:qr(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(S){st(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return m=vb,vb=!1,m}function rl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Qm(t,r,i)}a=a.next}while(a!==n)}}function Mf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ym(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function eN(e){var t=e.alternate;t!==null&&(e.alternate=null,eN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fn],delete t[kl],delete t[Rm],delete t[vT],delete t[xT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tN(e){return e.tag===5||e.tag===3||e.tag===4}function xb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Zu));else if(n!==4&&(e=e.child,e!==null))for(Xm(e,t,r),e=e.sibling;e!==null;)Xm(e,t,r),e=e.sibling}function Jm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Jm(e,t,r),e=e.sibling;e!==null;)Jm(e,t,r),e=e.sibling}var Et=null,Wr=!1;function ra(e,t,r){for(r=r.child;r!==null;)rN(e,t,r),r=r.sibling}function rN(e,t,r){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(kf,r)}catch{}switch(r.tag){case 5:Ut||ro(r,t);case 6:var n=Et,a=Wr;Et=null,ra(e,t,r),Et=n,Wr=a,Et!==null&&(Wr?(e=Et,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Et.removeChild(r.stateNode));break;case 18:Et!==null&&(Wr?(e=Et,r=r.stateNode,e.nodeType===8?mp(e.parentNode,r):e.nodeType===1&&mp(e,r),wl(e)):mp(Et,r.stateNode));break;case 4:n=Et,a=Wr,Et=r.stateNode.containerInfo,Wr=!0,ra(e,t,r),Et=n,Wr=a;break;case 0:case 11:case 14:case 15:if(!Ut&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Qm(r,t,o),a=a.next}while(a!==n)}ra(e,t,r);break;case 1:if(!Ut&&(ro(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){st(r,t,l)}ra(e,t,r);break;case 21:ra(e,t,r);break;case 22:r.mode&1?(Ut=(n=Ut)||r.memoizedState!==null,ra(e,t,r),Ut=n):ra(e,t,r);break;default:ra(e,t,r)}}function bb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new IT),t.forEach(function(n){var a=HT.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Ur(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Et=l.stateNode,Wr=!1;break e;case 3:Et=l.stateNode.containerInfo,Wr=!0;break e;case 4:Et=l.stateNode.containerInfo,Wr=!0;break e}l=l.return}if(Et===null)throw Error(ce(160));rN(i,o,a),Et=null,Wr=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){st(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)nN(t,e),t=t.sibling}function nN(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ur(t,e),sn(e),n&4){try{rl(3,e,e.return),Mf(3,e)}catch(g){st(e,e.return,g)}try{rl(5,e,e.return)}catch(g){st(e,e.return,g)}}break;case 1:Ur(t,e),sn(e),n&512&&r!==null&&ro(r,r.return);break;case 5:if(Ur(t,e),sn(e),n&512&&r!==null&&ro(r,r.return),e.flags&32){var a=e.stateNode;try{yl(a,"")}catch(g){st(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Nj(a,i),_m(l,o);var u=_m(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?Oj(a,f):d==="dangerouslySetInnerHTML"?Cj(a,f):d==="children"?yl(a,f):n0(a,d,f,u)}switch(l){case"input":ym(a,i);break;case"textarea":kj(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?uo(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?uo(a,!!i.multiple,i.defaultValue,!0):uo(a,!!i.multiple,i.multiple?[]:"",!1))}a[kl]=i}catch(g){st(e,e.return,g)}}break;case 6:if(Ur(t,e),sn(e),n&4){if(e.stateNode===null)throw Error(ce(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){st(e,e.return,g)}}break;case 3:if(Ur(t,e),sn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{wl(t.containerInfo)}catch(g){st(e,e.return,g)}break;case 4:Ur(t,e),sn(e);break;case 13:Ur(t,e),sn(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(R0=ct())),n&4&&bb(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ut=(u=Ut)||d,Ur(t,e),Ut=u):Ur(t,e),sn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(pe=e,d=e.child;d!==null;){for(f=pe=d;pe!==null;){switch(h=pe,p=h.child,h.tag){case 0:case 11:case 14:case 15:rl(4,h,h.return);break;case 1:ro(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){st(n,r,g)}}break;case 5:ro(h,h.return);break;case 22:if(h.memoizedState!==null){_b(f);continue}}p!==null?(p.return=h,pe=p):_b(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Aj("display",o))}catch(g){st(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){st(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ur(t,e),sn(e),n&4&&bb(e);break;case 21:break;default:Ur(t,e),sn(e)}}function sn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(tN(r)){var n=r;break e}r=r.return}throw Error(ce(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(yl(a,""),n.flags&=-33);var i=xb(e);Jm(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=xb(e);Xm(e,l,o);break;default:throw Error(ce(161))}}catch(c){st(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function DT(e,t,r){pe=e,aN(e)}function aN(e,t,r){for(var n=(e.mode&1)!==0;pe!==null;){var a=pe,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||au;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Ut;l=au;var u=Ut;if(au=o,(Ut=c)&&!u)for(pe=a;pe!==null;)o=pe,c=o.child,o.tag===22&&o.memoizedState!==null?jb(a):c!==null?(c.return=o,pe=c):jb(a);for(;i!==null;)pe=i,aN(i),i=i.sibling;pe=a,au=l,Ut=u}wb(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,pe=i):wb(e)}}function wb(e){for(;pe!==null;){var t=pe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ut||Mf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ut)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:qr(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ib(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ib(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&wl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}Ut||t.flags&512&&Ym(t)}catch(h){st(t,t.return,h)}}if(t===e){pe=null;break}if(r=t.sibling,r!==null){r.return=t.return,pe=r;break}pe=t.return}}function _b(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,pe=r;break}pe=t.return}}function jb(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Mf(4,t)}catch(c){st(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){st(t,a,c)}}var i=t.return;try{Ym(t)}catch(c){st(t,i,c)}break;case 5:var o=t.return;try{Ym(t)}catch(c){st(t,o,c)}}}catch(c){st(t,t.return,c)}if(t===e){pe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,pe=l;break}pe=t.return}}var LT=Math.ceil,ud=Qn.ReactCurrentDispatcher,M0=Qn.ReactCurrentOwner,Er=Qn.ReactCurrentBatchConfig,Te=0,Pt=null,dt=null,$t=0,dr=0,no=Ca(0),bt=0,Tl=null,yi=0,If=0,I0=0,nl=null,Zt=null,R0=0,ko=1/0,Pn=null,dd=!1,Zm=null,ba=null,iu=!1,ha=null,fd=0,al=0,eg=null,Iu=-1,Ru=0;function Yt(){return Te&6?ct():Iu!==-1?Iu:Iu=ct()}function wa(e){return e.mode&1?Te&2&&$t!==0?$t&-$t:wT.transition!==null?(Ru===0&&(Ru=zj()),Ru):(e=Le,e!==0||(e=window.event,e=e===void 0?16:Qj(e.type)),e):1}function en(e,t,r,n){if(50<al)throw al=0,eg=null,Error(ce(185));_c(e,r,n),(!(Te&2)||e!==Pt)&&(e===Pt&&(!(Te&2)&&(If|=r),bt===4&&ca(e,$t)),or(e,n),r===1&&Te===0&&!(t.mode&1)&&(ko=ct()+500,Ef&&Aa()))}function or(e,t){var r=e.callbackNode;wE(e,t);var n=Qu(e,e===Pt?$t:0);if(n===0)r!==null&&Tx(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Tx(r),t===1)e.tag===0?bT(Sb.bind(null,e)):pS(Sb.bind(null,e)),gT(function(){!(Te&6)&&Aa()}),r=null;else{switch(qj(n)){case 1:r=l0;break;case 4:r=Fj;break;case 16:r=Ku;break;case 536870912:r=Bj;break;default:r=Ku}r=fN(r,iN.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function iN(e,t){if(Iu=-1,Ru=0,Te&6)throw Error(ce(327));var r=e.callbackNode;if(go()&&e.callbackNode!==r)return null;var n=Qu(e,e===Pt?$t:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=hd(e,n);else{t=n;var a=Te;Te|=2;var i=sN();(Pt!==e||$t!==t)&&(Pn=null,ko=ct()+500,li(e,t));do try{BT();break}catch(l){oN(e,l)}while(!0);w0(),ud.current=i,Te=a,dt!==null?t=0:(Pt=null,$t=0,t=bt)}if(t!==0){if(t===2&&(a=Pm(e),a!==0&&(n=a,t=tg(e,a))),t===1)throw r=Tl,li(e,0),ca(e,n),or(e,ct()),r;if(t===6)ca(e,n);else{if(a=e.current.alternate,!(n&30)&&!UT(a)&&(t=hd(e,n),t===2&&(i=Pm(e),i!==0&&(n=i,t=tg(e,i))),t===1))throw r=Tl,li(e,0),ca(e,n),or(e,ct()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ce(345));case 2:qa(e,Zt,Pn);break;case 3:if(ca(e,n),(n&130023424)===n&&(t=R0+500-ct(),10<t)){if(Qu(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Yt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Im(qa.bind(null,e,Zt,Pn),t);break}qa(e,Zt,Pn);break;case 4:if(ca(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Zr(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=ct()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*LT(n/1960))-n,10<n){e.timeoutHandle=Im(qa.bind(null,e,Zt,Pn),n);break}qa(e,Zt,Pn);break;case 5:qa(e,Zt,Pn);break;default:throw Error(ce(329))}}}return or(e,ct()),e.callbackNode===r?iN.bind(null,e):null}function tg(e,t){var r=nl;return e.current.memoizedState.isDehydrated&&(li(e,t).flags|=256),e=hd(e,t),e!==2&&(t=Zt,Zt=r,t!==null&&rg(t)),e}function rg(e){Zt===null?Zt=e:Zt.push.apply(Zt,e)}function UT(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!rn(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ca(e,t){for(t&=~I0,t&=~If,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Zr(t),n=1<<r;e[r]=-1,t&=~n}}function Sb(e){if(Te&6)throw Error(ce(327));go();var t=Qu(e,0);if(!(t&1))return or(e,ct()),null;var r=hd(e,t);if(e.tag!==0&&r===2){var n=Pm(e);n!==0&&(t=n,r=tg(e,n))}if(r===1)throw r=Tl,li(e,0),ca(e,t),or(e,ct()),r;if(r===6)throw Error(ce(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qa(e,Zt,Pn),or(e,ct()),null}function D0(e,t){var r=Te;Te|=1;try{return e(t)}finally{Te=r,Te===0&&(ko=ct()+500,Ef&&Aa())}}function vi(e){ha!==null&&ha.tag===0&&!(Te&6)&&go();var t=Te;Te|=1;var r=Er.transition,n=Le;try{if(Er.transition=null,Le=1,e)return e()}finally{Le=n,Er.transition=r,Te=t,!(Te&6)&&Aa()}}function L0(){dr=no.current,Ze(no)}function li(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,mT(r)),dt!==null)for(r=dt.return;r!==null;){var n=r;switch(v0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ed();break;case 3:So(),Ze(ar),Ze(zt),P0();break;case 5:k0(n);break;case 4:So();break;case 13:Ze(at);break;case 19:Ze(at);break;case 10:_0(n.type._context);break;case 22:case 23:L0()}r=r.return}if(Pt=e,dt=e=_a(e.current,null),$t=dr=t,bt=0,Tl=null,I0=If=yi=0,Zt=nl=null,Za!==null){for(t=0;t<Za.length;t++)if(r=Za[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Za=null}return e}function oN(e,t){do{var r=dt;try{if(w0(),Tu.current=cd,ld){for(var n=it.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ld=!1}if(gi=0,kt=yt=it=null,tl=!1,Al=0,M0.current=null,r===null||r.return===null){bt=1,Tl=t,dt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=$t,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=db(o);if(p!==null){p.flags&=-257,fb(p,o,l,i,t),p.mode&1&&ub(i,u,t),t=p,c=u;var m=t.updateQueue;if(m===null){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}else{if(!(t&1)){ub(i,u,t),U0();break e}c=Error(ce(426))}}else if(et&&l.mode&1){var v=db(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),fb(v,o,l,i,t),x0(No(c,l));break e}}i=c=No(c,l),bt!==4&&(bt=2),nl===null?nl=[i]:nl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=qS(i,c,t);ab(i,y);break e;case 1:l=c;var b=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ba===null||!ba.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=WS(i,l,t);ab(i,S);break e}}i=i.return}while(i!==null)}cN(r)}catch(j){t=j,dt===r&&r!==null&&(dt=r=r.return);continue}break}while(!0)}function sN(){var e=ud.current;return ud.current=cd,e===null?cd:e}function U0(){(bt===0||bt===3||bt===2)&&(bt=4),Pt===null||!(yi&268435455)&&!(If&268435455)||ca(Pt,$t)}function hd(e,t){var r=Te;Te|=2;var n=sN();(Pt!==e||$t!==t)&&(Pn=null,li(e,t));do try{FT();break}catch(a){oN(e,a)}while(!0);if(w0(),Te=r,ud.current=n,dt!==null)throw Error(ce(261));return Pt=null,$t=0,bt}function FT(){for(;dt!==null;)lN(dt)}function BT(){for(;dt!==null&&!fE();)lN(dt)}function lN(e){var t=dN(e.alternate,e,dr);e.memoizedProps=e.pendingProps,t===null?cN(e):dt=t,M0.current=null}function cN(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=MT(r,t),r!==null){r.flags&=32767,dt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bt=6,dt=null;return}}else if(r=$T(r,t,dr),r!==null){dt=r;return}if(t=t.sibling,t!==null){dt=t;return}dt=t=e}while(t!==null);bt===0&&(bt=5)}function qa(e,t,r){var n=Le,a=Er.transition;try{Er.transition=null,Le=1,zT(e,t,r,n)}finally{Er.transition=a,Le=n}return null}function zT(e,t,r,n){do go();while(ha!==null);if(Te&6)throw Error(ce(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ce(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(_E(e,i),e===Pt&&(dt=Pt=null,$t=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||iu||(iu=!0,fN(Ku,function(){return go(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Er.transition,Er.transition=null;var o=Le;Le=1;var l=Te;Te|=4,M0.current=null,RT(e,r),nN(r,e),lT($m),Yu=!!Tm,$m=Tm=null,e.current=r,DT(r),hE(),Te=l,Le=o,Er.transition=i}else e.current=r;if(iu&&(iu=!1,ha=e,fd=a),i=e.pendingLanes,i===0&&(ba=null),gE(r.stateNode),or(e,ct()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(dd)throw dd=!1,e=Zm,Zm=null,e;return fd&1&&e.tag!==0&&go(),i=e.pendingLanes,i&1?e===eg?al++:(al=0,eg=e):al=0,Aa(),null}function go(){if(ha!==null){var e=qj(fd),t=Er.transition,r=Le;try{if(Er.transition=null,Le=16>e?16:e,ha===null)var n=!1;else{if(e=ha,ha=null,fd=0,Te&6)throw Error(ce(331));var a=Te;for(Te|=4,pe=e.current;pe!==null;){var i=pe,o=i.child;if(pe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(pe=u;pe!==null;){var d=pe;switch(d.tag){case 0:case 11:case 15:rl(8,d,i)}var f=d.child;if(f!==null)f.return=d,pe=f;else for(;pe!==null;){d=pe;var h=d.sibling,p=d.return;if(eN(d),d===u){pe=null;break}if(h!==null){h.return=p,pe=h;break}pe=p}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}pe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,pe=o;else e:for(;pe!==null;){if(i=pe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:rl(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,pe=y;break e}pe=i.return}}var b=e.current;for(pe=b;pe!==null;){o=pe;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,pe=x;else e:for(o=b;pe!==null;){if(l=pe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Mf(9,l)}}catch(j){st(l,l.return,j)}if(l===o){pe=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,pe=S;break e}pe=l.return}}if(Te=a,Aa(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(kf,e)}catch{}n=!0}return n}finally{Le=r,Er.transition=t}}return!1}function Nb(e,t,r){t=No(r,t),t=qS(e,t,1),e=xa(e,t,1),t=Yt(),e!==null&&(_c(e,1,t),or(e,t))}function st(e,t,r){if(e.tag===3)Nb(e,e,r);else for(;t!==null;){if(t.tag===3){Nb(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ba===null||!ba.has(n))){e=No(r,e),e=WS(t,e,1),t=xa(t,e,1),e=Yt(),t!==null&&(_c(t,1,e),or(t,e));break}}t=t.return}}function qT(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Yt(),e.pingedLanes|=e.suspendedLanes&r,Pt===e&&($t&r)===r&&(bt===4||bt===3&&($t&130023424)===$t&&500>ct()-R0?li(e,0):I0|=r),or(e,t)}function uN(e,t){t===0&&(e.mode&1?(t=Qc,Qc<<=1,!(Qc&130023424)&&(Qc=4194304)):t=1);var r=Yt();e=qn(e,t),e!==null&&(_c(e,t,r),or(e,r))}function WT(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),uN(e,r)}function HT(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ce(314))}n!==null&&n.delete(t),uN(e,r)}var dN;dN=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ar.current)rr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return rr=!1,TT(e,t,r);rr=!!(e.flags&131072)}else rr=!1,et&&t.flags&1048576&&mS(t,nd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Mu(e,t),e=t.pendingProps;var a=wo(t,zt.current);mo(t,r),a=A0(null,t,n,e,a,r);var i=O0();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ir(n)?(i=!0,td(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,S0(t),a.updater=$f,t.stateNode=a,a._reactInternals=t,zm(t,n,e,r),t=Hm(null,t,n,!0,i,r)):(t.tag=0,et&&i&&y0(t),Vt(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Mu(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=GT(n),e=qr(n,e),a){case 0:t=Wm(null,t,n,e,r);break e;case 1:t=mb(null,t,n,e,r);break e;case 11:t=hb(null,t,n,e,r);break e;case 14:t=pb(null,t,n,qr(n.type,e),r);break e}throw Error(ce(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:qr(n,a),Wm(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:qr(n,a),mb(e,t,n,a,r);case 3:e:{if(KS(t),e===null)throw Error(ce(387));n=t.pendingProps,i=t.memoizedState,a=i.element,wS(e,t),od(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=No(Error(ce(423)),t),t=gb(e,t,n,r,a);break e}else if(n!==a){a=No(Error(ce(424)),t),t=gb(e,t,n,r,a);break e}else for(mr=va(t.stateNode.containerInfo.firstChild),gr=t,et=!0,Qr=null,r=xS(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_o(),n===a){t=Wn(e,t,r);break e}Vt(e,t,n,r)}t=t.child}return t;case 5:return _S(t),e===null&&Um(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Mm(n,a)?o=null:i!==null&&Mm(n,i)&&(t.flags|=32),GS(e,t),Vt(e,t,o,r),t.child;case 6:return e===null&&Um(t),null;case 13:return QS(e,t,r);case 4:return N0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=jo(t,null,n,r):Vt(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:qr(n,a),hb(e,t,n,a,r);case 7:return Vt(e,t,t.pendingProps,r),t.child;case 8:return Vt(e,t,t.pendingProps.children,r),t.child;case 12:return Vt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Ke(ad,n._currentValue),n._currentValue=o,i!==null)if(rn(i.value,o)){if(i.children===a.children&&!ar.current){t=Wn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Rn(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Fm(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ce(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Fm(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Vt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,mo(t,r),a=Tr(a),n=n(a),t.flags|=1,Vt(e,t,n,r),t.child;case 14:return n=t.type,a=qr(n,t.pendingProps),a=qr(n.type,a),pb(e,t,n,a,r);case 15:return HS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:qr(n,a),Mu(e,t),t.tag=1,ir(n)?(e=!0,td(t)):e=!1,mo(t,r),zS(t,n,a),zm(t,n,a,r),Hm(null,t,n,!0,e,r);case 19:return YS(e,t,r);case 22:return VS(e,t,r)}throw Error(ce(156,t.tag))};function fN(e,t){return Uj(e,t)}function VT(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(e,t,r,n){return new VT(e,t,r,n)}function F0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function GT(e){if(typeof e=="function")return F0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===i0)return 11;if(e===o0)return 14}return 2}function _a(e,t){var r=e.alternate;return r===null?(r=Ar(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Du(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")F0(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Gi:return ci(r.children,a,i,t);case a0:o=8,a|=8;break;case fm:return e=Ar(12,r,t,a|2),e.elementType=fm,e.lanes=i,e;case hm:return e=Ar(13,r,t,a),e.elementType=hm,e.lanes=i,e;case pm:return e=Ar(19,r,t,a),e.elementType=pm,e.lanes=i,e;case _j:return Rf(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bj:o=10;break e;case wj:o=9;break e;case i0:o=11;break e;case o0:o=14;break e;case ia:o=16,n=null;break e}throw Error(ce(130,e==null?e:typeof e,""))}return t=Ar(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function ci(e,t,r,n){return e=Ar(7,e,n,t),e.lanes=r,e}function Rf(e,t,r,n){return e=Ar(22,e,n,t),e.elementType=_j,e.lanes=r,e.stateNode={isHidden:!1},e}function jp(e,t,r){return e=Ar(6,e,null,t),e.lanes=r,e}function Sp(e,t,r){return t=Ar(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function KT(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ap(0),this.expirationTimes=ap(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ap(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function B0(e,t,r,n,a,i,o,l,c){return e=new KT(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ar(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},S0(i),e}function QT(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function hN(e){if(!e)return ka;e=e._reactInternals;e:{if(ki(e)!==e||e.tag!==1)throw Error(ce(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ir(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ce(171))}if(e.tag===1){var r=e.type;if(ir(r))return hS(e,r,t)}return t}function pN(e,t,r,n,a,i,o,l,c){return e=B0(r,n,!0,e,a,i,o,l,c),e.context=hN(null),r=e.current,n=Yt(),a=wa(r),i=Rn(n,a),i.callback=t??null,xa(r,i,a),e.current.lanes=a,_c(e,a,n),or(e,n),e}function Df(e,t,r,n){var a=t.current,i=Yt(),o=wa(a);return r=hN(r),t.context===null?t.context=r:t.pendingContext=r,t=Rn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=xa(a,t,o),e!==null&&(en(e,a,o,i),Eu(e,a,o)),o}function pd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function z0(e,t){kb(e,t),(e=e.alternate)&&kb(e,t)}function YT(){return null}var mN=typeof reportError=="function"?reportError:function(e){console.error(e)};function q0(e){this._internalRoot=e}Lf.prototype.render=q0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ce(409));Df(e,t,null,null)};Lf.prototype.unmount=q0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vi(function(){Df(null,e,null,null)}),t[zn]=null}};function Lf(e){this._internalRoot=e}Lf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vj();e={blockedOn:null,target:e,priority:t};for(var r=0;r<la.length&&t!==0&&t<la[r].priority;r++);la.splice(r,0,e),r===0&&Kj(e)}};function W0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Uf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Pb(){}function XT(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=pd(o);i.call(u)}}var o=pN(t,n,e,0,null,!1,!1,"",Pb);return e._reactRootContainer=o,e[zn]=o.current,Sl(e.nodeType===8?e.parentNode:e),vi(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=pd(c);l.call(u)}}var c=B0(e,0,!1,null,null,!1,!1,"",Pb);return e._reactRootContainer=c,e[zn]=c.current,Sl(e.nodeType===8?e.parentNode:e),vi(function(){Df(t,c,r,n)}),c}function Ff(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=pd(o);l.call(c)}}Df(t,o,e,a)}else o=XT(r,t,e,a,n);return pd(o)}Wj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Vs(t.pendingLanes);r!==0&&(c0(t,r|1),or(t,ct()),!(Te&6)&&(ko=ct()+500,Aa()))}break;case 13:vi(function(){var n=qn(e,1);if(n!==null){var a=Yt();en(n,e,1,a)}}),z0(e,1)}};u0=function(e){if(e.tag===13){var t=qn(e,134217728);if(t!==null){var r=Yt();en(t,e,134217728,r)}z0(e,134217728)}};Hj=function(e){if(e.tag===13){var t=wa(e),r=qn(e,t);if(r!==null){var n=Yt();en(r,e,t,n)}z0(e,t)}};Vj=function(){return Le};Gj=function(e,t){var r=Le;try{return Le=e,t()}finally{Le=r}};Sm=function(e,t,r){switch(t){case"input":if(ym(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Of(n);if(!a)throw Error(ce(90));Sj(n),ym(n,a)}}}break;case"textarea":kj(e,r);break;case"select":t=r.value,t!=null&&uo(e,!!r.multiple,t,!1)}};$j=D0;Mj=vi;var JT={usingClientEntryPoint:!1,Events:[Sc,Xi,Of,Ej,Tj,D0]},Es={findFiberByHostInstance:Ja,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZT={bundleType:Es.bundleType,version:Es.version,rendererPackageName:Es.rendererPackageName,rendererConfig:Es.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Dj(e),e===null?null:e.stateNode},findFiberByHostInstance:Es.findFiberByHostInstance||YT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{kf=ou.inject(ZT),pn=ou}catch{}}br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JT;br.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!W0(t))throw Error(ce(200));return QT(e,t,null,r)};br.createRoot=function(e,t){if(!W0(e))throw Error(ce(299));var r=!1,n="",a=mN;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=B0(e,1,!1,null,null,r,!1,n,a),e[zn]=t.current,Sl(e.nodeType===8?e.parentNode:e),new q0(t)};br.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ce(188)):(e=Object.keys(e).join(","),Error(ce(268,e)));return e=Dj(t),e=e===null?null:e.stateNode,e};br.flushSync=function(e){return vi(e)};br.hydrate=function(e,t,r){if(!Uf(t))throw Error(ce(200));return Ff(null,e,t,!0,r)};br.hydrateRoot=function(e,t,r){if(!W0(e))throw Error(ce(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=mN;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=pN(t,null,e,1,r??null,a,!1,i,o),e[zn]=t.current,Sl(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Lf(t)};br.render=function(e,t,r){if(!Uf(t))throw Error(ce(200));return Ff(null,e,t,!1,r)};br.unmountComponentAtNode=function(e){if(!Uf(e))throw Error(ce(40));return e._reactRootContainer?(vi(function(){Ff(null,null,e,!1,function(){e._reactRootContainer=null,e[zn]=null})}),!0):!1};br.unstable_batchedUpdates=D0;br.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Uf(r))throw Error(ce(200));if(e==null||e._reactInternals===void 0)throw Error(ce(38));return Ff(e,t,r,!1,n)};br.version="18.3.1-next-f1338f8080-20240426";function gN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gN)}catch(e){console.error(e)}}gN(),gj.exports=br;var e4=gj.exports,yN,Cb=e4;yN=Cb.createRoot,Cb.hydrateRoot;/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ab="popstate";function t4(e={}){function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return ng("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:$l(a)}return n4(t,r,null,e)}function rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Mr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function r4(){return Math.random().toString(36).substring(2,10)}function Ob(e,t){return{usr:e.state,key:e.key,idx:t}}function ng(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ns(t):t,state:r,key:t&&t.key||n||r4()}}function $l({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ns(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function n4(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l="POP",c=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function f(){l="POP";let v=d(),y=v==null?null:v-u;u=v,c&&c({action:l,location:g.location,delta:y})}function h(v,y){l="PUSH";let b=ng(g.location,v,y);u=d()+1;let x=Ob(b,u),S=g.createHref(b);try{o.pushState(x,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(S)}i&&c&&c({action:l,location:g.location,delta:1})}function p(v,y){l="REPLACE";let b=ng(g.location,v,y);u=d();let x=Ob(b,u),S=g.createHref(b);o.replaceState(x,"",S),i&&c&&c({action:l,location:g.location,delta:0})}function m(v){return a4(v)}let g={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Ab,f),c=v,()=>{a.removeEventListener(Ab,f),c=null}},createHref(v){return t(a,v)},createURL:m,encodeLocation(v){let y=m(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(v){return o.go(v)}};return g}function a4(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),rt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:$l(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function vN(e,t,r="/"){return i4(e,t,r,!1)}function i4(e,t,r,n){let a=typeof t=="string"?ns(t):t,i=Hn(a.pathname||"/",r);if(i==null)return null;let o=xN(e);o4(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=y4(i);l=m4(o[c],u,n)}return l}function xN(e,t=[],r=[],n="",a=!1){let i=(o,l,c=a,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;rt(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=Dn([n,d.relativePath]),h=r.concat(d);o.children&&o.children.length>0&&(rt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),xN(o.children,t,h,f,c)),!(o.path==null&&!o.index)&&t.push({path:f,score:h4(f,o.index),routesMeta:h})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let u of bN(o.path))i(o,l,!0,u)}),t}function bN(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=bN(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function o4(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:p4(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var s4=/^:[\w-]+$/,l4=3,c4=2,u4=1,d4=10,f4=-2,Eb=e=>e==="*";function h4(e,t){let r=e.split("/"),n=r.length;return r.some(Eb)&&(n+=f4),t&&(n+=c4),r.filter(a=>!Eb(a)).reduce((a,i)=>a+(s4.test(i)?l4:i===""?u4:d4),n)}function p4(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function m4(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=md({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=md({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Dn([i,f.pathname]),pathnameBase:w4(Dn([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Dn([i,f.pathnameBase]))}return o}function md(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=g4(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let m=l[h]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const p=l[h];return f&&!p?u[d]=void 0:u[d]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function g4(e,t=!1,r=!0){Mr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function y4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Mr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Hn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function v4(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ns(e):e;return{pathname:r?r.startsWith("/")?r:x4(r,t):t,search:_4(n),hash:j4(a)}}function x4(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Np(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function b4(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function H0(e){let t=b4(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function V0(e,t,r,n=!1){let a;typeof e=="string"?a=ns(e):(a={...e},rt(!a.pathname||!a.pathname.includes("?"),Np("?","pathname","search",a)),rt(!a.pathname||!a.pathname.includes("#"),Np("#","pathname","hash",a)),rt(!a.search||!a.search.includes("#"),Np("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=v4(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Dn=e=>e.join("/").replace(/\/\/+/g,"/"),w4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,j4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function S4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var wN=["POST","PUT","PATCH","DELETE"];new Set(wN);var N4=["GET",...wN];new Set(N4);var as=T.createContext(null);as.displayName="DataRouter";var Bf=T.createContext(null);Bf.displayName="DataRouterState";T.createContext(!1);var _N=T.createContext({isTransitioning:!1});_N.displayName="ViewTransition";var k4=T.createContext(new Map);k4.displayName="Fetchers";var P4=T.createContext(null);P4.displayName="Await";var nn=T.createContext(null);nn.displayName="Navigation";var kc=T.createContext(null);kc.displayName="Location";var an=T.createContext({outlet:null,matches:[],isDataRoute:!1});an.displayName="Route";var G0=T.createContext(null);G0.displayName="RouteError";function C4(e,{relative:t}={}){rt(is(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=T.useContext(nn),{hash:a,pathname:i,search:o}=Pc(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:Dn([r,i])),n.createHref({pathname:l,search:o,hash:a})}function is(){return T.useContext(kc)!=null}function Rr(){return rt(is(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(kc).location}var jN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function SN(e){T.useContext(nn).static||T.useLayoutEffect(e)}function nt(){let{isDataRoute:e}=T.useContext(an);return e?B4():A4()}function A4(){rt(is(),"useNavigate() may be used only in the context of a <Router> component.");let e=T.useContext(as),{basename:t,navigator:r}=T.useContext(nn),{matches:n}=T.useContext(an),{pathname:a}=Rr(),i=JSON.stringify(H0(n)),o=T.useRef(!1);return SN(()=>{o.current=!0}),T.useCallback((c,u={})=>{if(Mr(o.current,jN),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=V0(c,JSON.parse(i),a,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Dn([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,i,a,e])}T.createContext(null);function Pi(){let{matches:e}=T.useContext(an),t=e[e.length-1];return t?t.params:{}}function Pc(e,{relative:t}={}){let{matches:r}=T.useContext(an),{pathname:n}=Rr(),a=JSON.stringify(H0(r));return T.useMemo(()=>V0(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function O4(e,t){return NN(e,t)}function NN(e,t,r,n,a){var b;rt(is(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=T.useContext(nn),{matches:o}=T.useContext(an),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let x=f&&f.path||"";kN(u,!f||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let h=Rr(),p;if(t){let x=typeof t=="string"?ns(t):t;rt(d==="/"||((b=x.pathname)==null?void 0:b.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${x.pathname}" was given in the \`location\` prop.`),p=x}else p=h;let m=p.pathname||"/",g=m;if(d!=="/"){let x=d.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=vN(e,{pathname:g});Mr(f||v!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Mr(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=I4(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:Dn([d,i.encodeLocation?i.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:Dn([d,i.encodeLocation?i.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),o,r,n,a);return t&&y?T.createElement(kc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},y):y}function E4(){let e=F4(),t=S4(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:i},"ErrorBoundary")," or"," ",T.createElement("code",{style:i},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),r?T.createElement("pre",{style:a},r):null,o)}var T4=T.createElement(E4,null),$4=class extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?T.createElement(an.Provider,{value:this.props.routeContext},T.createElement(G0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function M4({routeContext:e,match:t,children:r}){let n=T.useContext(as);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(an.Provider,{value:e},r)}function I4(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r==null?void 0:r.errors;if(o!=null){let u=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);rt(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(r)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=r,p=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!h||h[d.route.id]===void 0);if(d.route.lazy||p){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,d,f)=>{let h,p=!1,m=null,g=null;r&&(h=o&&d.route.id?o[d.route.id]:void 0,m=d.route.errorElement||T4,l&&(c<0&&f===0?(kN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,g=null):c===f&&(p=!0,g=d.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,f+1)),y=()=>{let b;return h?b=m:p?b=g:d.route.Component?b=T.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,T.createElement(M4,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:r!=null},children:b})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?T.createElement($4,{location:r.location,revalidation:r.revalidation,component:m,error:h,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0},unstable_onError:n}):y()},null)}function K0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R4(e){let t=T.useContext(as);return rt(t,K0(e)),t}function D4(e){let t=T.useContext(Bf);return rt(t,K0(e)),t}function L4(e){let t=T.useContext(an);return rt(t,K0(e)),t}function Q0(e){let t=L4(e),r=t.matches[t.matches.length-1];return rt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function U4(){return Q0("useRouteId")}function F4(){var n;let e=T.useContext(G0),t=D4("useRouteError"),r=Q0("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function B4(){let{router:e}=R4("useNavigate"),t=Q0("useNavigate"),r=T.useRef(!1);return SN(()=>{r.current=!0}),T.useCallback(async(a,i={})=>{Mr(r.current,jN),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var Tb={};function kN(e,t,r){!t&&!Tb[e]&&(Tb[e]=!0,Mr(!1,r))}T.memo(z4);function z4({routes:e,future:t,state:r,unstable_onError:n}){return NN(e,void 0,r,n,t)}function Wa({to:e,replace:t,state:r,relative:n}){rt(is(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=T.useContext(nn);Mr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=T.useContext(an),{pathname:o}=Rr(),l=nt(),c=V0(e,H0(i),o,n==="path"),u=JSON.stringify(c);return T.useEffect(()=>{l(JSON.parse(u),{replace:t,state:r,relative:n})},[l,u,n,t,r]),null}function We(e){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function q4({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){rt(!is(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=T.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof r=="string"&&(r=ns(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=r,p=T.useMemo(()=>{let m=Hn(c,o);return m==null?null:{location:{pathname:m,search:u,hash:d,state:f,key:h},navigationType:n}},[o,c,u,d,f,h,n]);return Mr(p!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:T.createElement(nn.Provider,{value:l},T.createElement(kc.Provider,{children:t,value:p}))}function W4({children:e,location:t}){return O4(ag(e),t)}function ag(e,t=[]){let r=[];return T.Children.forEach(e,(n,a)=>{if(!T.isValidElement(n))return;let i=[...t,a];if(n.type===T.Fragment){r.push.apply(r,ag(n.props.children,i));return}rt(n.type===We,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ag(n.props.children,i)),r.push(o)}),r}var Lu="get",Uu="application/x-www-form-urlencoded";function zf(e){return e!=null&&typeof e.tagName=="string"}function H4(e){return zf(e)&&e.tagName.toLowerCase()==="button"}function V4(e){return zf(e)&&e.tagName.toLowerCase()==="form"}function G4(e){return zf(e)&&e.tagName.toLowerCase()==="input"}function K4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Q4(e,t){return e.button===0&&(!t||t==="_self")&&!K4(e)}function ig(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Y4(e,t){let r=ig(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var su=null;function X4(){if(su===null)try{new FormData(document.createElement("form"),0),su=!1}catch{su=!0}return su}var J4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kp(e){return e!=null&&!J4.has(e)?(Mr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uu}"`),null):e}function Z4(e,t){let r,n,a,i,o;if(V4(e)){let l=e.getAttribute("action");n=l?Hn(l,t):null,r=e.getAttribute("method")||Lu,a=kp(e.getAttribute("enctype"))||Uu,i=new FormData(e)}else if(H4(e)||G4(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Hn(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Lu,a=kp(e.getAttribute("formenctype"))||kp(l.getAttribute("enctype"))||Uu,i=new FormData(l,e),!X4()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else u&&i.append(u,f)}}else{if(zf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Lu,n=null,a=Uu,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Y0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function e3(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Hn(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function t3(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function r3(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function n3(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await t3(i,r);return o.links?o.links():[]}return[]}));return s3(n.flat(1).filter(r3).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function $b(e,t,r,n,a,i){let o=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>o(c,u)||l(c,u)):i==="data"?t.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function a3(e,t,{includeHydrateFallback:r}={}){return i3(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function i3(e){return[...new Set(e)]}function o3(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function s3(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(o3(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function PN(){let e=T.useContext(as);return Y0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function l3(){let e=T.useContext(Bf);return Y0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var X0=T.createContext(void 0);X0.displayName="FrameworkContext";function CN(){let e=T.useContext(X0);return Y0(e,"You must render this element inside a <HydratedRouter> element"),e}function c3(e,t){let r=T.useContext(X0),[n,a]=T.useState(!1),[i,o]=T.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=T.useRef(null);T.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let g=y=>{y.forEach(b=>{o(b.isIntersecting)})},v=new IntersectionObserver(g,{threshold:.5});return h.current&&v.observe(h.current),()=>{v.disconnect()}}},[e]),T.useEffect(()=>{if(n){let g=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(g)}}},[n]);let p=()=>{a(!0)},m=()=>{a(!1),o(!1)};return r?e!=="intent"?[i,h,{}]:[i,h,{onFocus:Ts(l,p),onBlur:Ts(c,m),onMouseEnter:Ts(u,p),onMouseLeave:Ts(d,m),onTouchStart:Ts(f,p)}]:[!1,h,{}]}function Ts(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function u3({page:e,...t}){let{router:r}=PN(),n=T.useMemo(()=>vN(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?T.createElement(f3,{page:e,matches:n,...t}):null}function d3(e){let{manifest:t,routeModules:r}=CN(),[n,a]=T.useState([]);return T.useEffect(()=>{let i=!1;return n3(e,t,r).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,r]),n}function f3({page:e,matches:t,...r}){let n=Rr(),{manifest:a,routeModules:i}=CN(),{basename:o}=PN(),{loaderData:l,matches:c}=l3(),u=T.useMemo(()=>$b(e,t,c,a,n,"data"),[e,t,c,a,n]),d=T.useMemo(()=>$b(e,t,c,a,n,"assets"),[e,t,c,a,n]),f=T.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let m=new Set,g=!1;if(t.forEach(y=>{var x;let b=a.routes[y.route.id];!b||!b.hasLoader||(!u.some(S=>S.route.id===y.route.id)&&y.route.id in l&&((x=i[y.route.id])!=null&&x.shouldRevalidate)||b.hasClientLoader?g=!0:m.add(y.route.id))}),m.size===0)return[];let v=e3(e,o,"data");return g&&m.size>0&&v.searchParams.set("_routes",t.filter(y=>m.has(y.route.id)).map(y=>y.route.id).join(",")),[v.pathname+v.search]},[o,l,n,a,u,t,e,i]),h=T.useMemo(()=>a3(d,a),[d,a]),p=d3(d);return T.createElement(T.Fragment,null,f.map(m=>T.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...r})),h.map(m=>T.createElement("link",{key:m,rel:"modulepreload",href:m,...r})),p.map(({key:m,link:g})=>T.createElement("link",{key:m,nonce:r.nonce,...g})))}function h3(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var AN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AN&&(window.__reactRouterVersion="7.9.4")}catch{}function p3({basename:e,children:t,window:r}){let n=T.useRef();n.current==null&&(n.current=t4({window:r,v5Compat:!0}));let a=n.current,[i,o]=T.useState({action:a.action,location:a.location}),l=T.useCallback(c=>{T.startTransition(()=>o(c))},[o]);return T.useLayoutEffect(()=>a.listen(l),[a,l]),T.createElement(q4,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var ON=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xn=T.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},p){let{basename:m}=T.useContext(nn),g=typeof u=="string"&&ON.test(u),v,y=!1;if(typeof u=="string"&&g&&(v=u,AN))try{let N=new URL(window.location.href),M=u.startsWith("//")?new URL(N.protocol+u):new URL(u),R=Hn(M.pathname,m);M.origin===N.origin&&R!=null?u=R+M.search+M.hash:y=!0}catch{Mr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=C4(u,{relative:a}),[x,S,j]=c3(n,h),w=v3(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function C(N){t&&t(N),N.defaultPrevented||w(N)}let k=T.createElement("a",{...h,...j,href:v||b,onClick:y||i?t:C,ref:h3(p,S),target:c,"data-discover":!g&&r==="render"?"true":void 0});return x&&!g?T.createElement(T.Fragment,null,k,T.createElement(u3,{page:b})):k});xn.displayName="Link";var m3=T.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:l,children:c,...u},d){let f=Pc(o,{relative:u.relative}),h=Rr(),p=T.useContext(Bf),{navigator:m,basename:g}=T.useContext(nn),v=p!=null&&j3(f)&&l===!0,y=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,b=h.pathname,x=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(b=b.toLowerCase(),x=x?x.toLowerCase():null,y=y.toLowerCase()),x&&g&&(x=Hn(x,g)||x);const S=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let j=b===y||!a&&b.startsWith(y)&&b.charAt(S)==="/",w=x!=null&&(x===y||!a&&x.startsWith(y)&&x.charAt(y.length)==="/"),C={isActive:j,isPending:w,isTransitioning:v},k=j?t:void 0,N;typeof n=="function"?N=n(C):N=[n,j?"active":null,w?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let M=typeof i=="function"?i(C):i;return T.createElement(xn,{...u,"aria-current":k,className:N,ref:d,style:M,to:o,viewTransition:l},typeof c=="function"?c(C):c)});m3.displayName="NavLink";var g3=T.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:o=Lu,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},p)=>{let m=w3(),g=_3(l,{relative:u}),v=o.toLowerCase()==="get"?"get":"post",y=typeof l=="string"&&ON.test(l),b=x=>{if(c&&c(x),x.defaultPrevented)return;x.preventDefault();let S=x.nativeEvent.submitter,j=(S==null?void 0:S.getAttribute("formmethod"))||o;m(S||x.currentTarget,{fetcherKey:t,method:j,navigate:r,replace:a,state:i,relative:u,preventScrollReset:d,viewTransition:f})};return T.createElement("form",{ref:p,method:v,action:g,onSubmit:n?c:b,...h,"data-discover":!y&&e==="render"?"true":void 0})});g3.displayName="Form";function y3(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EN(e){let t=T.useContext(as);return rt(t,y3(e)),t}function v3(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:o}={}){let l=nt(),c=Rr(),u=Pc(e,{relative:i});return T.useCallback(d=>{if(Q4(d,t)){d.preventDefault();let f=r!==void 0?r:$l(c)===$l(u);l(e,{replace:f,state:n,preventScrollReset:a,relative:i,viewTransition:o})}},[c,l,u,r,n,t,e,a,i,o])}function J0(e){Mr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=T.useRef(ig(e)),r=T.useRef(!1),n=Rr(),a=T.useMemo(()=>Y4(n.search,r.current?null:t.current),[n.search]),i=nt(),o=T.useCallback((l,c)=>{const u=ig(typeof l=="function"?l(new URLSearchParams(a)):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}var x3=0,b3=()=>`__${String(++x3)}__`;function w3(){let{router:e}=EN("useSubmit"),{basename:t}=T.useContext(nn),r=U4();return T.useCallback(async(n,a={})=>{let{action:i,method:o,encType:l,formData:c,body:u}=Z4(n,t);if(a.navigate===!1){let d=a.fetcherKey||b3();await e.fetch(d,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function _3(e,{relative:t}={}){let{basename:r}=T.useContext(nn),n=T.useContext(an);rt(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...Pc(e||".",{relative:t})},o=Rr();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Dn([r,i.pathname])),$l(i)}function j3(e,{relative:t}={}){let r=T.useContext(_N);rt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=EN("useViewTransitionState"),a=Pc(e,{relative:t});if(!r.isTransitioning)return!1;let i=Hn(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Hn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return md(a.pathname,o)!=null||md(a.pathname,i)!=null}const S3="modulepreload",N3=function(e){return"/"+e},Mb={},Cc=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=N3(c),c in Mb)return;Mb[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":S3,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},k3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Cc(async()=>{const{default:n}=await Promise.resolve().then(()=>os);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Z0 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class P3 extends Z0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ib extends Z0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Rb extends Z0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var og;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(og||(og={}));var C3=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class A3{constructor(t,{headers:r={},customFetch:n,region:a=og.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=k3(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return C3(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(g=>{throw new P3(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Ib(f);if(!f.ok)throw new Rb(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield f.json():p==="application/octet-stream"?m=yield f.blob():p==="text/event-stream"?m=f:p==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof Rb||a instanceof Ib?a.context:void 0}}})}}var er={},ev={},qf={},Ac={},Wf={},Hf={},O3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Po=O3();const E3=Po.fetch,TN=Po.fetch.bind(Po),$N=Po.Headers,T3=Po.Request,$3=Po.Response,os=Object.freeze(Object.defineProperty({__proto__:null,Headers:$N,Request:T3,Response:$3,default:TN,fetch:E3},Symbol.toStringTag,{value:"Module"})),M3=CO(os);var Vf={};Object.defineProperty(Vf,"__esModule",{value:!0});let I3=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Vf.default=I3;var MN=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hf,"__esModule",{value:!0});const R3=MN(M3),D3=MN(Vf);let L3=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=R3.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,u;let d=null,f=null,h=null,p=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const b=await i.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=b:f=JSON.parse(b))}const v=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),y=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");v&&y&&y.length>1&&(h=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,p=406,m="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const v=await i.text();try{d=JSON.parse(v),Array.isArray(d)&&i.status===404&&(f=[],d=null,p=200,m="OK")}catch{i.status===404&&v===""?(p=204,m="No Content"):d={message:v}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,p=200,m="OK"),d&&this.shouldThrowOnError)throw new D3.default(d)}return{error:d,data:f,count:h,status:p,statusText:m}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};Hf.default=L3;var U3=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wf,"__esModule",{value:!0});const F3=U3(Hf);let B3=class extends F3.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Wf.default=B3;var z3=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ac,"__esModule",{value:!0});const q3=z3(Wf);let W3=class extends q3.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Ac.default=W3;var H3=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qf,"__esModule",{value:!0});const $s=H3(Ac);let V3=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new $s.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var a;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new $s.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new $s.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new $s.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new $s.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};qf.default=V3;var IN=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ev,"__esModule",{value:!0});const G3=IN(qf),K3=IN(Ac);let Q3=class RN{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new G3.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new RN(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new K3.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};ev.default=Q3;var ss=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(er,"__esModule",{value:!0});er.PostgrestError=er.PostgrestBuilder=er.PostgrestTransformBuilder=er.PostgrestFilterBuilder=er.PostgrestQueryBuilder=er.PostgrestClient=void 0;const DN=ss(ev);er.PostgrestClient=DN.default;const LN=ss(qf);er.PostgrestQueryBuilder=LN.default;const UN=ss(Ac);er.PostgrestFilterBuilder=UN.default;const FN=ss(Wf);er.PostgrestTransformBuilder=FN.default;const BN=ss(Hf);er.PostgrestBuilder=BN.default;const zN=ss(Vf);er.PostgrestError=zN.default;var Y3=er.default={PostgrestClient:DN.default,PostgrestQueryBuilder:LN.default,PostgrestFilterBuilder:UN.default,PostgrestTransformBuilder:FN.default,PostgrestBuilder:BN.default,PostgrestError:zN.default};const{PostgrestClient:X3,PostgrestQueryBuilder:soe,PostgrestFilterBuilder:loe,PostgrestTransformBuilder:coe,PostgrestBuilder:uoe,PostgrestError:doe}=Y3;class J3{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Z3="2.15.5",e$=`realtime-js/${Z3}`,t$="1.0.0",sg=1e4,r$=1e3,n$=100;var il;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(il||(il={}));var mt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(mt||(mt={}));var Hr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Hr||(Hr={}));var lg;(function(e){e.websocket="websocket"})(lg||(lg={}));var Ya;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ya||(Ya={}));class a${constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class qN{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(He||(He={}));const Db=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=i$(o,e,t,a),i),{})},i$=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?WN(i,o):cg(o)},WN=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return c$(t,r)}switch(e){case He.bool:return o$(t);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return s$(t);case He.json:case He.jsonb:return l$(t);case He.timestamp:return u$(t);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return cg(t);default:return cg(t)}},cg=e=>e,o$=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},s$=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},l$=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},c$=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>WN(t,l))}return e},u$=e=>typeof e=="string"?e.replace(" ","T"):e,HN=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Pp{constructor(t,r,n={},a=sg){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Lb;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Lb||(Lb={}));class ol{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ol.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=ol.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ol.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),m=d.filter(v=>p.indexOf(v.presence_ref)<0),g=f.filter(v=>h.indexOf(v.presence_ref)<0);m.length>0&&(l[u]=m),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ub;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ub||(Ub={}));var sl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(sl||(sl={}));var Cn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Cn||(Cn={}));class tv{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=mt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Pp(this,Hr.join,this.params,this.timeout),this.rejoinTimer=new qN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=mt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hr.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new ol(this),this.broadcastEndpointURL=HN(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==mt.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[sl.PRESENCE]&&this.bindings[sl.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Cn.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Cn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket.setAuth(),p===void 0){t==null||t(Cn.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(m=g==null?void 0:g.length)!==null&&m!==void 0?m:0,y=[];for(let b=0;b<v;b++){const x=g[b],{filter:{event:S,schema:j,table:w,filter:C}}=x,k=p&&p[b];if(k&&k.event===S&&k.schema===j&&k.table===w&&k.filter===C)y.push(Object.assign(Object.assign({},x),{id:k.id}));else{this.unsubscribe(),this.state=mt.errored,t==null||t(Cn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Cn.SUBSCRIBED);return}}).receive("error",p=>{this.state=mt.errored,t==null||t(Cn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Cn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===mt.joined&&t===sl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=mt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Pp(this,Hr.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=mt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Pp(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>n$){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Hr;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var m,g,v;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(g=p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var m,g,v,y,b,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,j=(m=p.filter)===null||m===void 0?void 0:m.event;return S&&((g=r.ids)===null||g===void 0?void 0:g.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const S=(b=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return S==="*"||S===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:v,commit_timestamp:y,type:b,errors:x}=m;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:y,eventType:b,new:{},old:{},errors:x}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===mt.closed}_isJoined(){return this.state===mt.joined}_isJoining(){return this.state===mt.joining}_isLeaving(){return this.state===mt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&tv.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Hr.close,{},t)}_onError(t){this._on(Hr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Db(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Db(t.columns,t.old_record)),r}}const Cp=()=>{},lu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},d$=[1e3,2e3,5e3,1e4],f$=1e4,h$=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class p${constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sg,this.transport=null,this.heartbeatIntervalMs=lu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Cp,this.ref=0,this.reconnectTimer=null,this.logger=Cp,this.conn=null,this.sendBuffer=[],this.serializer=new a$,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>Cc(async()=>{const{default:l}=await Promise.resolve().then(()=>os);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${lg.websocket}`,this.httpEndpoint=HN(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=J3.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:t$}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case il.connecting:return Ya.Connecting;case il.open:return Ya.Open;case il.closing:return Ya.Closing;default:return Ya.Closed}}isConnected(){return this.connectionState()===Ya.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new tv(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(r$,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},lu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Hr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([h$],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:e$};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Hr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new qN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},lu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:sg,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:lu.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Cp,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>d$[f-1]||f$,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class rv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function gt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class m$ extends rv{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ug extends rv{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var g$=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const VN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Cc(async()=>{const{default:n}=await Promise.resolve().then(()=>os);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},y$=()=>g$(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Cc(()=>Promise.resolve().then(()=>os),void 0)).Response:Response}),dg=e=>{if(Array.isArray(e))return e.map(r=>dg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=dg(n)}),t},v$=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ci=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Ap=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),x$=(e,t,r)=>Ci(void 0,void 0,void 0,function*(){const n=yield y$();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new m$(Ap(a),i,o))}).catch(a=>{t(new ug(Ap(a),a))}):t(new ug(Ap(e),e))}),b$=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(v$(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Oc(e,t,r,n,a,i){return Ci(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,b$(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>x$(c,l,n))})})}function gd(e,t,r,n){return Ci(this,void 0,void 0,function*(){return Oc(e,"GET",t,r,n)})}function cn(e,t,r,n,a){return Ci(this,void 0,void 0,function*(){return Oc(e,"POST",t,n,a,r)})}function fg(e,t,r,n,a){return Ci(this,void 0,void 0,function*(){return Oc(e,"PUT",t,n,a,r)})}function w$(e,t,r,n){return Ci(this,void 0,void 0,function*(){return Oc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function GN(e,t,r,n,a){return Ci(this,void 0,void 0,function*(){return Oc(e,"DELETE",t,n,a,r)})}var Ht=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const _$={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class j${constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=VN(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Ht(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Fb),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?fg:cn)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Ht(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Fb.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield fg(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(gt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ht(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield cn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new rv("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ht(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Ht(this,void 0,void 0,function*(){try{return{data:{path:(yield cn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Ht(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield cn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Ht(this,void 0,void 0,function*(){try{const a=yield cn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gt(a))return{data:null,error:a};throw a}})}download(t,r){return Ht(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield gd(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(gt(l))return{data:null,error:l};throw l}})}info(t){return Ht(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield gd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:dg(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}exists(t){return Ht(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield w$(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n)&&n instanceof ug){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Ht(this,void 0,void 0,function*(){try{return{data:yield GN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ht(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},_$),r),{prefix:t||""});return{data:yield cn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gt(a))return{data:null,error:a};throw a}})}listV2(t,r){return Ht(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield cn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const S$="2.12.1",N$={"X-Client-Info":`storage-js/${S$}`};var Ii=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class k${constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},N$),r),this.fetch=VN(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ii(this,void 0,void 0,function*(){try{return{data:yield gd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(gt(t))return{data:null,error:t};throw t}})}getBucket(t){return Ii(this,void 0,void 0,function*(){try{return{data:yield gd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Ii(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Ii(this,void 0,void 0,function*(){try{return{data:yield fg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ii(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ii(this,void 0,void 0,function*(){try{return{data:yield GN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}}class P$ extends k${constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new j$(this.url,this.headers,t,this.fetch)}}const C$="2.57.4";let Ks="";typeof Deno<"u"?Ks="deno":typeof document<"u"?Ks="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ks="react-native":Ks="node";const A$={"X-Client-Info":`supabase-js-${Ks}/${C$}`},O$={headers:A$},E$={schema:"public"},T$={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$$={};var M$=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const I$=e=>{let t;return e?t=e:typeof fetch>"u"?t=TN:t=fetch,(...r)=>t(...r)},R$=()=>typeof Headers>"u"?$N:Headers,D$=(e,t,r)=>{const n=I$(r),a=R$();return(i,o)=>M$(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var L$=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function U$(e){return e.endsWith("/")?e:e+"/"}function F$(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>L$(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function B$(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(U$(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const KN="2.71.1",Wi=30*1e3,hg=3,Op=hg*Wi,z$="http://localhost:9999",q$="supabase.auth.token",W$={"X-Client-Info":`gotrue-js/${KN}`},pg="X-Supabase-Api-Version",QN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},H$=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,V$=10*60*1e3;class nv extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Pe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class G$ extends nv{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function K$(e){return Pe(e)&&e.name==="AuthApiError"}class YN extends nv{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Oa extends nv{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class aa extends Oa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Q$(e){return Pe(e)&&e.name==="AuthSessionMissingError"}class cu extends Oa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class uu extends Oa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class du extends Oa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Y$(e){return Pe(e)&&e.name==="AuthImplicitGrantRedirectError"}class Bb extends Oa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mg extends Oa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ep(e){return Pe(e)&&e.name==="AuthRetryableFetchError"}class zb extends Oa{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class gg extends Oa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const yd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qb=` 	
\r=`.split(""),X$=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<qb.length;t+=1)e[qb[t].charCodeAt(0)]=-2;for(let t=0;t<yd.length;t+=1)e[yd[t].charCodeAt(0)]=t;return e})();function Wb(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(yd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(yd[n]),t.queuedBits-=6}}function XN(e,t,r){const n=X$[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Hb(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{e5(o,n,r)};for(let o=0;o<e.length;o+=1)XN(e.charCodeAt(o),a,i);return t.join("")}function J$(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Z$(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}J$(n,t)}}function e5(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function t5(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)XN(e.charCodeAt(a),r,n);return new Uint8Array(t)}function r5(e){const t=[];return Z$(e,r=>t.push(r)),new Uint8Array(t)}function n5(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>Wb(a,r,n)),Wb(null,r,n),t.join("")}function a5(e){return Math.round(Date.now()/1e3)+e}function i5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Br=()=>typeof window<"u"&&typeof document<"u",Da={tested:!1,writable:!1},JN=()=>{if(!Br())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Da.tested)return Da.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Da.tested=!0,Da.writable=!0}catch{Da.tested=!0,Da.writable=!1}return Da.writable};function o5(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const ZN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Cc(async()=>{const{default:n}=await Promise.resolve().then(()=>os);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},s5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Hi=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},La=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},na=async(e,t)=>{await e.removeItem(t)};class Gf{constructor(){this.promise=new Gf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Gf.promiseConstructor=Promise;function Tp(e){const t=e.split(".");if(t.length!==3)throw new gg("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!H$.test(t[n]))throw new gg("JWT not in base64url format");return{header:JSON.parse(Hb(t[0])),payload:JSON.parse(Hb(t[1])),signature:t5(t[2]),raw:{header:t[0],payload:t[1]}}}async function l5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function c5(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function u5(e){return("0"+e.toString(16)).substr(-2)}function d5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,u5).join("")}async function f5(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function h5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await f5(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ri(e,t,r=!1){const n=d5();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Hi(e,`${t}-code-verifier`,a);const i=await h5(n);return[i,n===i?"plain":"s256"]}const p5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function m5(e){const t=e.headers.get(pg);if(!t||!t.match(p5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function g5(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function y5(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const v5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Di(e){if(!v5.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $p(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vb(e){return JSON.parse(JSON.stringify(e))}var x5=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Ha=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),b5=[502,503,504];async function Gb(e){var t;if(!s5(e))throw new mg(Ha(e),0);if(b5.includes(e.status))throw new mg(Ha(e),e.status);let r;try{r=await e.json()}catch(i){throw new YN(Ha(i),i)}let n;const a=m5(e);if(a&&a.getTime()>=QN["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new zb(Ha(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new aa}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new zb(Ha(r),e.status,r.weak_password.reasons);throw new G$(Ha(r),e.status||500,n)}const w5=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ae(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[pg]||(i[pg]=QN["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await _5(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function _5(e,t,r,n,a,i){const o=w5(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new mg(Ha(c),0)}if(l.ok||await Gb(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Gb(c)}}function kn(e){var t;let r=null;k5(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=a5(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Kb(e){const t=kn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ua(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function j5(e){return{data:e,error:null}}function S5(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=x5(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function N5(e){return e}function k5(e){return e.access_token&&e.refresh_token&&e.expires_in}const Mp=["global","local","others"];var P5=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class C5{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=ZN(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Mp[0]){if(Mp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mp.join(", ")}`);try{return await Ae(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ua})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=P5(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:S5,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Pe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ae(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ua})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:N5});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Pe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Di(t);try{return await Ae(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ua})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Di(t);try{return await Ae(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ua})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Di(t);try{return await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ua})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Di(t.userId);try{const{data:r,error:n}=await Ae(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Di(t.userId),Di(t.id);try{return{data:await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}}function Qb(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function A5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Li={debug:!!(globalThis&&JN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ek extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class O5 extends ek{}async function E5(e,t,r){Li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Li.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Li.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Li.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new O5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Li.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}A5();const T5={url:z$,storageKey:q$,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:W$,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Yb(e,t,r){return await r()}const Ui={};class Ml{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ml.nextInstanceID,Ml.nextInstanceID+=1,this.instanceID>0&&Br()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},T5),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new C5({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=ZN(a.fetch),this.lock=a.lock||Yb,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Br()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=E5:this.lock=Yb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:JN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Qb(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Qb(this.memoryStorage)),Br()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Ui[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ui[this.storageKey]=Object.assign(Object.assign({},Ui[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ui[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ui[this.storageKey]=Object.assign(Object.assign({},Ui[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${KN}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=o5(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Br()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Y$(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Pe(r)?{error:r}:{error:new YN("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:kn}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Pe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Ri(this.storage,this.storageKey)),i=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:kn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:kn})}else throw new uu("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Pe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Kb})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Kb})}else throw new uu("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new cu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Pe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,f,h,p;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:v,wallet:y,statement:b,options:x}=t;let S;if(Br())if(typeof y=="object")S=y;else{const w=window;if("solana"in w&&typeof w.solana=="object"&&("signIn"in w.solana&&typeof w.solana.signIn=="function"||"signMessage"in w.solana&&typeof w.solana.signMessage=="function"))S=w.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const j=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const w=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),b?{statement:b}:null));let C;if(Array.isArray(w)&&w[0]&&typeof w[0]=="object")C=w[0];else if(w&&typeof w=="object"&&"signedMessage"in w&&"signature"in w)C=w;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)m=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),g=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${j.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const w=await S.signMessage(new TextEncoder().encode(m),"utf8");if(!w||!(w instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=w}}try{const{data:v,error:y}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:n5(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:kn});if(y)throw y;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new cu}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:y})}catch(v){if(Pe(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await La(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:kn});if(await na(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new cu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Pe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:kn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new cu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Pe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ri(this.storage,this.storageKey));const{error:f}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new uu("You must provide either an email or phone number.")}catch(l){if(Pe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:kn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Pe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ri(this.storage,this.storageKey)),await Ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:j5})}catch(i){if(Pe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new aa;const{error:a}=await Ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Pe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Ae(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Ae(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new uu("You must provide either an email or phone number and a type")}catch(r){if(Pe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await La(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Op:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await La(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=$p()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ua}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new aa}:await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:ua})})}catch(r){if(Pe(r))return Q$(r)&&(await this._removeSession(),await na(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new aa;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ri(this.storage,this.storageKey));const{data:u,error:d}=await Ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ua});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new aa;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Tp(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Pe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new aa;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Pe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Br())throw new du("No browser detected.");if(t.error||t.error_description||t.error_code)throw new du(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Bb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new du("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Bb("No code detected.");const{data:b,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new du("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Wi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:g,error:v}=await this._getUser(i);if(v)throw v;const y={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(Pe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await La(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(K$(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await na(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=i5(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Ri(this.storage,this.storageKey,!0));try{return await Ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Pe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ae(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Br()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Pe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Ae(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await c5(async a=>(a>0&&await l5(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:kn})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Ep(i)&&Date.now()+o-n<Wi})}catch(n){if(this._debug(r,"error",n),Pe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Br()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await La(this.storage,this.storageKey);if(a&&this.userStorage){let o=await La(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Hi(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:$p()}else if(a&&!a.user&&!a.user){const o=await La(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await na(this.storage,this.storageKey+"-user"),await Hi(this.storage,this.storageKey,a)):a.user=$p()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Op;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Op}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Ep(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new aa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Gf;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new aa;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Pe(i)){const o={session:null,error:i};return Ep(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Hi(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=Vb(a);await Hi(this.storage,this.storageKey,i)}else{const a=Vb(r);await Hi(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await na(this.storage,this.storageKey),await na(this.storage,this.storageKey+"-code-verifier"),await na(this.storage,this.storageKey+"-user"),this.userStorage&&await na(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Br()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Wi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Wi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Wi}ms, refresh threshold is ${hg} ticks`),a<=hg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ek)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Br()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ri(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Ae(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Ae(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await Ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Tp(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+V$>a)return n;const{data:i,error:o}=await Ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};n=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Tp(n);r!=null&&r.allowExpired||g5(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const d=y5(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,r5(`${l}.${c}`)))throw new gg("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}}Ml.nextInstanceID=0;const $5=Ml;class M5 extends $5{constructor(t){super(t)}}var I5=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class R5{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=B$(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:E$,realtime:$$,auth:Object.assign(Object.assign({},T$),{storageKey:c}),global:O$},d=F$(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=D$(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new X3(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new P$(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new A3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return I5(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new M5({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new p$(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const D5=(e,t,r)=>new R5(e,t,r);function L5(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}L5()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const U5=void 0,F5=void 0;throw new Error("Missing Supabase environment variables");const ee=D5(U5,F5,{auth:{persistSession:!0,storageKey:"aimenu-auth",storage:window.localStorage,autoRefreshToken:!0,detectSessionInUrl:!0}}),tk=T.createContext(void 0);function B5({children:e}){const[t,r]=T.useState(null),[n,a]=T.useState(null),[i,o]=T.useState(!0),[l,c]=T.useState(null),[u,d]=T.useState(null),[f,h]=T.useState(!1);T.useEffect(()=>{ee.auth.getSession().then(({data:{session:j}})=>{a(j),r((j==null?void 0:j.user)??null),j!=null&&j.user?(p(j.user.id),m(j.user.id)):o(!1)});const{data:{subscription:S}}=ee.auth.onAuthStateChange((j,w)=>{(async()=>(a(w),r((w==null?void 0:w.user)??null),w!=null&&w.user&&(await p(w.user.id),m(w.user.id))))()});return()=>S.unsubscribe()},[]);const p=async S=>{try{const{data:j,error:w}=await ee.from("user_roles").select("role").eq("user_id",S).maybeSingle();if(w){console.error("Error fetching user role:",w),c("client"),o(!1);return}c(j?j.role:"client"),o(!1)}catch(j){console.error("Exception fetching user role:",j),c("client"),o(!1)}},m=S=>{const j=localStorage.getItem("impersonating_user_id");j?(h(!0),d(j)):(h(!1),d(S))},x={user:t,session:n,loading:i,userRole:l,effectiveUserId:u,isImpersonating:f,signIn:async(S,j)=>{const{data:w,error:C}=await ee.auth.signInWithPassword({email:S,password:j});if(C)throw C;if(w.user){const{data:k,error:N}=await ee.from("user_profiles").select("is_disabled").eq("id",w.user.id).maybeSingle();if(N&&console.error("Error checking user status:",N),k!=null&&k.is_disabled)throw await ee.auth.signOut(),new Error("Your account has been disabled. Please contact support.")}},signUp:async(S,j)=>{const{data:w,error:C}=await ee.auth.signUp({email:S,password:j});if(C)throw C;return{user:w.user}},signOut:async()=>{localStorage.removeItem("impersonating_user_id");const{error:S}=await ee.auth.signOut();if(S)throw S},stopImpersonating:()=>{localStorage.removeItem("impersonating_user_id"),h(!1),d((t==null?void 0:t.id)||null),window.location.href=l==="admin"?"/admin":"/reseller"}};return s.jsx(tk.Provider,{value:x,children:e})}function ze(){const e=T.useContext(tk);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const z5={nav:{general:"General",dashboard:"Dashboard",myRestaurant:"My Restaurant",visualIdentity:"Visual Identity",contactInfo:"Contact Information",myMenus:"My Menus",qrCode:"QR Code",clientServices:"Client Services",reservations:"Reservations",configuration:"Configuration",settings:"Settings",invoices:"Invoices",search:"Search..."},auth:{login:"Log In",register:"Sign Up",email:"Email",password:"Password",confirmPassword:"Confirm Password",forgotPassword:"Forgot password?",noAccount:"Don't have an account?",hasAccount:"Already have an account?",logout:"Log Out",loggingIn:"Logging in...",signingUp:"Signing up..."},dashboard:{welcome:"Welcome",manageRestaurant:"Manage your restaurant easily with CloudMenu",subscriptionStatus:"Subscription Status",analyticsOverview:"Analytics Overview",today:"Today",thisWeek:"This Week",thisMonth:"This Month",allTime:"All Time",visitsToday:"visits today",visitsThisWeek:"visits this week",visitsThisMonth:"visits this month",totalVisits:"total visits",trafficSources:"Traffic Sources (Last 7 Days)",qrCode:"QR Code",facebook:"Facebook",instagram:"Instagram",tiktok:"TikTok",linkedin:"LinkedIn",googleMyBusiness:"Google My Business",direct:"Direct",welcomeTitle:"Welcome to Ai Menu!",welcomeDescription:"Easily manage your online menu and provide a modern experience to your customers.",qrScans:"QR Code Scans",gmbVisits:"GMB Visits",fbShares:"FB Shares",igShares:"IG Shares",liShares:"LI Shares",ttShares:"TT Shares",totalViews:"Total Views",visitsEvolution:"Visits Evolution",comparisonByAccess:"Comparison by access type",last7Days:"Last 7 days",last30Days:"Last 30 days",last90Days:"Last 90 days",last180Days:"Last 6 months",last365Days:"Last year",scanToday:"scan today",scansToday:"scans today",noScanToday:"No scan today",visitToday:"visit today",visitsGmbToday:"GMB visits today",noVisitGmbToday:"No GMB visit today",shareToday:"share today",sharesToday:"shares today",noShareToday:"No share today",visitsThisMonthCount:"visits this month",sourceLabels:{QR:"QR Scans",GMB:"GMB Visits",FB:"FB Shares",IG:"IG Shares",LI:"LI Shares",TT:"TT Shares"}},visualIdentity:{title:"Visual Identity",generalSettings:"General Settings",restaurantName:"Restaurant Name",restaurantNamePlaceholder:"Enter your restaurant name",slug:"Public Menu URL",slugPlaceholder:"restaurant-name",slugHelper:"This will be your public menu URL",slugLocked:"URL slug cannot be changed after first save",slugAvailable:"Available",slugTaken:"Already taken",slugChecking:"Checking...",logo:"Restaurant Logo",uploadLogo:"Upload Logo",changeLogo:"Change Logo",currencySettings:"Currency Settings",currencySymbol:"Currency Symbol",currencySymbolHint:"E.g., $, , , ",currencyPosition:"Currency Position",left:"Left",right:"Right",descriptions:"Description",descriptionEn:"Description (English)",descriptionFr:"Description (French)",descriptionPlaceholder:"Describe your restaurant...",colorSettings:"Color Configuration",colors:"Brand Colors",primaryColor:"Primary Color",secondaryColor:"Secondary Color",heroBackground:"Header Background",footerBackground:"Footer Background",footerTextPrimary:"Footer Primary Text",footerTextSecondary:"Footer Secondary Text",footerColors:"Footer Colors",background:"Background",primaryText:"Primary Text",secondaryText:"Secondary Text",footerPreview:"Footer Preview",footerPreviewSecondary:"This is an example of secondary text in your footer",predefinedPalettes:"Predefined Palettes",predefinedPalettesDescription:"Apply a complete palette for your visual identity with one click",livePreview:"Live Preview",changesApplyRealTime:"Changes apply in real time",contactInfo:"Contact Information",phone:"Phone",phonePlaceholder:"+1 234 567 8900",emailLabel:"Email",emailPlaceholder:"contact@restaurant.com",address:"Address",addressPlaceholder:"Street, City, Postal Code",publicMenuUrl:"Public Menu URL",copyUrl:"Copy URL",urlCopied:"URL copied!",save:"Save Changes",saving:"Saving...",saved:"Saved successfully!",error:"Error saving changes"},categories:{title:"Menu Categories",add:"Add Category",nameEn:"Name (English)",nameFr:"Name (French)",namePlaceholder:"Category name",edit:"Edit",delete:"Delete",save:"Save",cancel:"Cancel",deleteConfirm:"Are you sure you want to delete this category?",noCategories:"No categories yet",createFirst:"Create your first category to organize your menu"},items:{title:"Menu Items",add:"Add Item",nameEn:"Name (English)",nameFr:"Name (French)",descriptionEn:"Description (English)",descriptionFr:"Description (French)",price:"Price",category:"Category",image:"Image",uploadImage:"Upload Image",available:"Available",unavailable:"Unavailable",edit:"Edit",delete:"Delete",save:"Save",cancel:"Cancel",deleteConfirm:"Are you sure you want to delete this item?",noItems:"No items yet",createFirst:"Add your first menu item",selectCategory:"Select a category"},publicMenu:{notFound:"Restaurant not found",noCategories:"No menu available yet",unavailable:"Currently unavailable"},menu:{createMenu:"Create Menu",createNewMenu:"Create New Menu",noMenus:"No Menus Yet",createFirstMenu:"Create your first menu to get started",menuName:"Menu Name",menuNamePlaceholder:"Menu name",status:"Status",visibility:"Visibility",published:"Published",edit:"Edit",hideMenu:"Hide Menu",showMenu:"Show Menu",deleteMenu:"Delete Menu",confirmDelete:"Are you sure you want to delete this menu?",noRestaurant:"No Restaurant Found",createRestaurantFirst:"Please create your restaurant profile first",goToVisualIdentity:"Go to Visual Identity",backToMenus:"Back to Menus",addCategory:"Add Category",noCategories:"No Categories Yet",createFirstCategory:"Create your first category to organize menu items",categoryName:"Category Name",categoryNamePlaceholder:"Category name",description:"Description",descriptionPlaceholder:"Optional description",confirmDeleteCategory:"Are you sure you want to delete this category?",addItem:"Add Item",noItems:"No Items Yet",itemName:"Item Name",itemNamePlaceholder:"Item name",price:"Price",photoUrl:"Photo URL",photoUrlPlaceholder:"https://example.com/photo.jpg",confirmDeleteItem:"Are you sure you want to delete this item?",menuSettings:"Menu Settings",menuImage:"Menu Image",menuImageHelper:"Upload an image for your menu. This will be displayed on the menu list page and public menu pages.",menuImageSize:"Recommended size: 800x600px. Max file size: 5MB.",colorPalette:"Color Palette",colorPaletteHelper:"Select a color palette to customize the appearance of your public menu pages",uploadImage:"Click to upload image",saveChanges:"Save Changes",uploading:"Uploading..."},common:{loading:"Loading...",error:"An error occurred",success:"Success",confirm:"Confirm",cancel:"Cancel",yes:"Yes",no:"No",close:"Close",create:"Create",update:"Update",saving:"Saving..."},footer:{contactUs:"Contact Us",followUs:"Follow Us",allRightsReserved:"All rights reserved"},subscription:{accountCreated:"Account Created Successfully!",welcomeMessage:"Welcome to CloudMenu! To access all dashboard features and start managing your restaurant menus, please subscribe to our AI Menu plan below.",completeSetup:"Complete Your Setup",subscriptionPlans:"Subscription Plans",subscribeUnlock:"Subscribe now to unlock all features and start creating amazing menus",selectPlan:"Select the perfect plan to empower your restaurant with AI",perMonth:"/month",aiPoweredManagement:"AI-powered menu management",automaticTranslations:"Automatic translations",smartRecommendations:"Smart recommendations",subscribeNow:"Subscribe Now",checking:"Checking...",alreadySubscribed:"Already Subscribed",processing:"Processing...",alreadyHaveSubscription:'You already have an active subscription. Use "Manage Billing" to make changes.',alreadyActiveAlert:"You already have an active subscription. Please manage your subscription through the billing portal.",noSubscription:"No Subscription",subscription:"Subscription",expires:"Expires:",renews:"Renews:"},contactInfo:{title:"Contact Information",subtitle:"Manage your contact details and social media links",contactDetails:"Contact Details",phone:"Phone",phonePlaceholder:"+1 234 567 8900",email:"Email",emailPlaceholder:"contact@restaurant.com",address:"Address",addressPlaceholder:"123 Main Street, City, Postal Code",socialMedia:"Social Media",instagram:"Instagram",instagramPlaceholder:"https://instagram.com/your-restaurant",facebook:"Facebook",facebookPlaceholder:"https://facebook.com/your-restaurant",tiktok:"TikTok",tiktokPlaceholder:"https://tiktok.com/@your-restaurant",linkedin:"LinkedIn",linkedinPlaceholder:"https://linkedin.com/company/your-restaurant",googleMapsUrl:"Google Maps URL",googleMapsPlaceholder:"https://maps.google.com/?q=your+restaurant",googleMapsHelper:"Copy the share link from Google Maps",save:"Save",saving:"Saving...",saveSuccess:"Contact information saved successfully!",saveError:"Error saving information"},qrCode:{title:"Restaurant QR Code",subtitle:"Download your customized QR code to display in your establishment. It provides access to all your menus.",notConfigured:"Restaurant not configured",notConfiguredMessage:"You must first configure your restaurant in Visual Identity before generating a QR Code.",goToVisualIdentity:"Go to Visual Identity",restaurantUrl:"Your restaurant URL",qrCodeUrl:"QR Code URL",copy:"Copy",copied:"Copied",customization:"Customization",predefinedColors:"Predefined Colors",classicBlack:"Classic Black",navyBlue:"Navy Blue",darkGreen:"Dark Green",burgundy:"Burgundy",purple:"Purple",orange:"Orange",qrColor:"QR code color",backgroundColor:"Background color",logoCenter:"Logo at center of QR code",addLogo:"Add a logo",logoFormat:"PNG, JPG up to 2MB",preview:"QR Code Preview",qrCodeMenu:"Menu QR Code",download:"Download QR Code",howToUse:"How to use your QR Code",step1:"Download the QR code by clicking the button above",step2:"Print it and place it on your tables, counter or storefront",step3:"Your customers scan the QR code with their phone",step4:"They access your online menu directly!",socialMediaTitle:"Social Media & Marketing URLs",socialMediaDescription:"Use these tracked URLs for your social media profiles and marketing campaigns",facebook:"Facebook",instagram:"Instagram",tiktok:"TikTok",linkedin:"LinkedIn",googleMyBusiness:"Google My Business"}},q5={nav:{general:"Gnral",dashboard:"Tableau de Bord",myRestaurant:"Mon Restaurant",visualIdentity:"Identit Visuelle",contactInfo:"Informations de Contact",myMenus:"Mes Menus",qrCode:"Code QR",clientServices:"Services Clients",reservations:"Rservations",configuration:"Configuration",settings:"Paramtres",invoices:"Factures",search:"Rechercher..."},auth:{login:"Se Connecter",register:"S'inscrire",email:"Email",password:"Mot de passe",confirmPassword:"Confirmer le mot de passe",forgotPassword:"Mot de passe oubli?",noAccount:"Vous n'avez pas de compte?",hasAccount:"Vous avez dj un compte?",logout:"Se Dconnecter",loggingIn:"Connexion en cours...",signingUp:"Inscription en cours..."},dashboard:{welcome:"Bienvenue",manageRestaurant:"Grez votre restaurant facilement avec CloudMenu",subscriptionStatus:"tat de l'Abonnement",analyticsOverview:"Aperu des Statistiques",today:"Aujourd'hui",thisWeek:"Cette Semaine",thisMonth:"Ce Mois",allTime:"Tous les Temps",visitsToday:"visites aujourd'hui",visitsThisWeek:"visites cette semaine",visitsThisMonth:"visites ce mois",totalVisits:"total des visites",trafficSources:"Sources de Trafic (7 Derniers Jours)",qrCode:"Code QR",facebook:"Facebook",instagram:"Instagram",tiktok:"TikTok",linkedin:"LinkedIn",googleMyBusiness:"Google My Business",direct:"Direct",welcomeTitle:"Bienvenue sur Ai Menu !",welcomeDescription:"Grez facilement votre menu en ligne et offrez une exprience moderne  vos clients.",qrScans:"Scans QR Code",gmbVisits:"Visites GMB",fbShares:"Partages FB",igShares:"Partages IG",liShares:"Partages LI",ttShares:"Partages TT",totalViews:"Total des vues",visitsEvolution:"volution des visites",comparisonByAccess:"Comparaison par type d'accs",last7Days:"7 derniers jours",last30Days:"30 derniers jours",last90Days:"90 derniers jours",last180Days:"6 derniers mois",last365Days:"Dernire anne",scanToday:"scan aujourd'hui",scansToday:"scans aujourd'hui",noScanToday:"Aucun scan aujourd'hui",visitToday:"visite aujourd'hui",visitsGmbToday:"visites GMB aujourd'hui",noVisitGmbToday:"Aucune visite GMB aujourd'hui",shareToday:"partage aujourd'hui",sharesToday:"partages aujourd'hui",noShareToday:"Aucun partage aujourd'hui",visitsThisMonthCount:"visites ce mois",sourceLabels:{QR:"Scans QR",GMB:"Visites GMB",FB:"Partages FB",IG:"Partages IG",LI:"Partages LI",TT:"Partages TT"}},visualIdentity:{title:"Identit Visuelle",generalSettings:"Paramtres Gnraux",restaurantName:"Nom du Restaurant",restaurantNamePlaceholder:"Entrez le nom de votre restaurant",slug:"URL du Menu Public",slugPlaceholder:"nom-restaurant",slugHelper:"Ceci sera l'URL publique de votre menu",slugLocked:"L'URL ne peut pas tre modifie aprs la premire sauvegarde",slugAvailable:"Disponible",slugTaken:"Dj pris",slugChecking:"Vrification...",logo:"Logo du Restaurant",uploadLogo:"Tlcharger le Logo",changeLogo:"Changer le Logo",currencySettings:"Paramtres de Devise",currencySymbol:"Symbole de Devise",currencySymbolHint:"Ex: $, , , ",currencyPosition:"Position de la Devise",left:"Gauche",right:"Droite",descriptions:"Description",descriptionEn:"Description (Anglais)",descriptionFr:"Description (Franais)",descriptionPlaceholder:"Dcrivez votre restaurant...",colorSettings:"Configuration des Couleurs",colors:"Couleurs de Marque",primaryColor:"Couleur Principale",secondaryColor:"Couleur Secondaire",heroBackground:"Fond de l'En-tte",footerBackground:"Fond du Pied de Page",footerTextPrimary:"Texte Principal du Pied de Page",footerTextSecondary:"Texte Secondaire du Pied de Page",footerColors:"Couleurs du Footer",background:"Arrire-plan",primaryText:"Texte Principal",secondaryText:"Texte Secondaire",footerPreview:"Aperu du Footer",footerPreviewSecondary:"Ceci est un exemple de texte secondaire dans votre footer",predefinedPalettes:"Palettes Prdfinies",predefinedPalettesDescription:"Appliquez une palette complte pour votre identit visuelle en un clic",livePreview:"Aperu en Direct",changesApplyRealTime:"Les changements s'appliquent en temps rel",contactInfo:"Coordonnes",phone:"Tlphone",phonePlaceholder:"+33 1 23 45 67 89",emailLabel:"Email",emailPlaceholder:"contact@restaurant.com",address:"Adresse",addressPlaceholder:"Rue, Ville, Code Postal",publicMenuUrl:"URL du Menu Public",copyUrl:"Copier l'URL",urlCopied:"URL copie!",save:"Enregistrer les Modifications",saving:"Enregistrement...",saved:"Enregistr avec succs!",error:"Erreur lors de l'enregistrement"},categories:{title:"Catgories de Menu",add:"Ajouter une Catgorie",nameEn:"Nom (Anglais)",nameFr:"Nom (Franais)",namePlaceholder:"Nom de la catgorie",edit:"Modifier",delete:"Supprimer",save:"Enregistrer",cancel:"Annuler",deleteConfirm:"tes-vous sr de vouloir supprimer cette catgorie?",noCategories:"Aucune catgorie pour le moment",createFirst:"Crez votre premire catgorie pour organiser votre menu"},items:{title:"Articles du Menu",add:"Ajouter un Article",nameEn:"Nom (Anglais)",nameFr:"Nom (Franais)",descriptionEn:"Description (Anglais)",descriptionFr:"Description (Franais)",price:"Prix",category:"Catgorie",image:"Image",uploadImage:"Tlcharger une Image",available:"Disponible",unavailable:"Non disponible",edit:"Modifier",delete:"Supprimer",save:"Enregistrer",cancel:"Annuler",deleteConfirm:"tes-vous sr de vouloir supprimer cet article?",noItems:"Aucun article pour le moment",createFirst:"Ajoutez votre premier article au menu",selectCategory:"Slectionner une catgorie"},publicMenu:{notFound:"Restaurant non trouv",noCategories:"Menu pas encore disponible",unavailable:"Actuellement non disponible"},menu:{createMenu:"Crer un Menu",createNewMenu:"Crer un Nouveau Menu",noMenus:"Aucun Menu",createFirstMenu:"Crez votre premier menu pour commencer",menuName:"Nom du Menu",menuNamePlaceholder:"Nom du menu",status:"Statut",visibility:"Visibilit",published:"Publi",edit:"Modifier",hideMenu:"Masquer le Menu",showMenu:"Afficher le Menu",deleteMenu:"Supprimer le Menu",confirmDelete:"tes-vous sr de vouloir supprimer ce menu?",noRestaurant:"Aucun Restaurant Trouv",createRestaurantFirst:"Veuillez crer le profil de votre restaurant en premier",goToVisualIdentity:"Aller  Identit Visuelle",backToMenus:"Retour aux Menus",addCategory:"Ajouter une Catgorie",noCategories:"Aucune Catgorie",createFirstCategory:"Crez votre premire catgorie pour organiser les articles",categoryName:"Nom de la Catgorie",categoryNamePlaceholder:"Nom de la catgorie",description:"Description",descriptionPlaceholder:"Description optionnelle",confirmDeleteCategory:"tes-vous sr de vouloir supprimer cette catgorie?",addItem:"Ajouter un Article",noItems:"Aucun Article",itemName:"Nom de l'Article",itemNamePlaceholder:"Nom de l'article",price:"Prix",photoUrl:"URL de la Photo",photoUrlPlaceholder:"https://example.com/photo.jpg",confirmDeleteItem:"tes-vous sr de vouloir supprimer cet article?",menuSettings:"Paramtres du Menu",menuImage:"Image du Menu",menuImageHelper:"Tlchargez une image pour votre menu. Elle sera affiche sur la page de liste des menus et les pages publiques du menu.",menuImageSize:"Taille recommande: 800x600px. Taille maximale: 5 Mo.",colorPalette:"Palette de Couleurs",colorPaletteHelper:"Slectionnez une palette de couleurs pour personnaliser l'apparence de vos pages de menu publiques",uploadImage:"Cliquez pour tlcharger une image",saveChanges:"Enregistrer les Modifications",uploading:"Tlchargement..."},common:{loading:"Chargement...",error:"Une erreur s'est produite",success:"Succs",confirm:"Confirmer",cancel:"Annuler",yes:"Oui",no:"Non",close:"Fermer",create:"Crer",update:"Mettre  jour",saving:"Enregistrement..."},footer:{contactUs:"Nous Contacter",followUs:"Suivez-nous",allRightsReserved:"Tous droits rservs"},subscription:{accountCreated:"Compte Cr avec Succs!",welcomeMessage:"Bienvenue sur CloudMenu! Pour accder  toutes les fonctionnalits du tableau de bord et commencer  grer vos menus de restaurant, veuillez vous abonner  notre plan AI Menu ci-dessous.",completeSetup:"Compltez Votre Configuration",subscriptionPlans:"Plans d'Abonnement",subscribeUnlock:"Abonnez-vous maintenant pour dverrouiller toutes les fonctionnalits et commencer  crer des menus extraordinaires",selectPlan:"Slectionnez le plan parfait pour donner  votre restaurant la puissance de l'IA",perMonth:"/mois",aiPoweredManagement:"Gestion de menu alimente par l'IA",automaticTranslations:"Traductions automatiques",smartRecommendations:"Recommandations intelligentes",subscribeNow:"S'abonner Maintenant",checking:"Vrification...",alreadySubscribed:"Dj Abonn",processing:"Traitement...",alreadyHaveSubscription:'Vous avez dj un abonnement actif. Utilisez "Grer la Facturation" pour apporter des modifications.',alreadyActiveAlert:"Vous avez dj un abonnement actif. Veuillez grer votre abonnement via le portail de facturation.",noSubscription:"Pas d'Abonnement",subscription:"Abonnement",expires:"Expire le:",renews:"Renouvelle le:"},contactInfo:{title:"Informations de Contact",subtitle:"Grez vos coordonnes et liens de rseaux sociaux",contactDetails:"Coordonnes",phone:"Tlphone",phonePlaceholder:"+33 1 23 45 67 89",email:"Email",emailPlaceholder:"contact@restaurant.fr",address:"Adresse",addressPlaceholder:"123 Rue de la Paix, 75001 Paris",socialMedia:"Rseaux Sociaux",instagram:"Instagram",instagramPlaceholder:"https://instagram.com/votre-restaurant",facebook:"Facebook",facebookPlaceholder:"https://facebook.com/votre-restaurant",tiktok:"TikTok",tiktokPlaceholder:"https://tiktok.com/@votre-restaurant",linkedin:"LinkedIn",linkedinPlaceholder:"https://linkedin.com/company/votre-restaurant",googleMapsUrl:"URL Google Maps",googleMapsPlaceholder:"https://maps.google.com/?q=votre+restaurant",googleMapsHelper:"Copiez le lien de partage depuis Google Maps",save:"Enregistrer",saving:"Enregistrement...",saveSuccess:"Informations de contact enregistres avec succs !",saveError:"Erreur lors de la sauvegarde"},qrCode:{title:"QR Code du restaurant",subtitle:"Tlchargez votre QR code personnalis pour afficher dans votre tablissement. Il permet d'accder  tous vos menus.",notConfigured:"Restaurant non configur",notConfiguredMessage:"Vous devez d'abord configurer votre restaurant dans Identit Visuelle avant de gnrer un QR Code.",goToVisualIdentity:"Aller  Identit Visuelle",restaurantUrl:"URL de votre restaurant",qrCodeUrl:"URL du QR Code",copy:"Copier",copied:"Copi",customization:"Personnalisation",predefinedColors:"Couleurs prdfinies",classicBlack:"Noir classique",navyBlue:"Bleu marine",darkGreen:"Vert fonc",burgundy:"Rouge bordeaux",purple:"Violet",orange:"Orange",qrColor:"Couleur du QR code",backgroundColor:"Couleur d'arrire-plan",logoCenter:"Logo au centre du QR code",addLogo:"Ajouter un logo",logoFormat:"PNG, JPG jusqu' 2MB",preview:"Aperu du QR Code",qrCodeMenu:"QR Code du menu",download:"Tlcharger le QR Code",howToUse:"Comment utiliser votre QR Code",step1:"Tlchargez le QR code en cliquant sur le bouton ci-dessus",step2:"Imprimez-le et placez-le sur vos tables, comptoir ou vitrine",step3:"Vos clients scannent le QR code avec leur tlphone",step4:"Ils accdent directement  votre menu en ligne !",socialMediaTitle:"URLs Rseaux Sociaux & Marketing",socialMediaDescription:"Utilisez ces URLs suivies pour vos profils de rseaux sociaux et campagnes marketing",facebook:"Facebook",instagram:"Instagram",tiktok:"TikTok",linkedin:"LinkedIn",googleMyBusiness:"Google My Business"}},W5={nav:{general:"General",dashboard:"Panel de Control",myRestaurant:"Mi Restaurante",visualIdentity:"Identidad Visual",contactInfo:"Informacin de Contacto",myMenus:"Mis Mens",qrCode:"Cdigo QR",clientServices:"Servicios al Cliente",reservations:"Reservas",configuration:"Configuracin",settings:"Ajustes",invoices:"Facturas",search:"Buscar..."},auth:{login:"Iniciar Sesin",register:"Registrarse",email:"Correo Electrnico",password:"Contrasea",confirmPassword:"Confirmar Contrasea",forgotPassword:"Olvidaste tu contrasea?",noAccount:"No tienes una cuenta?",hasAccount:"Ya tienes una cuenta?",logout:"Cerrar Sesin",loggingIn:"Iniciando sesin...",signingUp:"Registrndose..."},dashboard:{welcome:"Bienvenido",manageRestaurant:"Gestiona tu restaurante fcilmente con CloudMenu"},visualIdentity:{title:"Identidad Visual",restaurantName:"Nombre del Restaurante",restaurantNamePlaceholder:"Ingresa el nombre de tu restaurante",slug:"URL del Men",slugPlaceholder:"nombre-restaurante",slugHelper:"Esta ser la URL pblica de tu men",slugLocked:"La URL no se puede cambiar despus del primer guardado",slugAvailable:"Disponible",slugTaken:"Ya tomado",slugChecking:"Verificando...",logo:"Logo",uploadLogo:"Subir Logo",changeLogo:"Cambiar Logo",colors:"Colores de Marca",primaryColor:"Color Principal",secondaryColor:"Color Secundario",descriptions:"Descripciones",descriptionEn:"Descripcin (Ingls)",descriptionFr:"Descripcin (Francs)",descriptionPlaceholder:"Describe tu restaurante...",phone:"Telfono",phonePlaceholder:"+34 912 34 56 78",emailLabel:"Correo Electrnico",emailPlaceholder:"contacto@restaurante.com",address:"Direccin",addressPlaceholder:"Calle, Ciudad, Cdigo Postal",publicMenuUrl:"URL del Men Pblico",copyUrl:"Copiar URL",urlCopied:"URL copiada!",currencySettings:"Configuracin de Moneda",currencySymbol:"Smbolo de Moneda",currencySymbolHint:"Ej: $, , , ",currencyPosition:"Posicin de la Moneda",footerColors:"Colores del Pie de Pgina",background:"Fondo",primaryText:"Texto Principal",secondaryText:"Texto Secundario",footerPreview:"Vista Previa del Pie de Pgina",footerPreviewSecondary:"Este es un ejemplo de texto secundario en tu pie de pgina",predefinedPalettes:"Paletas Predefinidas",predefinedPalettesDescription:"Aplica una paleta completa para tu identidad visual con un clic",livePreview:"Vista Previa en Vivo",changesApplyRealTime:"Los cambios se aplican en tiempo real",save:"Guardar Cambios",saving:"Guardando...",saved:"Guardado exitosamente!",error:"Error al guardar cambios"},categories:{title:"Categoras del Men",add:"Agregar Categora",nameEn:"Nombre (Ingls)",nameFr:"Nombre (Francs)",namePlaceholder:"Nombre de la categora",edit:"Editar",delete:"Eliminar",save:"Guardar",cancel:"Cancelar",deleteConfirm:"Ests seguro de que quieres eliminar esta categora?",noCategories:"An no hay categoras",createFirst:"Crea tu primera categora para organizar tu men"},items:{title:"Artculos del Men",add:"Agregar Artculo",nameEn:"Nombre (Ingls)",nameFr:"Nombre (Francs)",descriptionEn:"Descripcin (Ingls)",descriptionFr:"Descripcin (Francs)",price:"Precio",category:"Categora",image:"Imagen",uploadImage:"Subir Imagen",available:"Disponible",unavailable:"No disponible",edit:"Editar",delete:"Eliminar",save:"Guardar",cancel:"Cancelar",deleteConfirm:"Ests seguro de que quieres eliminar este artculo?",noItems:"An no hay artculos",createFirst:"Agrega tu primer artculo al men",selectCategory:"Seleccionar una categora"},publicMenu:{notFound:"Restaurante no encontrado",noCategories:"Men an no disponible",unavailable:"Actualmente no disponible"},menu:{createMenu:"Crear Men",createNewMenu:"Crear Nuevo Men",noMenus:"Sin Mens",createFirstMenu:"Crea tu primer men para comenzar",menuName:"Nombre del Men",menuNamePlaceholder:"Nombre del men",status:"Estado",visibility:"Visibilidad",published:"Publicado",edit:"Editar",hideMenu:"Ocultar Men",showMenu:"Mostrar Men",deleteMenu:"Eliminar Men",confirmDelete:"Ests seguro de que quieres eliminar este men?",noRestaurant:"Restaurante No Encontrado",createRestaurantFirst:"Por favor, crea el perfil de tu restaurante primero",goToVisualIdentity:"Ir a Identidad Visual",backToMenus:"Volver a Mens",addCategory:"Agregar Categora",noCategories:"Sin Categoras",createFirstCategory:"Crea tu primera categora para organizar los artculos",categoryName:"Nombre de la Categora",categoryNamePlaceholder:"Nombre de la categora",description:"Descripcin",descriptionPlaceholder:"Descripcin opcional",confirmDeleteCategory:"Ests seguro de que quieres eliminar esta categora?",addItem:"Agregar Artculo",noItems:"Sin Artculos",itemName:"Nombre del Artculo",itemNamePlaceholder:"Nombre del artculo",price:"Precio",photoUrl:"URL de la Foto",photoUrlPlaceholder:"https://ejemplo.com/foto.jpg",confirmDeleteItem:"Ests seguro de que quieres eliminar este artculo?",menuSettings:"Configuracin del Men",menuImage:"Imagen del Men",menuImageHelper:"Sube una imagen para tu men. Se mostrar en la pgina de lista de mens y en las pginas pblicas del men.",menuImageSize:"Tamao recomendado: 800x600px. Tamao mximo del archivo: 5MB.",colorPalette:"Paleta de Colores",colorPaletteHelper:"Selecciona una paleta de colores para personalizar la apariencia de tus pginas de men pblicas",uploadImage:"Haz clic para subir imagen",saveChanges:"Guardar Cambios",uploading:"Subiendo..."},common:{loading:"Cargando...",error:"Ocurri un error",success:"xito",confirm:"Confirmar",cancel:"Cancelar",yes:"S",no:"No",close:"Cerrar",create:"Crear",update:"Actualizar",saving:"Guardando..."},footer:{contactUs:"Contctenos",followUs:"Sguenos",allRightsReserved:"Todos los derechos reservados"},subscription:{accountCreated:"Cuenta Creada Exitosamente!",welcomeMessage:"Bienvenido a CloudMenu! Para acceder a todas las funciones del panel y comenzar a administrar los mens de su restaurante, suscrbase a nuestro plan AI Menu a continuacin.",completeSetup:"Complete Su Configuracin",subscriptionPlans:"Planes de Suscripcin",subscribeUnlock:"Suscrbase ahora para desbloquear todas las funciones y comenzar a crear mens increbles",selectPlan:"Seleccione el plan perfecto para potenciar su restaurante con IA",perMonth:"/mes",aiPoweredManagement:"Gestin de mens con IA",automaticTranslations:"Traducciones automticas",smartRecommendations:"Recomendaciones inteligentes",subscribeNow:"Suscribirse Ahora",checking:"Verificando...",alreadySubscribed:"Ya Suscrito",processing:"Procesando...",alreadyHaveSubscription:'Ya tiene una suscripcin activa. Use "Administrar Facturacin" para realizar cambios.',alreadyActiveAlert:"Ya tiene una suscripcin activa. Administre su suscripcin a travs del portal de facturacin.",noSubscription:"Sin Suscripcin",subscription:"Suscripcin",expires:"Expira:",renews:"Renueva:"},contactInfo:{title:"Informacin de Contacto",subtitle:"Gestione sus datos de contacto y enlaces de redes sociales",contactDetails:"Detalles de Contacto",phone:"Telfono",phonePlaceholder:"+34 912 345 678",email:"Email",emailPlaceholder:"contacto@restaurante.es",address:"Direccin",addressPlaceholder:"Calle Principal 123, Madrid",socialMedia:"Redes Sociales",instagram:"Instagram",instagramPlaceholder:"https://instagram.com/tu-restaurante",facebook:"Facebook",facebookPlaceholder:"https://facebook.com/tu-restaurante",tiktok:"TikTok",tiktokPlaceholder:"https://tiktok.com/@tu-restaurante",linkedin:"LinkedIn",linkedinPlaceholder:"https://linkedin.com/company/tu-restaurante",googleMapsUrl:"URL de Google Maps",googleMapsPlaceholder:"https://maps.google.com/?q=tu+restaurante",googleMapsHelper:"Copie el enlace para compartir desde Google Maps",save:"Guardar",saving:"Guardando...",saveSuccess:"Informacin de contacto guardada con xito!",saveError:"Error al guardar"},qrCode:{title:"Cdigo QR del Restaurante",subtitle:"Descarga tu cdigo QR personalizado para mostrar en tu establecimiento. Da acceso a todos tus mens.",notConfigured:"Restaurante no configurado",notConfiguredMessage:"Primero debes configurar tu restaurante en Identidad Visual antes de generar un Cdigo QR.",goToVisualIdentity:"Ir a Identidad Visual",restaurantUrl:"URL de tu restaurante",qrCodeUrl:"URL del Cdigo QR",copy:"Copiar",copied:"Copiado",customization:"Personalizacin",predefinedColors:"Colores Predefinidos",classicBlack:"Negro Clsico",navyBlue:"Azul Marino",darkGreen:"Verde Oscuro",burgundy:"Burgundy",purple:"Morado",orange:"Naranja",qrColor:"Color del cdigo QR",backgroundColor:"Color de fondo",logoCenter:"Logo en el centro del cdigo QR",addLogo:"Aadir un logo",logoFormat:"PNG, JPG hasta 2MB",preview:"Vista Previa del Cdigo QR",qrCodeMenu:"Cdigo QR del Men",download:"Descargar Cdigo QR",howToUse:"Cmo usar tu Cdigo QR",step1:"Descarga el cdigo QR haciendo clic en el botn de arriba",step2:"Imprmelo y colcalo en tus mesas, mostrador o escaparate",step3:"Tus clientes escanean el cdigo QR con su telfono",step4:"Acceden directamente a tu men en lnea!",socialMediaTitle:"URLs de Redes Sociales y Marketing",socialMediaDescription:"Usa estas URLs rastreadas para tus perfiles de redes sociales y campaas de marketing",facebook:"Facebook",instagram:"Instagram",tiktok:"TikTok",linkedin:"LinkedIn",googleMyBusiness:"Google My Business"}},H5={nav:{general:"",dashboard:" ",myRestaurant:"",visualIdentity:" ",contactInfo:" ",myMenus:"",qrCode:"  ",clientServices:" ",reservations:"",configuration:"",settings:"",invoices:"",search:"..."},auth:{login:" ",register:"",email:" ",password:" ",confirmPassword:"  ",forgotPassword:"  ",noAccount:"  ",hasAccount:"   ",logout:" ",loggingIn:"  ...",signingUp:" ..."},dashboard:{welcome:"",manageRestaurant:"    CloudMenu"},visualIdentity:{title:" ",restaurantName:" ",restaurantNamePlaceholder:"  ",slug:" ",slugPlaceholder:"-",slugHelper:"     ",slugLocked:"      ",slugAvailable:"",slugTaken:" ",slugChecking:" ...",logo:"",uploadLogo:" ",changeLogo:" ",colors:"  ",primaryColor:" ",secondaryColor:" ",descriptions:"",descriptionEn:" ()",descriptionFr:" ()",descriptionPlaceholder:" ...",phone:"",phonePlaceholder:"+966 12 345 6789",emailLabel:" ",emailPlaceholder:"contact@restaurant.com",address:"",addressPlaceholder:"   ",publicMenuUrl:"  ",copyUrl:" ",urlCopied:"  !",currencySettings:" ",currencySymbol:" ",currencySymbolHint:": $   ",currencyPosition:" ",footerColors:" ",background:"",primaryText:" ",secondaryText:" ",footerPreview:" ",footerPreviewSecondary:"        ",predefinedPalettes:"   ",predefinedPalettesDescription:"       ",livePreview:" ",changesApplyRealTime:"     ",save:" ",saving:" ...",saved:"  !",error:"   "},categories:{title:" ",add:" ",nameEn:" ()",nameFr:" ()",namePlaceholder:" ",edit:"",delete:"",save:"",cancel:"",deleteConfirm:"       ",noCategories:"   ",createFirst:"    "},items:{title:" ",add:" ",nameEn:" ()",nameFr:" ()",descriptionEn:" ()",descriptionFr:" ()",price:"",category:"",image:"",uploadImage:" ",available:"",unavailable:" ",edit:"",delete:"",save:"",cancel:"",deleteConfirm:"       ",noItems:"   ",createFirst:"    ",selectCategory:" "},publicMenu:{notFound:"  ",noCategories:"   ",unavailable:"  "},menu:{createMenu:" ",createNewMenu:"  ",noMenus:"  ",createFirstMenu:"   ",menuName:" ",menuNamePlaceholder:" ",status:"",visibility:"",published:"",edit:"",hideMenu:" ",showMenu:" ",deleteMenu:" ",confirmDelete:"       ",noRestaurant:"  ",createRestaurantFirst:"     ",goToVisualIdentity:"   ",backToMenus:"  ",addCategory:" ",noCategories:"  ",createFirstCategory:"    ",categoryName:" ",categoryNamePlaceholder:" ",description:"",descriptionPlaceholder:" ",confirmDeleteCategory:"       ",addItem:" ",noItems:"  ",itemName:" ",itemNamePlaceholder:" ",price:"",photoUrl:" ",photoUrlPlaceholder:"https://example.com/photo.jpg",confirmDeleteItem:"       ",menuSettings:" ",menuImage:" ",menuImageHelper:"   .         .",menuImageSize:"  : 800x600 .    : 5 .",colorPalette:" ",colorPaletteHelper:"       ",uploadImage:"  ",saveChanges:" ",uploading:" ..."},common:{loading:" ...",error:" ",success:"",confirm:"",cancel:"",yes:"",no:"",close:"",create:"",update:"",saving:" ..."},footer:{contactUs:" ",followUs:"",allRightsReserved:"  "},subscription:{accountCreated:"   !",welcomeMessage:"   CloudMenu!               AI Menu .",completeSetup:" ",subscriptionPlans:" ",subscribeUnlock:"        ",selectPlan:"      ",perMonth:"/",aiPoweredManagement:"   ",automaticTranslations:" ",smartRecommendations:" ",subscribeNow:" ",checking:" ...",alreadySubscribed:" ",processing:" ...",alreadyHaveSubscription:'   .  " "  .',alreadyActiveAlert:"   .       .",noSubscription:"  ",subscription:"",expires:" :",renews:":"},contactInfo:{title:" ",subtitle:"      ",contactDetails:" ",phone:"",phonePlaceholder:"+966 11 1234567",email:" ",emailPlaceholder:"contact@restaurant.sa",address:"",addressPlaceholder:"  123 ",socialMedia:"  ",instagram:"",instagramPlaceholder:"https://instagram.com/your-restaurant",facebook:"",facebookPlaceholder:"https://facebook.com/your-restaurant",tiktok:" ",tiktokPlaceholder:"https://tiktok.com/@your-restaurant",linkedin:"",linkedinPlaceholder:"https://linkedin.com/company/your-restaurant",googleMapsUrl:"  ",googleMapsPlaceholder:"https://maps.google.com/?q=your+restaurant",googleMapsHelper:"     ",save:"",saving:" ...",saveSuccess:"    !",saveError:"  "},qrCode:{title:"Restaurant QR Code",subtitle:"Download your customized QR code to display in your establishment",notConfigured:"Restaurant not configured",notConfiguredMessage:"You must first configure your restaurant in Visual Identity before generating a QR Code.",goToVisualIdentity:"Go to Visual Identity",restaurantUrl:"Your restaurant URL",qrCodeUrl:"QR Code URL",copy:"Copy",copied:"Copied",customization:"Customization",predefinedColors:"Predefined Colors",classicBlack:"Classic Black",navyBlue:"Navy Blue",darkGreen:"Dark Green",burgundy:"Burgundy",purple:"Purple",orange:"Orange",qrColor:"QR code color",backgroundColor:"Background color",logoCenter:"Logo at center of QR code",addLogo:"Add a logo",logoFormat:"PNG, JPG up to 2MB",preview:"QR Code Preview",qrCodeMenu:"Menu QR Code",download:"Download QR Code",howToUse:"How to use your QR Code",step1:"Download the QR code by clicking the button above",step2:"Print it and place it on your tables, counter or storefront",step3:"Your customers scan the QR code with their phone",step4:"They access your online menu directly!",socialMediaTitle:"Social Media & Marketing URLs",socialMediaDescription:"Use these tracked URLs for your social media profiles and marketing campaigns",facebook:"Facebook",instagram:"Instagram",tiktok:"TikTok",linkedin:"LinkedIn",googleMyBusiness:"Google My Business"}},V5={nav:{general:"",dashboard:"",myRestaurant:"",visualIdentity:"",contactInfo:"",myMenus:"",qrCode:"QR",clientServices:"",reservations:"",configuration:"",settings:"",invoices:"",search:"..."},auth:{login:"",register:"",email:"",password:"",confirmPassword:"",forgotPassword:"",noAccount:"",hasAccount:"",logout:"",loggingIn:"...",signingUp:"..."},dashboard:{welcome:"",manageRestaurant:"CloudMenu"},visualIdentity:{title:"",restaurantName:"",restaurantNamePlaceholder:"",slug:"URL",slugPlaceholder:"restaurant-name",slugHelper:"URL",slugLocked:"URL",slugAvailable:"",slugTaken:"",slugChecking:"...",logo:"",uploadLogo:"",changeLogo:"",colors:"",primaryColor:"",secondaryColor:"",descriptions:"",descriptionEn:"",descriptionFr:"",descriptionPlaceholder:"...",phone:"",phonePlaceholder:"+81 3-1234-5678",emailLabel:"",emailPlaceholder:"contact@restaurant.com",address:"",addressPlaceholder:"",publicMenuUrl:"URL",copyUrl:"URL",urlCopied:"URL",currencySettings:"",currencySymbol:"",currencySymbolHint:": $",currencyPosition:"",footerColors:"",background:"",primaryText:"",secondaryText:"",footerPreview:"",footerPreviewSecondary:"",predefinedPalettes:"",predefinedPalettesDescription:"",livePreview:"",changesApplyRealTime:"",save:"",saving:"...",saved:"",error:""},categories:{title:"",add:"",nameEn:"",nameFr:"",namePlaceholder:"",edit:"",delete:"",save:"",cancel:"",deleteConfirm:"",noCategories:"",createFirst:""},items:{title:"",add:"",nameEn:"",nameFr:"",descriptionEn:"",descriptionFr:"",price:"",category:"",image:"",uploadImage:"",available:"",unavailable:"",edit:"",delete:"",save:"",cancel:"",deleteConfirm:"",noItems:"",createFirst:"",selectCategory:""},publicMenu:{notFound:"",noCategories:"",unavailable:""},menu:{createMenu:"",createNewMenu:"",noMenus:"",createFirstMenu:"",menuName:"",menuNamePlaceholder:"",status:"",visibility:"",published:"",edit:"",hideMenu:"",showMenu:"",deleteMenu:"",confirmDelete:"",noRestaurant:"",createRestaurantFirst:"",goToVisualIdentity:"",backToMenus:"",addCategory:"",noCategories:"",createFirstCategory:"",categoryName:"",categoryNamePlaceholder:"",description:"",descriptionPlaceholder:"",confirmDeleteCategory:"",addItem:"",noItems:"",itemName:"",itemNamePlaceholder:"",price:"",photoUrl:"URL",photoUrlPlaceholder:"https://example.com/photo.jpg",confirmDeleteItem:"",menuSettings:"",menuImage:"",menuImageHelper:"",menuImageSize:": 800x600px: 5MB",colorPalette:"",colorPaletteHelper:"",uploadImage:"",saveChanges:"",uploading:"..."},common:{loading:"...",error:"",success:"",confirm:"",cancel:"",yes:"",no:"",close:"",create:"",update:"",saving:"..."},footer:{contactUs:"",followUs:"",allRightsReserved:""},subscription:{accountCreated:"",welcomeMessage:"CloudMenuAI Menu",completeSetup:"",subscriptionPlans:"",subscribeUnlock:"",selectPlan:"AI",perMonth:"/",aiPoweredManagement:"AI",automaticTranslations:"",smartRecommendations:"",subscribeNow:"",checking:"...",alreadySubscribed:"",processing:"...",alreadyHaveSubscription:"",alreadyActiveAlert:"",noSubscription:"",subscription:"",expires:":",renews:":"},contactInfo:{title:"",subtitle:"",contactDetails:"",phone:"",phonePlaceholder:"+81 3 1234 5678",email:"",emailPlaceholder:"contact@restaurant.jp",address:"",addressPlaceholder:"123",socialMedia:"",instagram:"Instagram",instagramPlaceholder:"https://instagram.com/your-restaurant",facebook:"Facebook",facebookPlaceholder:"https://facebook.com/your-restaurant",tiktok:"TikTok",tiktokPlaceholder:"https://tiktok.com/@your-restaurant",linkedin:"LinkedIn",linkedinPlaceholder:"https://linkedin.com/company/your-restaurant",googleMapsUrl:"Google Maps URL",googleMapsPlaceholder:"https://maps.google.com/?q=your+restaurant",googleMapsHelper:"Google Maps",save:"",saving:"...",saveSuccess:"",saveError:""},qrCode:{title:"Restaurant QR Code",subtitle:"Download your customized QR code to display in your establishment",notConfigured:"Restaurant not configured",notConfiguredMessage:"You must first configure your restaurant in Visual Identity before generating a QR Code.",goToVisualIdentity:"Go to Visual Identity",restaurantUrl:"Your restaurant URL",qrCodeUrl:"QR Code URL",copy:"Copy",copied:"Copied",customization:"Customization",predefinedColors:"Predefined Colors",classicBlack:"Classic Black",navyBlue:"Navy Blue",darkGreen:"Dark Green",burgundy:"Burgundy",purple:"Purple",orange:"Orange",qrColor:"QR code color",backgroundColor:"Background color",logoCenter:"Logo at center of QR code",addLogo:"Add a logo",logoFormat:"PNG, JPG up to 2MB",preview:"QR Code Preview",qrCodeMenu:"Menu QR Code",download:"Download QR Code",howToUse:"How to use your QR Code",step1:"Download the QR code by clicking the button above",step2:"Print it and place it on your tables, counter or storefront",step3:"Your customers scan the QR code with their phone",step4:"They access your online menu directly!",socialMediaTitle:"Social Media & Marketing URLs",socialMediaDescription:"Use these tracked URLs for your social media profiles and marketing campaigns",facebook:"Facebook",instagram:"Instagram",tiktok:"TikTok",linkedin:"LinkedIn",googleMyBusiness:"Google My Business"}},G5={nav:{general:"Allgemein",dashboard:"Dashboard",myRestaurant:"Mein Restaurant",visualIdentity:"Visuelle Identitt",contactInfo:"Kontaktinformationen",myMenus:"Meine Mens",qrCode:"QR-Code",clientServices:"Kundenservice",reservations:"Reservierungen",configuration:"Konfiguration",settings:"Einstellungen",invoices:"Rechnungen",search:"Suchen..."},auth:{login:"Anmelden",register:"Registrieren",email:"E-Mail",password:"Passwort",confirmPassword:"Passwort besttigen",forgotPassword:"Passwort vergessen?",noAccount:"Noch kein Konto?",hasAccount:"Bereits ein Konto?",logout:"Abmelden",loggingIn:"Anmeldung luft...",signingUp:"Registrierung luft..."},dashboard:{welcome:"Willkommen",manageRestaurant:"Verwalten Sie Ihr Restaurant einfach mit CloudMenu"},visualIdentity:{title:"Visuelle Identitt",restaurantName:"Restaurantname",restaurantNamePlaceholder:"Geben Sie Ihren Restaurantnamen ein",slug:"Men-URL",slugPlaceholder:"restaurant-name",slugHelper:"Dies wird Ihre ffentliche Men-URL sein",slugLocked:"URL-Slug kann nach dem ersten Speichern nicht gendert werden",slugAvailable:"Verfgbar",slugTaken:"Bereits vergeben",slugChecking:"berprfung luft...",logo:"Logo",uploadLogo:"Logo hochladen",changeLogo:"Logo ndern",colors:"Markenfarben",primaryColor:"Primrfarbe",secondaryColor:"Sekundrfarbe",descriptions:"Beschreibungen",descriptionEn:"Beschreibung (Englisch)",descriptionFr:"Beschreibung (Franzsisch)",descriptionPlaceholder:"Beschreiben Sie Ihr Restaurant...",phone:"Telefon",phonePlaceholder:"+49 30 12345678",emailLabel:"E-Mail",emailPlaceholder:"kontakt@restaurant.com",address:"Adresse",addressPlaceholder:"Strae, Stadt, Postleitzahl",publicMenuUrl:"ffentliche Men-URL",copyUrl:"URL kopieren",urlCopied:"URL kopiert!",currencySettings:"Whrungseinstellungen",currencySymbol:"Whrungssymbol",currencySymbolHint:"Z.B.: $, , , ",currencyPosition:"Whrungsposition",footerColors:"Fuzeilenfarben",background:"Hintergrund",primaryText:"Primrer Text",secondaryText:"Sekundrer Text",footerPreview:"Fuzeilen-Vorschau",footerPreviewSecondary:"Dies ist ein Beispiel fr sekundren Text in Ihrer Fuzeile",predefinedPalettes:"Vordefinierte Paletten",predefinedPalettesDescription:"Wenden Sie mit einem Klick eine vollstndige Palette fr Ihre visuelle Identitt an",livePreview:"Live-Vorschau",changesApplyRealTime:"nderungen werden in Echtzeit angewendet",save:"nderungen speichern",saving:"Speichern...",saved:"Erfolgreich gespeichert!",error:"Fehler beim Speichern der nderungen"},categories:{title:"Menkategorien",add:"Kategorie hinzufgen",nameEn:"Name (Englisch)",nameFr:"Name (Franzsisch)",namePlaceholder:"Kategoriename",edit:"Bearbeiten",delete:"Lschen",save:"Speichern",cancel:"Abbrechen",deleteConfirm:"Sind Sie sicher, dass Sie diese Kategorie lschen mchten?",noCategories:"Noch keine Kategorien",createFirst:"Erstellen Sie Ihre erste Kategorie, um Ihr Men zu organisieren"},items:{title:"Menelemente",add:"Element hinzufgen",nameEn:"Name (Englisch)",nameFr:"Name (Franzsisch)",descriptionEn:"Beschreibung (Englisch)",descriptionFr:"Beschreibung (Franzsisch)",price:"Preis",category:"Kategorie",image:"Bild",uploadImage:"Bild hochladen",available:"Verfgbar",unavailable:"Nicht verfgbar",edit:"Bearbeiten",delete:"Lschen",save:"Speichern",cancel:"Abbrechen",deleteConfirm:"Sind Sie sicher, dass Sie dieses Element lschen mchten?",noItems:"Noch keine Elemente",createFirst:"Fgen Sie Ihr erstes Menelement hinzu",selectCategory:"Kategorie auswhlen"},publicMenu:{notFound:"Restaurant nicht gefunden",noCategories:"Men noch nicht verfgbar",unavailable:"Derzeit nicht verfgbar"},menu:{createMenu:"Men erstellen",createNewMenu:"Neues Men erstellen",noMenus:"Keine Mens",createFirstMenu:"Erstellen Sie Ihr erstes Men, um zu beginnen",menuName:"Menname",menuNamePlaceholder:"Menname",status:"Status",visibility:"Sichtbarkeit",published:"Verffentlicht",edit:"Bearbeiten",hideMenu:"Men ausblenden",showMenu:"Men anzeigen",deleteMenu:"Men lschen",confirmDelete:"Sind Sie sicher, dass Sie dieses Men lschen mchten?",noRestaurant:"Restaurant nicht gefunden",createRestaurantFirst:"Bitte erstellen Sie zuerst Ihr Restaurantprofil",goToVisualIdentity:"Zu Visuelle Identitt",backToMenus:"Zurck zu Mens",addCategory:"Kategorie hinzufgen",noCategories:"Keine Kategorien",createFirstCategory:"Erstellen Sie Ihre erste Kategorie, um Elemente zu organisieren",categoryName:"Kategoriename",categoryNamePlaceholder:"Kategoriename",description:"Beschreibung",descriptionPlaceholder:"Optionale Beschreibung",confirmDeleteCategory:"Sind Sie sicher, dass Sie diese Kategorie lschen mchten?",addItem:"Element hinzufgen",noItems:"Keine Elemente",itemName:"Elementname",itemNamePlaceholder:"Elementname",price:"Preis",photoUrl:"Foto-URL",photoUrlPlaceholder:"https://beispiel.com/foto.jpg",confirmDeleteItem:"Sind Sie sicher, dass Sie dieses Element lschen mchten?",menuSettings:"Meneinstellungen",menuImage:"Menbild",menuImageHelper:"Laden Sie ein Bild fr Ihr Men hoch. Es wird auf der Menlistenseite und den ffentlichen Menseiten angezeigt.",menuImageSize:"Empfohlene Gre: 800x600px. Maximale Dateigre: 5MB.",colorPalette:"Farbpalette",colorPaletteHelper:"Whlen Sie eine Farbpalette, um das Aussehen Ihrer ffentlichen Menseiten anzupassen",uploadImage:"Klicken Sie, um ein Bild hochzuladen",saveChanges:"nderungen speichern",uploading:"Wird hochgeladen..."},common:{loading:"Ldt...",error:"Ein Fehler ist aufgetreten",success:"Erfolg",confirm:"Besttigen",cancel:"Abbrechen",yes:"Ja",no:"Nein",close:"Schlieen",create:"Erstellen",update:"Aktualisieren",saving:"Speichern..."},footer:{contactUs:"Kontaktieren Sie uns",followUs:"Folgen Sie uns",allRightsReserved:"Alle Rechte vorbehalten"},subscription:{accountCreated:"Konto Erfolgreich Erstellt!",welcomeMessage:"Willkommen bei CloudMenu! Um auf alle Dashboard-Funktionen zuzugreifen und mit der Verwaltung Ihrer Restaurantmens zu beginnen, abonnieren Sie bitte unseren AI Menu-Plan unten.",completeSetup:"Vervollstndigen Sie Ihre Einrichtung",subscriptionPlans:"Abonnementplne",subscribeUnlock:"Abonnieren Sie jetzt, um alle Funktionen freizuschalten und erstaunliche Mens zu erstellen",selectPlan:"Whlen Sie den perfekten Plan, um Ihr Restaurant mit KI zu strken",perMonth:"/Monat",aiPoweredManagement:"KI-gesttzte Menverwaltung",automaticTranslations:"Automatische bersetzungen",smartRecommendations:"Intelligente Empfehlungen",subscribeNow:"Jetzt Abonnieren",checking:"berprfung luft...",alreadySubscribed:"Bereits Abonniert",processing:"Verarbeitung...",alreadyHaveSubscription:'Sie haben bereits ein aktives Abonnement. Verwenden Sie "Abrechnung Verwalten", um nderungen vorzunehmen.',alreadyActiveAlert:"Sie haben bereits ein aktives Abonnement. Bitte verwalten Sie Ihr Abonnement ber das Abrechnungsportal.",noSubscription:"Kein Abonnement",subscription:"Abonnement",expires:"Luft ab:",renews:"Erneuert:"},contactInfo:{title:"Kontaktinformationen",subtitle:"Verwalten Sie Ihre Kontaktdaten und Social-Media-Links",contactDetails:"Kontaktdaten",phone:"Telefon",phonePlaceholder:"+49 30 12345678",email:"E-Mail",emailPlaceholder:"kontakt@restaurant.de",address:"Adresse",addressPlaceholder:"Hauptstrae 123, 10115 Berlin",socialMedia:"Soziale Medien",instagram:"Instagram",instagramPlaceholder:"https://instagram.com/ihr-restaurant",facebook:"Facebook",facebookPlaceholder:"https://facebook.com/ihr-restaurant",tiktok:"TikTok",tiktokPlaceholder:"https://tiktok.com/@ihr-restaurant",linkedin:"LinkedIn",linkedinPlaceholder:"https://linkedin.com/company/ihr-restaurant",googleMapsUrl:"Google Maps URL",googleMapsPlaceholder:"https://maps.google.com/?q=ihr+restaurant",googleMapsHelper:"Kopieren Sie den Freigabelink von Google Maps",save:"Speichern",saving:"Speichern...",saveSuccess:"Kontaktinformationen erfolgreich gespeichert!",saveError:"Fehler beim Speichern"},qrCode:{title:"Restaurant QR Code",subtitle:"Download your customized QR code to display in your establishment",notConfigured:"Restaurant not configured",notConfiguredMessage:"You must first configure your restaurant in Visual Identity before generating a QR Code.",goToVisualIdentity:"Go to Visual Identity",restaurantUrl:"Your restaurant URL",qrCodeUrl:"QR Code URL",copy:"Copy",copied:"Copied",customization:"Customization",predefinedColors:"Predefined Colors",classicBlack:"Classic Black",navyBlue:"Navy Blue",darkGreen:"Dark Green",burgundy:"Burgundy",purple:"Purple",orange:"Orange",qrColor:"QR code color",backgroundColor:"Background color",logoCenter:"Logo at center of QR code",addLogo:"Add a logo",logoFormat:"PNG, JPG up to 2MB",preview:"QR Code Preview",qrCodeMenu:"Menu QR Code",download:"Download QR Code",howToUse:"How to use your QR Code",step1:"Download the QR code by clicking the button above",step2:"Print it and place it on your tables, counter or storefront",step3:"Your customers scan the QR code with their phone",step4:"They access your online menu directly!",socialMediaTitle:"Social Media & Marketing URLs",socialMediaDescription:"Use these tracked URLs for your social media profiles and marketing campaigns",facebook:"Facebook",instagram:"Instagram",tiktok:"TikTok",linkedin:"LinkedIn",googleMyBusiness:"Google My Business"}},K5={nav:{general:"Generale",dashboard:"Cruscotto",myRestaurant:"Il Mio Ristorante",visualIdentity:"Identit Visiva",contactInfo:"Informazioni di Contatto",myMenus:"I Miei Menu",qrCode:"Codice QR",clientServices:"Servizi Clienti",reservations:"Prenotazioni",configuration:"Configurazione",settings:"Impostazioni",invoices:"Fatture",search:"Cerca..."},auth:{login:"Accedi",register:"Registrati",email:"Email",password:"Password",confirmPassword:"Conferma Password",forgotPassword:"Password dimenticata?",noAccount:"Non hai un account?",hasAccount:"Hai gi un account?",logout:"Esci",loggingIn:"Accesso in corso...",signingUp:"Registrazione in corso..."},dashboard:{welcome:"Benvenuto",manageRestaurant:"Gestisci il tuo ristorante facilmente con CloudMenu"},visualIdentity:{title:"Identit Visiva",restaurantName:"Nome del Ristorante",restaurantNamePlaceholder:"Inserisci il nome del tuo ristorante",slug:"URL del Menu",slugPlaceholder:"nome-ristorante",slugHelper:"Questo sar l'URL pubblico del tuo menu",slugLocked:"Lo slug URL non pu essere modificato dopo il primo salvataggio",slugAvailable:"Disponibile",slugTaken:"Gi preso",slugChecking:"Verifica in corso...",logo:"Logo",uploadLogo:"Carica Logo",changeLogo:"Cambia Logo",colors:"Colori del Brand",primaryColor:"Colore Primario",secondaryColor:"Colore Secondario",descriptions:"Descrizioni",descriptionEn:"Descrizione (Inglese)",descriptionFr:"Descrizione (Francese)",descriptionPlaceholder:"Descrivi il tuo ristorante...",phone:"Telefono",phonePlaceholder:"+39 02 1234 5678",emailLabel:"Email",emailPlaceholder:"contatto@ristorante.com",address:"Indirizzo",addressPlaceholder:"Via, Citt, CAP",publicMenuUrl:"URL del Menu Pubblico",copyUrl:"Copia URL",urlCopied:"URL copiato!",currencySettings:"Impostazioni Valuta",currencySymbol:"Simbolo Valuta",currencySymbolHint:"Es: $, , , ",currencyPosition:"Posizione Valuta",footerColors:"Colori del Pi di Pagina",background:"Sfondo",primaryText:"Testo Primario",secondaryText:"Testo Secondario",footerPreview:"Anteprima del Pi di Pagina",footerPreviewSecondary:"Questo  un esempio di testo secondario nel tuo pi di pagina",predefinedPalettes:"Palette Predefinite",predefinedPalettesDescription:"Applica una palette completa per la tua identit visiva con un clic",livePreview:"Anteprima in Tempo Reale",changesApplyRealTime:"Le modifiche si applicano in tempo reale",save:"Salva Modifiche",saving:"Salvataggio...",saved:"Salvato con successo!",error:"Errore nel salvataggio delle modifiche"},categories:{title:"Categorie del Menu",add:"Aggiungi Categoria",nameEn:"Nome (Inglese)",nameFr:"Nome (Francese)",namePlaceholder:"Nome della categoria",edit:"Modifica",delete:"Elimina",save:"Salva",cancel:"Annulla",deleteConfirm:"Sei sicuro di voler eliminare questa categoria?",noCategories:"Nessuna categoria ancora",createFirst:"Crea la tua prima categoria per organizzare il menu"},items:{title:"Elementi del Menu",add:"Aggiungi Elemento",nameEn:"Nome (Inglese)",nameFr:"Nome (Francese)",descriptionEn:"Descrizione (Inglese)",descriptionFr:"Descrizione (Francese)",price:"Prezzo",category:"Categoria",image:"Immagine",uploadImage:"Carica Immagine",available:"Disponibile",unavailable:"Non disponibile",edit:"Modifica",delete:"Elimina",save:"Salva",cancel:"Annulla",deleteConfirm:"Sei sicuro di voler eliminare questo elemento?",noItems:"Nessun elemento ancora",createFirst:"Aggiungi il tuo primo elemento al menu",selectCategory:"Seleziona una categoria"},publicMenu:{notFound:"Ristorante non trovato",noCategories:"Menu non ancora disponibile",unavailable:"Attualmente non disponibile"},menu:{createMenu:"Crea Menu",createNewMenu:"Crea Nuovo Menu",noMenus:"Nessun Menu",createFirstMenu:"Crea il tuo primo menu per iniziare",menuName:"Nome del Menu",menuNamePlaceholder:"Nome del menu",status:"Stato",visibility:"Visibilit",published:"Pubblicato",edit:"Modifica",hideMenu:"Nascondi Menu",showMenu:"Mostra Menu",deleteMenu:"Elimina Menu",confirmDelete:"Sei sicuro di voler eliminare questo menu?",noRestaurant:"Ristorante Non Trovato",createRestaurantFirst:"Si prega di creare prima il profilo del ristorante",goToVisualIdentity:"Vai a Identit Visiva",backToMenus:"Torna ai Menu",addCategory:"Aggiungi Categoria",noCategories:"Nessuna Categoria",createFirstCategory:"Crea la tua prima categoria per organizzare gli elementi",categoryName:"Nome della Categoria",categoryNamePlaceholder:"Nome della categoria",description:"Descrizione",descriptionPlaceholder:"Descrizione opzionale",confirmDeleteCategory:"Sei sicuro di voler eliminare questa categoria?",addItem:"Aggiungi Elemento",noItems:"Nessun Elemento",itemName:"Nome dell'Elemento",itemNamePlaceholder:"Nome dell'elemento",price:"Prezzo",photoUrl:"URL Foto",photoUrlPlaceholder:"https://esempio.com/foto.jpg",confirmDeleteItem:"Sei sicuro di voler eliminare questo elemento?",menuSettings:"Impostazioni Menu",menuImage:"Immagine del Menu",menuImageHelper:"Carica un'immagine per il tuo menu. Verr visualizzata nella pagina dell'elenco dei menu e nelle pagine pubbliche del menu.",menuImageSize:"Dimensione consigliata: 800x600px. Dimensione massima del file: 5MB.",colorPalette:"Palette di Colori",colorPaletteHelper:"Seleziona una palette di colori per personalizzare l'aspetto delle tue pagine di menu pubbliche",uploadImage:"Clicca per caricare l'immagine",saveChanges:"Salva Modifiche",uploading:"Caricamento..."},common:{loading:"Caricamento...",error:"Si  verificato un errore",success:"Successo",confirm:"Conferma",cancel:"Annulla",yes:"S",no:"No",close:"Chiudi",create:"Crea",update:"Aggiorna",saving:"Salvataggio..."},footer:{contactUs:"Contattaci",followUs:"Seguici",allRightsReserved:"Tutti i diritti riservati"},subscription:{accountCreated:"Account Creato con Successo!",welcomeMessage:"Benvenuto su CloudMenu! Per accedere a tutte le funzionalit della dashboard e iniziare a gestire i menu del tuo ristorante, ti preghiamo di abbonarti al nostro piano AI Menu qui sotto.",completeSetup:"Completa la Tua Configurazione",subscriptionPlans:"Piani di Abbonamento",subscribeUnlock:"Abbonati ora per sbloccare tutte le funzionalit e iniziare a creare menu straordinari",selectPlan:"Seleziona il piano perfetto per potenziare il tuo ristorante con l'IA",perMonth:"/mese",aiPoweredManagement:"Gestione menu alimentata dall'IA",automaticTranslations:"Traduzioni automatiche",smartRecommendations:"Raccomandazioni intelligenti",subscribeNow:"Abbonati Ora",checking:"Verifica in corso...",alreadySubscribed:"Gi Abbonato",processing:"Elaborazione...",alreadyHaveSubscription:'Hai gi un abbonamento attivo. Usa "Gestisci Fatturazione" per apportare modifiche.',alreadyActiveAlert:"Hai gi un abbonamento attivo. Gestisci il tuo abbonamento tramite il portale di fatturazione.",noSubscription:"Nessun Abbonamento",subscription:"Abbonamento",expires:"Scade:",renews:"Rinnova:"},contactInfo:{title:"Informazioni di Contatto",subtitle:"Gestisci i tuoi dati di contatto e i link dei social media",contactDetails:"Dettagli di Contatto",phone:"Telefono",phonePlaceholder:"+39 06 12345678",email:"Email",emailPlaceholder:"contatto@ristorante.it",address:"Indirizzo",addressPlaceholder:"Via Principale 123, 00100 Roma",socialMedia:"Social Media",instagram:"Instagram",instagramPlaceholder:"https://instagram.com/tuo-ristorante",facebook:"Facebook",facebookPlaceholder:"https://facebook.com/tuo-ristorante",tiktok:"TikTok",tiktokPlaceholder:"https://tiktok.com/@tuo-ristorante",linkedin:"LinkedIn",linkedinPlaceholder:"https://linkedin.com/company/tuo-ristorante",googleMapsUrl:"URL Google Maps",googleMapsPlaceholder:"https://maps.google.com/?q=tuo+ristorante",googleMapsHelper:"Copia il link di condivisione da Google Maps",save:"Salva",saving:"Salvataggio...",saveSuccess:"Informazioni di contatto salvate con successo!",saveError:"Errore durante il salvataggio"},qrCode:{title:"Restaurant QR Code",subtitle:"Download your customized QR code to display in your establishment",notConfigured:"Restaurant not configured",notConfiguredMessage:"You must first configure your restaurant in Visual Identity before generating a QR Code.",goToVisualIdentity:"Go to Visual Identity",restaurantUrl:"Your restaurant URL",qrCodeUrl:"QR Code URL",copy:"Copy",copied:"Copied",customization:"Customization",predefinedColors:"Predefined Colors",classicBlack:"Classic Black",navyBlue:"Navy Blue",darkGreen:"Dark Green",burgundy:"Burgundy",purple:"Purple",orange:"Orange",qrColor:"QR code color",backgroundColor:"Background color",logoCenter:"Logo at center of QR code",addLogo:"Add a logo",logoFormat:"PNG, JPG up to 2MB",preview:"QR Code Preview",qrCodeMenu:"Menu QR Code",download:"Download QR Code",howToUse:"How to use your QR Code",step1:"Download the QR code by clicking the button above",step2:"Print it and place it on your tables, counter or storefront",step3:"Your customers scan the QR code with their phone",step4:"They access your online menu directly!",socialMediaTitle:"Social Media & Marketing URLs",socialMediaDescription:"Use these tracked URLs for your social media profiles and marketing campaigns",facebook:"Facebook",instagram:"Instagram",tiktok:"TikTok",linkedin:"LinkedIn",googleMyBusiness:"Google My Business"}},Q5={nav:{general:"Geral",dashboard:"Painel de Controle",myRestaurant:"Meu Restaurante",visualIdentity:"Identidade Visual",contactInfo:"Informaes de Contato",myMenus:"Meus Menus",qrCode:"Cdigo QR",clientServices:"Servios ao Cliente",reservations:"Reservas",configuration:"Configurao",settings:"Configuraes",invoices:"Faturas",search:"Pesquisar..."},auth:{login:"Entrar",register:"Registrar",email:"E-mail",password:"Senha",confirmPassword:"Confirmar Senha",forgotPassword:"Esqueceu a senha?",noAccount:"No tem uma conta?",hasAccount:"J tem uma conta?",logout:"Sair",loggingIn:"Entrando...",signingUp:"Registrando..."},dashboard:{welcome:"Bem-vindo",manageRestaurant:"Gerencie seu restaurante facilmente com CloudMenu"},visualIdentity:{title:"Identidade Visual",restaurantName:"Nome do Restaurante",restaurantNamePlaceholder:"Digite o nome do seu restaurante",slug:"URL do Menu",slugPlaceholder:"nome-restaurante",slugHelper:"Esta ser a URL pblica do seu menu",slugLocked:"O slug da URL no pode ser alterado aps o primeiro salvamento",slugAvailable:"Disponvel",slugTaken:"J utilizado",slugChecking:"Verificando...",logo:"Logo",uploadLogo:"Carregar Logo",changeLogo:"Alterar Logo",colors:"Cores da Marca",primaryColor:"Cor Primria",secondaryColor:"Cor Secundria",descriptions:"Descries",descriptionEn:"Descrio (Ingls)",descriptionFr:"Descrio (Francs)",descriptionPlaceholder:"Descreva seu restaurante...",phone:"Telefone",phonePlaceholder:"+55 11 1234-5678",emailLabel:"E-mail",emailPlaceholder:"contato@restaurante.com",address:"Endereo",addressPlaceholder:"Rua, Cidade, CEP",publicMenuUrl:"URL do Menu Pblico",copyUrl:"Copiar URL",urlCopied:"URL copiada!",currencySettings:"Configuraes de Moeda",currencySymbol:"Smbolo da Moeda",currencySymbolHint:"Ex: $, , , R$",currencyPosition:"Posio da Moeda",footerColors:"Cores do Rodap",background:"Fundo",primaryText:"Texto Principal",secondaryText:"Texto Secundrio",footerPreview:"Visualizao do Rodap",footerPreviewSecondary:"Este  um exemplo de texto secundrio no seu rodap",predefinedPalettes:"Paletas Predefinidas",predefinedPalettesDescription:"Aplique uma paleta completa para sua identidade visual com um clique",livePreview:"Visualizao ao Vivo",changesApplyRealTime:"As alteraes so aplicadas em tempo real",save:"Salvar Alteraes",saving:"Salvando...",saved:"Salvo com sucesso!",error:"Erro ao salvar alteraes"},categories:{title:"Categorias do Menu",add:"Adicionar Categoria",nameEn:"Nome (Ingls)",nameFr:"Nome (Francs)",namePlaceholder:"Nome da categoria",edit:"Editar",delete:"Excluir",save:"Salvar",cancel:"Cancelar",deleteConfirm:"Tem certeza de que deseja excluir esta categoria?",noCategories:"Ainda no h categorias",createFirst:"Crie sua primeira categoria para organizar seu menu"},items:{title:"Itens do Menu",add:"Adicionar Item",nameEn:"Nome (Ingls)",nameFr:"Nome (Francs)",descriptionEn:"Descrio (Ingls)",descriptionFr:"Descrio (Francs)",price:"Preo",category:"Categoria",image:"Imagem",uploadImage:"Carregar Imagem",available:"Disponvel",unavailable:"Indisponvel",edit:"Editar",delete:"Excluir",save:"Salvar",cancel:"Cancelar",deleteConfirm:"Tem certeza de que deseja excluir este item?",noItems:"Ainda no h itens",createFirst:"Adicione seu primeiro item ao menu",selectCategory:"Selecionar uma categoria"},publicMenu:{notFound:"Restaurante no encontrado",noCategories:"Menu ainda no disponvel",unavailable:"Atualmente indisponvel"},menu:{createMenu:"Criar Menu",createNewMenu:"Criar Novo Menu",noMenus:"Sem Menus",createFirstMenu:"Crie seu primeiro menu para comear",menuName:"Nome do Menu",menuNamePlaceholder:"Nome do menu",status:"Status",visibility:"Visibilidade",published:"Publicado",edit:"Editar",hideMenu:"Ocultar Menu",showMenu:"Mostrar Menu",deleteMenu:"Excluir Menu",confirmDelete:"Tem certeza de que deseja excluir este menu?",noRestaurant:"Restaurante No Encontrado",createRestaurantFirst:"Por favor, crie o perfil do seu restaurante primeiro",goToVisualIdentity:"Ir para Identidade Visual",backToMenus:"Voltar aos Menus",addCategory:"Adicionar Categoria",noCategories:"Sem Categorias",createFirstCategory:"Crie sua primeira categoria para organizar os itens",categoryName:"Nome da Categoria",categoryNamePlaceholder:"Nome da categoria",description:"Descrio",descriptionPlaceholder:"Descrio opcional",confirmDeleteCategory:"Tem certeza de que deseja excluir esta categoria?",addItem:"Adicionar Item",noItems:"Sem Itens",itemName:"Nome do Item",itemNamePlaceholder:"Nome do item",price:"Preo",photoUrl:"URL da Foto",photoUrlPlaceholder:"https://exemplo.com/foto.jpg",confirmDeleteItem:"Tem certeza de que deseja excluir este item?",menuSettings:"Configuraes do Menu",menuImage:"Imagem do Menu",menuImageHelper:"Carregue uma imagem para o seu menu. Ela ser exibida na pgina de lista de menus e nas pginas pblicas do menu.",menuImageSize:"Tamanho recomendado: 800x600px. Tamanho mximo do arquivo: 5MB.",colorPalette:"Paleta de Cores",colorPaletteHelper:"Selecione uma paleta de cores para personalizar a aparncia das suas pginas de menu pblicas",uploadImage:"Clique para carregar imagem",saveChanges:"Salvar Alteraes",uploading:"Carregando..."},common:{loading:"Carregando...",error:"Ocorreu um erro",success:"Sucesso",confirm:"Confirmar",cancel:"Cancelar",yes:"Sim",no:"No",close:"Fechar",create:"Criar",update:"Atualizar",saving:"Salvando..."},footer:{contactUs:"Entre em Contato",followUs:"Siga-nos",allRightsReserved:"Todos os direitos reservados"},subscription:{accountCreated:"Conta Criada com Sucesso!",welcomeMessage:"Bem-vindo ao CloudMenu! Para acessar todos os recursos do painel e comear a gerenciar seus menus de restaurante, assine nosso plano AI Menu abaixo.",completeSetup:"Complete Sua Configurao",subscriptionPlans:"Planos de Assinatura",subscribeUnlock:"Assine agora para desbloquear todos os recursos e comear a criar menus incrveis",selectPlan:"Selecione o plano perfeito para capacitar seu restaurante com IA",perMonth:"/ms",aiPoweredManagement:"Gerenciamento de menu com IA",automaticTranslations:"Tradues automticas",smartRecommendations:"Recomendaes inteligentes",subscribeNow:"Assinar Agora",checking:"Verificando...",alreadySubscribed:"J Assinado",processing:"Processando...",alreadyHaveSubscription:'Voc j tem uma assinatura ativa. Use "Gerenciar Cobrana" para fazer alteraes.',alreadyActiveAlert:"Voc j tem uma assinatura ativa. Gerencie sua assinatura atravs do portal de cobrana.",noSubscription:"Sem Assinatura",subscription:"Assinatura",expires:"Expira:",renews:"Renova:"},contactInfo:{title:"Informaes de Contato",subtitle:"Gerencie seus dados de contato e links de mdia social",contactDetails:"Detalhes de Contato",phone:"Telefone",phonePlaceholder:"+351 21 1234567",email:"Email",emailPlaceholder:"contato@restaurante.pt",address:"Endereo",addressPlaceholder:"Rua Principal 123, 1000-001 Lisboa",socialMedia:"Mdia Social",instagram:"Instagram",instagramPlaceholder:"https://instagram.com/seu-restaurante",facebook:"Facebook",facebookPlaceholder:"https://facebook.com/seu-restaurante",tiktok:"TikTok",tiktokPlaceholder:"https://tiktok.com/@seu-restaurante",linkedin:"LinkedIn",linkedinPlaceholder:"https://linkedin.com/company/seu-restaurante",googleMapsUrl:"URL do Google Maps",googleMapsPlaceholder:"https://maps.google.com/?q=seu+restaurante",googleMapsHelper:"Copie o link de compartilhamento do Google Maps",save:"Salvar",saving:"Salvando...",saveSuccess:"Informaes de contato salvas com sucesso!",saveError:"Erro ao salvar"},qrCode:{title:"Restaurant QR Code",subtitle:"Download your customized QR code to display in your establishment",notConfigured:"Restaurant not configured",notConfiguredMessage:"You must first configure your restaurant in Visual Identity before generating a QR Code.",goToVisualIdentity:"Go to Visual Identity",restaurantUrl:"Your restaurant URL",qrCodeUrl:"QR Code URL",copy:"Copy",copied:"Copied",customization:"Customization",predefinedColors:"Predefined Colors",classicBlack:"Classic Black",navyBlue:"Navy Blue",darkGreen:"Dark Green",burgundy:"Burgundy",purple:"Purple",orange:"Orange",qrColor:"QR code color",backgroundColor:"Background color",logoCenter:"Logo at center of QR code",addLogo:"Add a logo",logoFormat:"PNG, JPG up to 2MB",preview:"QR Code Preview",qrCodeMenu:"Menu QR Code",download:"Download QR Code",howToUse:"How to use your QR Code",step1:"Download the QR code by clicking the button above",step2:"Print it and place it on your tables, counter or storefront",step3:"Your customers scan the QR code with their phone",step4:"They access your online menu directly!",socialMediaTitle:"Social Media & Marketing URLs",socialMediaDescription:"Use these tracked URLs for your social media profiles and marketing campaigns",facebook:"Facebook",instagram:"Instagram",tiktok:"TikTok",linkedin:"LinkedIn",googleMyBusiness:"Google My Business"}},Y5={nav:{general:"",dashboard:"",myRestaurant:"",visualIdentity:"",contactInfo:"",myMenus:"",qrCode:"",clientServices:"",reservations:"",configuration:"",settings:"",invoices:"",search:"..."},auth:{login:"",register:"",email:"",password:"",confirmPassword:"",forgotPassword:"",noAccount:"",hasAccount:"",logout:"",loggingIn:"...",signingUp:"..."},dashboard:{welcome:"",manageRestaurant:" CloudMenu "},visualIdentity:{title:"",restaurantName:"",restaurantNamePlaceholder:"",slug:"",slugPlaceholder:"restaurant-name",slugHelper:"",slugLocked:"",slugAvailable:"",slugTaken:"",slugChecking:"...",logo:"",uploadLogo:"",changeLogo:"",colors:"",primaryColor:"",secondaryColor:"",descriptions:"",descriptionEn:"",descriptionFr:"",descriptionPlaceholder:"...",phone:"",phonePlaceholder:"+86 10 1234 5678",emailLabel:"",emailPlaceholder:"contact@restaurant.com",address:"",addressPlaceholder:"",publicMenuUrl:"",copyUrl:"",urlCopied:"",currencySettings:"",currencySymbol:"",currencySymbolHint:"$",currencyPosition:"",footerColors:"",background:"",primaryText:"",secondaryText:"",footerPreview:"",footerPreviewSecondary:"",predefinedPalettes:"",predefinedPalettesDescription:"",livePreview:"",changesApplyRealTime:"",save:"",saving:"...",saved:"",error:""},categories:{title:"",add:"",nameEn:"",nameFr:"",namePlaceholder:"",edit:"",delete:"",save:"",cancel:"",deleteConfirm:"",noCategories:"",createFirst:""},items:{title:"",add:"",nameEn:"",nameFr:"",descriptionEn:"",descriptionFr:"",price:"",category:"",image:"",uploadImage:"",available:"",unavailable:"",edit:"",delete:"",save:"",cancel:"",deleteConfirm:"",noItems:"",createFirst:"",selectCategory:""},publicMenu:{notFound:"",noCategories:"",unavailable:""},menu:{createMenu:"",createNewMenu:"",noMenus:"",createFirstMenu:"",menuName:"",menuNamePlaceholder:"",status:"",visibility:"",published:"",edit:"",hideMenu:"",showMenu:"",deleteMenu:"",confirmDelete:"",noRestaurant:"",createRestaurantFirst:"",goToVisualIdentity:"",backToMenus:"",addCategory:"",noCategories:"",createFirstCategory:"",categoryName:"",categoryNamePlaceholder:"",description:"",descriptionPlaceholder:"",confirmDeleteCategory:"",addItem:"",noItems:"",itemName:"",itemNamePlaceholder:"",price:"",photoUrl:"",photoUrlPlaceholder:"https://example.com/photo.jpg",confirmDeleteItem:"",menuSettings:"",menuImage:"",menuImageHelper:"",menuImageSize:"800x600px5MB",colorPalette:"",colorPaletteHelper:"",uploadImage:"",saveChanges:"",uploading:"..."},common:{loading:"...",error:"",success:"",confirm:"",cancel:"",yes:"",no:"",close:"",create:"",update:"",saving:"..."},footer:{contactUs:"",followUs:"",allRightsReserved:""},subscription:{accountCreated:"",welcomeMessage:" CloudMenu AI Menu ",completeSetup:"",subscriptionPlans:"",subscribeUnlock:"",selectPlan:"AI",perMonth:"/",aiPoweredManagement:"AI",automaticTranslations:"",smartRecommendations:"",subscribeNow:"",checking:"...",alreadySubscribed:"",processing:"...",alreadyHaveSubscription:'""',alreadyActiveAlert:"",noSubscription:"",subscription:"",expires:":",renews:":"},contactInfo:{title:"",subtitle:"",contactDetails:"",phone:"",phonePlaceholder:"+86 10 12345678",email:"",emailPlaceholder:"contact@restaurant.cn",address:"",addressPlaceholder:" 123",socialMedia:"",instagram:"Instagram",instagramPlaceholder:"https://instagram.com/your-restaurant",facebook:"Facebook",facebookPlaceholder:"https://facebook.com/your-restaurant",tiktok:"TikTok",tiktokPlaceholder:"https://tiktok.com/@your-restaurant",linkedin:"LinkedIn",linkedinPlaceholder:"https://linkedin.com/company/your-restaurant",googleMapsUrl:"",googleMapsPlaceholder:"https://maps.google.com/?q=your+restaurant",googleMapsHelper:"",save:"",saving:"...",saveSuccess:"",saveError:""},qrCode:{title:"Restaurant QR Code",subtitle:"Download your customized QR code to display in your establishment",notConfigured:"Restaurant not configured",notConfiguredMessage:"You must first configure your restaurant in Visual Identity before generating a QR Code.",goToVisualIdentity:"Go to Visual Identity",restaurantUrl:"Your restaurant URL",qrCodeUrl:"QR Code URL",copy:"Copy",copied:"Copied",customization:"Customization",predefinedColors:"Predefined Colors",classicBlack:"Classic Black",navyBlue:"Navy Blue",darkGreen:"Dark Green",burgundy:"Burgundy",purple:"Purple",orange:"Orange",qrColor:"QR code color",backgroundColor:"Background color",logoCenter:"Logo at center of QR code",addLogo:"Add a logo",logoFormat:"PNG, JPG up to 2MB",preview:"QR Code Preview",qrCodeMenu:"Menu QR Code",download:"Download QR Code",howToUse:"How to use your QR Code",step1:"Download the QR code by clicking the button above",step2:"Print it and place it on your tables, counter or storefront",step3:"Your customers scan the QR code with their phone",step4:"They access your online menu directly!",socialMediaTitle:"Social Media & Marketing URLs",socialMediaDescription:"Use these tracked URLs for your social media profiles and marketing campaigns",facebook:"Facebook",instagram:"Instagram",tiktok:"TikTok",linkedin:"LinkedIn",googleMyBusiness:"Google My Business"}},X5={nav:{general:"",dashboard:"",myRestaurant:" ",visualIdentity:" ",contactInfo:" ",myMenus:" ",qrCode:"QR ",clientServices:" ",reservations:"",configuration:"",settings:"",invoices:"",search:"..."},auth:{login:"",register:"",email:"",password:"",confirmPassword:" ",forgotPassword:" ?",noAccount:" ?",hasAccount:"  ?",logout:"",loggingIn:" ...",signingUp:" ..."},dashboard:{welcome:"",manageRestaurant:"CloudMenu   "},visualIdentity:{title:" ",restaurantName:" ",restaurantNamePlaceholder:"  ",slug:" URL",slugPlaceholder:"restaurant-name",slugHelper:"   URL ",slugLocked:"   URL    ",slugAvailable:" ",slugTaken:"  ",slugChecking:" ...",logo:"",uploadLogo:" ",changeLogo:" ",colors:" ",primaryColor:" ",secondaryColor:" ",descriptions:"",descriptionEn:" ()",descriptionFr:" ()",descriptionPlaceholder:" ...",phone:"",phonePlaceholder:"+82 2-1234-5678",emailLabel:"",emailPlaceholder:"contact@restaurant.com",address:"",addressPlaceholder:", , ",publicMenuUrl:"  URL",copyUrl:"URL ",urlCopied:"URL !",currencySettings:" ",currencySymbol:" ",currencySymbolHint:": $, , , ",currencyPosition:" ",footerColors:" ",background:"",primaryText:" ",secondaryText:" ",footerPreview:" ",footerPreviewSecondary:"   ",predefinedPalettes:"  ",predefinedPalettesDescription:"        ",livePreview:" ",changesApplyRealTime:"  ",save:" ",saving:" ...",saved:" !",error:"    "},categories:{title:" ",add:" ",nameEn:" ()",nameFr:" ()",namePlaceholder:" ",edit:"",delete:"",save:"",cancel:"",deleteConfirm:"  ?",noCategories:"  ",createFirst:"      "},items:{title:" ",add:" ",nameEn:" ()",nameFr:" ()",descriptionEn:" ()",descriptionFr:" ()",price:"",category:"",image:"",uploadImage:" ",available:" ",unavailable:" ",edit:"",delete:"",save:"",cancel:"",deleteConfirm:"  ?",noItems:"  ",createFirst:"    ",selectCategory:" "},publicMenu:{notFound:"   ",noCategories:"   ",unavailable:"  "},menu:{createMenu:" ",createNewMenu:"  ",noMenus:" ",createFirstMenu:"    ",menuName:" ",menuNamePlaceholder:" ",status:"",visibility:" ",published:"",edit:"",hideMenu:" ",showMenu:" ",deleteMenu:" ",confirmDelete:"  ?",noRestaurant:"   ",createRestaurantFirst:"   ",goToVisualIdentity:"  ",backToMenus:" ",addCategory:" ",noCategories:" ",createFirstCategory:"      ",categoryName:" ",categoryNamePlaceholder:" ",description:"",descriptionPlaceholder:" ",confirmDeleteCategory:"  ?",addItem:" ",noItems:" ",itemName:" ",itemNamePlaceholder:" ",price:"",photoUrl:" URL",photoUrlPlaceholder:"https://example.com/photo.jpg",confirmDeleteItem:"  ?",menuSettings:" ",menuImage:" ",menuImageHelper:"  .       .",menuImageSize:" : 800x600px.   : 5MB.",colorPalette:" ",colorPaletteHelper:"         ",uploadImage:"  ",saveChanges:" ",uploading:" ..."},common:{loading:" ...",error:" ",success:"",confirm:"",cancel:"",yes:"",no:"",close:"",create:"",update:"",saving:" ..."},footer:{contactUs:"",followUs:"",allRightsReserved:"  "},subscription:{accountCreated:"  !",welcomeMessage:"CloudMenu   !          AI Menu  .",completeSetup:" ",subscriptionPlans:" ",subscribeUnlock:"         ",selectPlan:"AI     ",perMonth:"/",aiPoweredManagement:"AI   ",automaticTranslations:" ",smartRecommendations:" ",subscribeNow:" ",checking:" ...",alreadySubscribed:" ",processing:" ...",alreadyHaveSubscription:'   .  " " .',alreadyActiveAlert:"   .     .",noSubscription:" ",subscription:"",expires:":",renews:":"},contactInfo:{title:" ",subtitle:"     ",contactDetails:" ",phone:"",phonePlaceholder:"+82 2 1234 5678",email:"",emailPlaceholder:"contact@restaurant.kr",address:"",addressPlaceholder:"  123, ",socialMedia:" ",instagram:"Instagram",instagramPlaceholder:"https://instagram.com/your-restaurant",facebook:"Facebook",facebookPlaceholder:"https://facebook.com/your-restaurant",tiktok:"TikTok",tiktokPlaceholder:"https://tiktok.com/@your-restaurant",linkedin:"LinkedIn",linkedinPlaceholder:"https://linkedin.com/company/your-restaurant",googleMapsUrl:"Google Maps URL",googleMapsPlaceholder:"https://maps.google.com/?q=your+restaurant",googleMapsHelper:"Google Maps   ",save:"",saving:" ...",saveSuccess:"   !",saveError:" "},qrCode:{title:"Restaurant QR Code",subtitle:"Download your customized QR code to display in your establishment",notConfigured:"Restaurant not configured",notConfiguredMessage:"You must first configure your restaurant in Visual Identity before generating a QR Code.",goToVisualIdentity:"Go to Visual Identity",restaurantUrl:"Your restaurant URL",qrCodeUrl:"QR Code URL",copy:"Copy",copied:"Copied",customization:"Customization",predefinedColors:"Predefined Colors",classicBlack:"Classic Black",navyBlue:"Navy Blue",darkGreen:"Dark Green",burgundy:"Burgundy",purple:"Purple",orange:"Orange",qrColor:"QR code color",backgroundColor:"Background color",logoCenter:"Logo at center of QR code",addLogo:"Add a logo",logoFormat:"PNG, JPG up to 2MB",preview:"QR Code Preview",qrCodeMenu:"Menu QR Code",download:"Download QR Code",howToUse:"How to use your QR Code",step1:"Download the QR code by clicking the button above",step2:"Print it and place it on your tables, counter or storefront",step3:"Your customers scan the QR code with their phone",step4:"They access your online menu directly!",socialMediaTitle:"Social Media & Marketing URLs",socialMediaDescription:"Use these tracked URLs for your social media profiles and marketing campaigns",facebook:"Facebook",instagram:"Instagram",tiktok:"TikTok",linkedin:"LinkedIn",googleMyBusiness:"Google My Business"}},Fu={en:z5,fr:q5,es:W5,ar:H5,ja:V5,de:G5,it:K5,pt:Q5,zh:Y5,ko:X5},rk=T.createContext(void 0),J5=()=>navigator.language.toLowerCase().startsWith("fr")?"fr":"en";function Z5({children:e}){const[t,r]=T.useState(()=>{const i=localStorage.getItem("language");return i&&(i==="en"||i==="fr")?i:J5()});T.useEffect(()=>{localStorage.setItem("language",t),document.documentElement.lang=t},[t]);const a={language:t,setLanguage:i=>{r(i)},t:Fu[t]};return s.jsx(rk.Provider,{value:a,children:e})}function qt(){const e=T.useContext(rk);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e}function St({children:e,allowWithoutSubscription:t=!1,requiredRole:r}){const{user:n,loading:a,userRole:i,effectiveUserId:o,isImpersonating:l}=ze(),[c,u]=T.useState(null),[d,f]=T.useState(!0),[h,p]=T.useState(null);T.useEffect(()=>{n?m():f(!1)},[n,i,t,o,l]);const m=async()=>{if(!n)return;const v=o||n.id;try{const{data:y}=await ee.from("user_profiles").select("is_disabled").eq("id",v).maybeSingle();if(y!=null&&y.is_disabled&&!l){p(!0),f(!1);return}p(!1)}catch(y){console.error("Error checking user disabled status:",y),p(!1)}(i==="admin"||i==="reseller")&&!l||t?(u(!0),f(!1)):g()},g=async()=>{if(!n){f(!1);return}try{const v=o||n.id,{data:y}=await ee.from("stripe_subscriptions").select("status").eq("user_id",v).maybeSingle();y&&(y.status==="active"||y.status==="trialing")?u(!0):u(!1)}catch(v){console.error("Error checking subscription:",v),u(!1)}finally{f(!1)}};return a||d||c===null&&!t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):n?h?(ee.auth.signOut(),s.jsx(Wa,{to:"/login",replace:!0})):r&&i!==r?i==="admin"?s.jsx(Wa,{to:"/admin",replace:!0}):i==="reseller"?s.jsx(Wa,{to:"/reseller",replace:!0}):s.jsx(Wa,{to:"/dashboard",replace:!0}):c===!1&&!t?s.jsx(Wa,{to:"/dashboard/abonnement?new_user=true",replace:!0}):s.jsx(s.Fragment,{children:e}):s.jsx(Wa,{to:"/login",replace:!0})}function av({children:e,title:t,subtitle:r}){return s.jsxs("div",{className:"min-h-screen flex",children:[s.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative bg-[#092033] overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#092033] via-[#0d2d47] to-[#092033] opacity-90"}),s.jsxs("div",{className:"absolute inset-0 opacity-5",children:[s.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-white rounded-full -translate-x-1/2 -translate-y-1/2"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full translate-x-1/3 translate-y-1/3"})]}),s.jsxs("div",{className:"relative z-10 flex flex-col justify-between p-12 w-full",children:[s.jsxs("div",{className:"space-y-8",children:[s.jsx("img",{src:"https://pub-237d2da54b564d23aaa1c3826e1d4e65.r2.dev/Aimenu/Aimenu.svg",alt:"Aimenu",className:"h-12 w-auto brightness-0 invert"}),s.jsxs("div",{className:"space-y-4 max-w-md",children:[s.jsx("h1",{className:"text-4xl font-bold text-white leading-tight",children:"Modern Menu Management for Restaurants"}),s.jsx("p",{className:"text-lg text-gray-300 leading-relaxed",children:"Create beautiful digital menus, manage your offerings, and delight your customers with AI-powered menu solutions."})]})]}),s.jsxs("div",{className:"space-y-4 max-w-md",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-white/10 flex items-center justify-center mt-0.5",children:s.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:"Multi-language Support"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Reach customers in their preferred language"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-white/10 flex items-center justify-center mt-0.5",children:s.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:"QR Code Integration"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Seamless contactless menu access"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-white/10 flex items-center justify-center mt-0.5",children:s.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:"Real-time Updates"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Update your menu instantly, anytime"})]})]})]}),s.jsx("div",{className:"text-gray-400 text-sm",children:"Trusted by restaurants worldwide"})]})]}),s.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-8 bg-[#F5F7FA] overflow-y-auto",children:s.jsxs("div",{className:"w-full max-w-md py-8",children:[s.jsx("div",{className:"lg:hidden text-center mb-6",children:s.jsx("img",{src:"https://pub-237d2da54b564d23aaa1c3826e1d4e65.r2.dev/Aimenu/Aimenu.svg",alt:"Aimenu",className:"h-10 mx-auto mb-4"})}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-[#092033] mb-2",children:t}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:r})]}),s.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-6 sm:p-8 border border-gray-200",children:e})]})})]})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ve=(e,t)=>{const r=T.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>T.createElement("svg",{ref:d,...eM,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${tM(e)}`,l].join(" "),...u},[...t.map(([f,h])=>T.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=ve("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=ve("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=ve("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=ve("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=ve("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=ve("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=ve("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=ve("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=ve("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=ve("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=ve("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=ve("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=ve("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=ve("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=ve("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=ve("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=ve("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=ve("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=ve("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=ve("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=ve("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=ve("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=ve("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=ve("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=ve("MapPinned",[["path",{d:"M18 8c0 4.5-6 9-6 9s-6-4.5-6-9a6 6 0 0 1 12 0",key:"yrbn30"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.835 14H5a1 1 0 0 0-.9.7l-2 6c-.1.1-.1.2-.1.3 0 .6.4 1 1 1h18c.6 0 1-.4 1-1 0-.1 0-.2-.1-.3l-2-6a1 1 0 0 0-.9-.7h-3.835",key:"112zkj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=ve("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=ve("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=ve("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=ve("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=ve("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=ve("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=ve("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=ve("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=ve("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=ve("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=ve("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=ve("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=ve("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=ve("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=ve("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=ve("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=ve("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=ve("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Pr({id:e,name:t,type:r,label:n,value:a,onChange:i,required:o=!1,placeholder:l,icon:c,autoComplete:u,error:d}){const[f,h]=T.useState(!1),[p,m]=T.useState(!1),g=r==="password"&&f?"text":r,v=a.length>0;return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("label",{htmlFor:e,className:`absolute left-12 transition-all duration-200 pointer-events-none ${p||v?"top-2 text-xs text-[#092033] font-medium":"top-4 text-base text-gray-500"}`,children:[n,o&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),c&&s.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none",children:s.jsx(c,{className:`w-5 h-5 transition-colors ${p?"text-[#092033]":"text-gray-400"}`})}),s.jsx("input",{id:e,name:t,type:g,value:a,onChange:i,required:o,autoComplete:u,onFocus:()=>m(!0),onBlur:()=>m(!1),className:`w-full pl-12 pr-12 pt-6 pb-2 border-2 rounded-lg transition-all duration-200 bg-white ${d?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":p?"border-[#092033] ring-4 ring-[#092033]/10":"border-gray-300 hover:border-gray-400"} outline-none`}),r==="password"&&s.jsx("button",{type:"button",onClick:()=>h(!f),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[#092033] transition-colors",tabIndex:-1,children:f?s.jsx(oM,{className:"w-5 h-5"}):s.jsx(Ec,{className:"w-5 h-5"})})]}),d&&s.jsx("p",{className:"text-sm text-red-600 ml-1 animate-in fade-in slide-in-from-top-1 duration-200",children:d})]})}function cv({type:e="button",variant:t="primary",loading:r=!1,disabled:n=!1,children:a,onClick:i,className:o=""}){const l="w-full py-3.5 px-6 rounded-lg font-semibold transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-4 disabled:cursor-not-allowed",c={primary:"bg-[#092033] text-white hover:bg-[#0d2d47] active:bg-[#061620] focus:ring-[#092033]/20 disabled:bg-gray-300 disabled:text-gray-500 shadow-lg hover:shadow-xl",secondary:"bg-gray-200 text-[#092033] hover:bg-gray-300 active:bg-gray-400 focus:ring-gray-300/50 disabled:bg-gray-100 disabled:text-gray-400"};return s.jsxs("button",{type:e,onClick:i,disabled:n||r,className:`${l} ${c[t]} ${o}`,children:[r&&s.jsx(Dl,{className:"w-5 h-5 animate-spin"}),a]})}function uM(){const[e,t]=T.useState(""),[r,n]=T.useState(""),[a,i]=T.useState(""),[o,l]=T.useState(!1),{signIn:c}=ze(),{t:u}=qt(),d=nt(),f=async h=>{h.preventDefault(),i(""),l(!0);try{await c(e,r);const{data:{user:p}}=await ee.auth.getUser();if(p){const{data:m}=await ee.from("user_roles").select("role").eq("user_id",p.id).maybeSingle();if((m==null?void 0:m.role)==="admin")d("/admin");else if((m==null?void 0:m.role)==="reseller")d("/reseller");else{const{data:g}=await ee.from("stripe_subscriptions").select("status").eq("user_id",p.id).maybeSingle(),v=g&&(g.status==="active"||g.status==="trialing");d(v?"/dashboard":"/dashboard/abonnement?new_user=true")}}}catch(p){i(p instanceof Error?p.message:"An error occurred")}finally{l(!1)}};return s.jsx(av,{title:u.auth.login,subtitle:"Welcome back! Please enter your credentials",children:s.jsxs("form",{onSubmit:f,className:"space-y-6",children:[a&&s.jsx("div",{className:"p-4 bg-red-50 border-l-4 border-red-500 rounded-r-lg",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsx("p",{className:"ml-3 text-sm text-red-700",children:a})]})}),s.jsx(Pr,{id:"email",name:"email",type:"email",label:u.auth.email,value:e,onChange:h=>t(h.target.value),required:!0,icon:Tc,autoComplete:"email"}),s.jsx(Pr,{id:"password",name:"password",type:"password",label:u.auth.password,value:r,onChange:h=>n(h.target.value),required:!0,icon:Ll,autoComplete:"current-password"}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer group",children:[s.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-[#092033] focus:ring-[#092033] focus:ring-offset-0 cursor-pointer"}),s.jsx("span",{className:"text-gray-600 group-hover:text-[#092033] transition-colors",children:"Remember me"})]}),s.jsx("a",{href:"#",className:"text-[#092033] hover:underline font-medium",children:"Forgot password?"})]}),s.jsx(cv,{type:"submit",variant:"primary",loading:o,children:o?u.auth.loggingIn:u.auth.login}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-4 bg-white text-gray-500",children:"New to Aimenu?"})})]}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:[u.auth.noAccount," ",s.jsx(xn,{to:"/register",className:"text-[#092033] hover:underline font-semibold transition-colors",children:u.auth.register})]})})]})})}function dM(){const[e,t]=T.useState(""),[r,n]=T.useState(""),[a,i]=T.useState(""),[o,l]=T.useState(""),[c,u]=T.useState(""),[d,f]=T.useState(""),[h,p]=T.useState(!1);ze();const{t:m}=qt(),g=nt(),v=async y=>{if(y.preventDefault(),f(""),!e.trim()){f("Full name is required");return}if(o!==c){f("Passwords do not match");return}if(o.length<6){f("Password must be at least 6 characters");return}p(!0);try{const{data:b,error:x}=await ee.auth.signUp({email:a,password:o,options:{data:{full_name:e,phone:r||null},emailRedirectTo:void 0}});if(x){f(x.message);return}if(b.user){const{error:S}=await ee.from("user_profiles").upsert({id:b.user.id,full_name:e,phone:r||null,source:"website"},{onConflict:"id"});S&&console.error("Error updating user profile:",S)}g("/dashboard/abonnement?new_user=true")}catch(b){f(b instanceof Error?b.message:"An error occurred")}finally{p(!1)}};return s.jsx(av,{title:m.auth.register,subtitle:"Create an account to start managing your menus",children:s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[d&&s.jsx("div",{className:"p-4 bg-red-50 border-l-4 border-red-500 rounded-r-lg",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsx("p",{className:"ml-3 text-sm text-red-700",children:d})]})}),s.jsx(Pr,{id:"fullName",name:"name",type:"text",label:"Full Name",value:e,onChange:y=>t(y.target.value),required:!0,icon:th,autoComplete:"name"}),s.jsx(Pr,{id:"phone",name:"phone",type:"tel",label:"Phone Number",value:r,onChange:y=>n(y.target.value),icon:Co,autoComplete:"tel"}),s.jsx(Pr,{id:"email",name:"email",type:"email",label:m.auth.email,value:a,onChange:y=>i(y.target.value),required:!0,icon:Tc,autoComplete:"email"}),s.jsx(Pr,{id:"password",name:"password",type:"password",label:m.auth.password,value:o,onChange:y=>l(y.target.value),required:!0,icon:Ll,autoComplete:"new-password"}),s.jsx(Pr,{id:"confirmPassword",name:"confirmPassword",type:"password",label:m.auth.confirmPassword,value:c,onChange:y=>u(y.target.value),required:!0,icon:Ll,autoComplete:"new-password"}),o.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-600",children:"Password strength:"}),s.jsx("span",{className:`font-medium ${o.length<6?"text-red-600":o.length<10?"text-orange-600":"text-green-600"}`,children:o.length<6?"Weak":o.length<10?"Medium":"Strong"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:s.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${o.length<6?"w-1/3 bg-red-500":o.length<10?"w-2/3 bg-orange-500":"w-full bg-green-500"}`})})]}),s.jsxs("div",{className:"flex items-start space-x-2 pt-2",children:[s.jsx("input",{id:"terms",type:"checkbox",required:!0,className:"w-4 h-4 mt-1 rounded border-gray-300 text-[#092033] focus:ring-[#092033] focus:ring-offset-0 cursor-pointer"}),s.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-600 cursor-pointer",children:["I agree to the"," ",s.jsx("a",{href:"#",className:"text-[#092033] hover:underline font-medium",children:"Terms of Service"})," ","and"," ",s.jsx("a",{href:"#",className:"text-[#092033] hover:underline font-medium",children:"Privacy Policy"})]})]}),s.jsx(cv,{type:"submit",variant:"primary",loading:h,children:h?m.auth.signingUp:m.auth.register}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-4 bg-white text-gray-500",children:"Already have an account?"})})]}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:[m.auth.hasAccount," ",s.jsx(xn,{to:"/login",className:"text-[#092033] hover:underline font-semibold transition-colors",children:m.auth.login})]})})]})})}function fM({isCollapsed:e,onToggle:t,isMobileMenuOpen:r,onMobileMenuToggle:n}){const{t:a}=qt(),i=Rr(),{userRole:o,isImpersonating:l}=ze();console.log("Sidebar - Current userRole:",o);const c=[{title:a.nav.general,items:[{label:a.nav.dashboard,icon:xg,href:"/dashboard"}]},{title:a.nav.myRestaurant,items:[{label:a.nav.visualIdentity,icon:ja,href:"/dashboard/visual-identity"},{label:a.nav.contactInfo,icon:Co,href:"/dashboard/contact-info"},{label:a.nav.myMenus,icon:$c,href:"/dashboard/menu"},{label:a.nav.qrCode,icon:sk,href:"/dashboard/qr-code"}]},{title:a.nav.clientServices,items:[{label:a.nav.reservations,icon:vg,href:"/dashboard/reservations"}]},{title:a.nav.configuration,items:[{label:a.nav.settings,icon:uk,href:"/dashboard/settings"}]}],u={title:"Administration",items:[{label:"Dashboard",icon:xg,href:"/admin",roles:["admin"]},{label:"Clients",icon:Jr,href:"/admin/clients",roles:["admin"]},{label:"Resellers",icon:pk,href:"/admin/resellers",roles:["admin"]},{label:"Admins",icon:dk,href:"/admin/admins",roles:["admin"]},{label:"Reseller Dashboard",icon:Jr,href:"/reseller",roles:["admin","reseller"]}]};return s.jsxs(s.Fragment,{children:[r&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:n}),s.jsx("aside",{className:`fixed left-0 top-0 h-screen bg-white border-r border-gray-200 transition-all duration-300 z-50 lg:z-30 ${e?"w-20":"w-64"} ${r?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:`flex items-center p-4 border-b border-gray-200 ${e?"justify-center":"justify-between"}`,children:[s.jsx("img",{src:e?"https://pub-237d2da54b564d23aaa1c3826e1d4e65.r2.dev/Aimenu/Logo_icon.svg":"https://pub-237d2da54b564d23aaa1c3826e1d4e65.r2.dev/Aimenu/Aimenu.svg",alt:"Aimenu",className:`transition-all ${e?"h-8 w-8":"h-8"}`}),!e&&s.jsx("button",{onClick:n,className:"lg:hidden p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",children:s.jsx(_n,{className:"w-5 h-5"})})]}),s.jsxs("nav",{className:"flex-1 overflow-y-auto py-4",children:[c.map((d,f)=>s.jsxs("div",{className:"mb-6",children:[!e&&s.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:d.title}),s.jsx("ul",{className:"space-y-1",children:d.items.map((h,p)=>{const m=i.pathname===h.href;return s.jsx("li",{children:s.jsxs(xn,{to:h.href,onClick:()=>n(),className:`flex items-center gap-3 px-4 py-2.5 transition-colors ${m?"bg-sidebar-active text-white font-medium":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"} ${e?"justify-center":""}`,title:e?h.label:void 0,children:[s.jsx(h.icon,{className:"w-5 h-5 flex-shrink-0"}),!e&&s.jsx("span",{className:"text-sm font-medium",children:h.label})]})},p)})})]},f)),(o==="admin"||o==="reseller")&&!l&&s.jsxs("div",{className:"mb-6",children:[!e&&s.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:u.title}),s.jsx("ul",{className:"space-y-1",children:u.items.map((d,f)=>{if(console.log("Checking admin item:",d.label,"userRole:",o,"allowed roles:",d.roles),!o||!d.roles.includes(o))return null;const h=i.pathname===d.href;return s.jsx("li",{children:s.jsxs(xn,{to:d.href,onClick:()=>n(),className:`flex items-center gap-3 px-4 py-2.5 transition-colors ${h?"bg-sidebar-active text-white font-medium":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"} ${e?"justify-center":""}`,title:e?d.label:void 0,children:[s.jsx(d.icon,{className:"w-5 h-5 flex-shrink-0"}),!e&&s.jsx("span",{className:"text-sm font-medium",children:d.label})]})},f)})})]})]}),s.jsx("div",{className:"p-4 border-t border-gray-200",children:s.jsx("button",{onClick:t,className:"hidden lg:flex items-center justify-center w-full p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:e?"Expand sidebar":"Collapse sidebar",children:e?s.jsx(Qf,{className:"w-5 h-5"}):s.jsx(ov,{className:"w-5 h-5"})})})]})})]})}async function hM(e){const{data:{session:t}}=await ee.auth.getSession();if(!(t!=null&&t.access_token))throw new Error("User not authenticated");const r={price_id:e.priceId,mode:e.mode,success_url:e.successUrl,cancel_url:e.cancelUrl};e.promoCode&&(r.promo_code=e.promoCode);const n=await fetch("undefined/functions/v1/stripe-checkout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.access_token}`},body:JSON.stringify(r)});if(!n.ok){const i=await n.json();throw new Error(i.error||"Failed to create checkout session")}const{url:a}=await n.json();if(a)window.location.href=a;else throw new Error("No checkout URL received")}async function pM(e){const{data:{session:t}}=await ee.auth.getSession();if(!(t!=null&&t.access_token))throw new Error("User not authenticated");const r=await fetch("undefined/functions/v1/stripe-customer-portal",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.access_token}`},body:JSON.stringify({return_url:e})});if(!r.ok){const a=await r.json();throw new Error(a.error||"Failed to create customer portal session")}const{url:n}=await r.json();if(n)window.location.href=n;else throw new Error("No portal URL received")}function mM(){const{language:e,setLanguage:t}=qt(),[r,n]=T.useState(!1),a=T.useRef(null);T.useEffect(()=>{function l(c){a.current&&!a.current.contains(c.target)&&n(!1)}return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]);const i=[{code:"en",label:"English",flag:""},{code:"fr",label:"Franais",flag:""},{code:"es",label:"Espaol",flag:""},{code:"de",label:"Deutsch",flag:""},{code:"it",label:"Italiano",flag:""},{code:"pt",label:"Portugus",flag:""},{code:"ar",label:"",flag:""},{code:"zh",label:"",flag:""},{code:"ja",label:"",flag:""},{code:"ko",label:"",flag:""}],o=i.find(l=>l.code===e);return s.jsxs("div",{className:"relative",ref:a,children:[s.jsxs("button",{onClick:()=>n(!r),className:"flex items-center gap-2 p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors","aria-label":"Select language",children:[s.jsx(Bu,{className:"w-5 h-5"}),s.jsx("span",{className:"text-lg",children:o==null?void 0:o.flag})]}),r&&s.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:i.map(l=>s.jsxs("button",{onClick:()=>{t(l.code),n(!1)},className:`w-full flex items-center gap-3 px-4 py-2 text-left hover:bg-gray-50 transition-colors ${e===l.code?"bg-blue-50 text-blue-700":"text-gray-700"}`,children:[s.jsx("span",{className:"text-lg",children:l.flag}),s.jsx("span",{className:"font-medium",children:l.label}),e===l.code&&s.jsx("span",{className:"ml-auto text-blue-600",children:""})]},l.code))})]})}const yk=[{id:"prod_TCvLJb5dILdFq1",priceId:"price_1SGVUhCJDWSNg39p6wxlpgTn",name:"Ai Menu",description:"Empower your restaurant with the intelligence of AI",price:399,currency:"eur",mode:"subscription"}],gM=e=>yk.find(t=>t.priceId===e);function yM(){const{effectiveUserId:e}=ze(),{t,language:r}=qt(),[n,a]=T.useState(null),[i,o]=T.useState(!0);T.useEffect(()=>{l()},[e]);const l=async()=>{try{const{data:{user:f}}=await ee.auth.getUser();if(!f){o(!1);return}const h=e||f.id,{data:p,error:m}=await ee.from("stripe_subscriptions").select("status, price_id, current_period_end, cancel_at_period_end").eq("user_id",h).maybeSingle();m?console.error("Error fetching subscription:",m):p&&a({subscription_status:p.status,price_id:p.price_id,current_period_end:p.current_period_end,cancel_at_period_end:p.cancel_at_period_end||!1})}catch(f){console.error("Error fetching subscription:",f)}finally{o(!1)}};if(i)return s.jsxs("div",{className:"hidden lg:flex items-center gap-2 px-3 py-1.5 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded-full animate-pulse"}),s.jsx("div",{className:"h-3 w-20 bg-gray-200 rounded animate-pulse"})]});if(!n||n.subscription_status==="not_started")return s.jsxs("div",{className:"hidden lg:flex items-center gap-2 px-3 py-1.5 bg-gray-50 rounded-lg",children:[s.jsx(ls,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-xs font-medium text-gray-600",children:t.subscription.noSubscription})]});const c=n.price_id?gM(n.price_id):null,u=vM(n.subscription_status),d=()=>({en:"en-US",fr:"fr-FR",es:"es-ES",de:"de-DE",it:"it-IT",pt:"pt-PT",ja:"ja-JP",zh:"zh-CN",ko:"ko-KR",ar:"ar-SA"})[r]||"en-US";return s.jsxs("div",{className:"hidden lg:flex items-center gap-3 px-3 py-1.5 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[u,s.jsx("span",{className:"text-xs font-medium text-gray-900",children:(c==null?void 0:c.name)||t.subscription.subscription})]}),n.current_period_end&&s.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600 border-l border-gray-300 pl-3",children:[s.jsx("span",{className:"text-gray-500",children:n.cancel_at_period_end?t.subscription.expires:t.subscription.renews}),s.jsx("span",{className:"font-medium",children:new Date(n.current_period_end*1e3).toLocaleDateString(d(),{month:"short",day:"numeric",year:"numeric"})})]})]})}function vM(e){switch(e){case"active":return s.jsx(iv,{className:"w-4 h-4 text-green-500"});case"trialing":return s.jsx(aM,{className:"w-4 h-4 text-blue-500"});case"canceled":case"unpaid":return s.jsx(cM,{className:"w-4 h-4 text-red-500"});default:return s.jsx(ls,{className:"w-4 h-4 text-yellow-500"})}}function xM({isSidebarCollapsed:e,onMobileMenuToggle:t,hideSidebar:r=!1}){const{t:n}=qt(),{user:a,signOut:i}=ze(),o=nt(),[l,c]=T.useState(!1),[u,d]=T.useState(!1),f=async()=>{await i(),o("/login")},h=async()=>{d(!0);try{await pM(window.location.href)}catch(p){console.error("Failed to open billing portal:",p),alert("Failed to open billing portal. Please try again.")}finally{d(!1)}};return s.jsx("header",{className:`fixed top-0 right-0 h-16 bg-white border-b border-gray-200 z-20 transition-all duration-300 ${r?"left-0":e?"left-0 lg:left-20":"left-0 lg:left-64"}`,children:s.jsxs("div",{className:"h-full px-4 sm:px-6 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:t,className:"lg:hidden p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",children:s.jsx($c,{className:"w-6 h-6"})}),s.jsx("img",{src:"https://pub-237d2da54b564d23aaa1c3826e1d4e65.r2.dev/Aimenu/Aimenu.svg",alt:"Aimenu",className:"h-8 lg:hidden"})]}),s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsx(yM,{})}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[s.jsx(mM,{}),s.jsxs("button",{className:"hidden sm:block relative p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",children:[s.jsx(rM,{className:"w-5 h-5"}),s.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-2 p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:s.jsx(th,{className:"w-5 h-5 text-gray-600"})}),s.jsx(nM,{className:"w-4 h-4 hidden sm:block"})]}),l&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>c(!1)}),s.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-40",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-gray-200",children:[s.jsx("p",{className:"text-sm text-gray-500",children:n.auth.email}),s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:a==null?void 0:a.email})]}),s.jsxs("button",{onClick:h,disabled:u,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(ll,{className:"w-4 h-4"}),u?"Loading...":"Manage Billing"]}),s.jsxs("button",{onClick:f,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[s.jsx(sv,{className:"w-4 h-4"}),n.auth.logout]})]})]})]})]})]})})}function bM(){const{isImpersonating:e,stopImpersonating:t}=ze();return e?s.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-yellow-500 text-white py-3 px-4 shadow-lg",children:s.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ls,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"You are currently viewing as another user"})]}),s.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-1.5 bg-white text-yellow-600 rounded-md hover:bg-gray-100 transition-colors font-medium",children:[s.jsx(_n,{className:"w-4 h-4"}),"Exit View Mode"]})]})}):null}function _t({children:e,hideSidebar:t=!1}){const{isImpersonating:r}=ze(),[n,a]=T.useState(!1),[i,o]=T.useState(!1);return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(bM,{}),s.jsxs("div",{className:r?"pt-12":"",children:[s.jsx(xM,{isSidebarCollapsed:t?!1:n,onMobileMenuToggle:()=>o(!i),hideSidebar:t}),!t&&s.jsx(fM,{isCollapsed:n,onToggle:()=>a(!n),isMobileMenuOpen:i,onMobileMenuToggle:()=>o(!i)}),s.jsx("main",{className:`pt-16 transition-all duration-300 ${t?"":"lg:ml-64"}`,children:s.jsx("div",{className:"p-4 sm:p-6",children:e})})]})]})}function vk(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=vk(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ce(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=vk(e))&&(n&&(n+=" "),n+=t);return n}var wM=Array.isArray,sr=wM,_M=typeof Tt=="object"&&Tt&&Tt.Object===Object&&Tt,xk=_M,jM=xk,SM=typeof self=="object"&&self&&self.Object===Object&&self,NM=jM||SM||Function("return this")(),jn=NM,kM=jn,PM=kM.Symbol,Mc=PM,Zb=Mc,bk=Object.prototype,CM=bk.hasOwnProperty,AM=bk.toString,Ms=Zb?Zb.toStringTag:void 0;function OM(e){var t=CM.call(e,Ms),r=e[Ms];try{e[Ms]=void 0;var n=!0}catch{}var a=AM.call(e);return n&&(t?e[Ms]=r:delete e[Ms]),a}var EM=OM,TM=Object.prototype,$M=TM.toString;function MM(e){return $M.call(e)}var IM=MM,ew=Mc,RM=EM,DM=IM,LM="[object Null]",UM="[object Undefined]",tw=ew?ew.toStringTag:void 0;function FM(e){return e==null?e===void 0?UM:LM:tw&&tw in Object(e)?RM(e):DM(e)}var Yn=FM;function BM(e){return e!=null&&typeof e=="object"}var Xn=BM,zM=Yn,qM=Xn,WM="[object Symbol]";function HM(e){return typeof e=="symbol"||qM(e)&&zM(e)==WM}var cs=HM,VM=sr,GM=cs,KM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,QM=/^\w*$/;function YM(e,t){if(VM(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||GM(e)?!0:QM.test(e)||!KM.test(e)||t!=null&&e in Object(t)}var uv=YM;function XM(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ea=XM;const us=De(Ea);var JM=Yn,ZM=Ea,eI="[object AsyncFunction]",tI="[object Function]",rI="[object GeneratorFunction]",nI="[object Proxy]";function aI(e){if(!ZM(e))return!1;var t=JM(e);return t==tI||t==rI||t==eI||t==nI}var dv=aI;const Ne=De(dv);var iI=jn,oI=iI["__core-js_shared__"],sI=oI,Ip=sI,rw=function(){var e=/[^.]+$/.exec(Ip&&Ip.keys&&Ip.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function lI(e){return!!rw&&rw in e}var cI=lI,uI=Function.prototype,dI=uI.toString;function fI(e){if(e!=null){try{return dI.call(e)}catch{}try{return e+""}catch{}}return""}var wk=fI,hI=dv,pI=cI,mI=Ea,gI=wk,yI=/[\\^$.*+?()[\]{}|]/g,vI=/^\[object .+?Constructor\]$/,xI=Function.prototype,bI=Object.prototype,wI=xI.toString,_I=bI.hasOwnProperty,jI=RegExp("^"+wI.call(_I).replace(yI,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function SI(e){if(!mI(e)||pI(e))return!1;var t=hI(e)?jI:vI;return t.test(gI(e))}var NI=SI;function kI(e,t){return e==null?void 0:e[t]}var PI=kI,CI=NI,AI=PI;function OI(e,t){var r=AI(e,t);return CI(r)?r:void 0}var Ai=OI,EI=Ai,TI=EI(Object,"create"),rh=TI,nw=rh;function $I(){this.__data__=nw?nw(null):{},this.size=0}var MI=$I;function II(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var RI=II,DI=rh,LI="__lodash_hash_undefined__",UI=Object.prototype,FI=UI.hasOwnProperty;function BI(e){var t=this.__data__;if(DI){var r=t[e];return r===LI?void 0:r}return FI.call(t,e)?t[e]:void 0}var zI=BI,qI=rh,WI=Object.prototype,HI=WI.hasOwnProperty;function VI(e){var t=this.__data__;return qI?t[e]!==void 0:HI.call(t,e)}var GI=VI,KI=rh,QI="__lodash_hash_undefined__";function YI(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=KI&&t===void 0?QI:t,this}var XI=YI,JI=MI,ZI=RI,e6=zI,t6=GI,r6=XI;function ds(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ds.prototype.clear=JI;ds.prototype.delete=ZI;ds.prototype.get=e6;ds.prototype.has=t6;ds.prototype.set=r6;var n6=ds;function a6(){this.__data__=[],this.size=0}var i6=a6;function o6(e,t){return e===t||e!==e&&t!==t}var fv=o6,s6=fv;function l6(e,t){for(var r=e.length;r--;)if(s6(e[r][0],t))return r;return-1}var nh=l6,c6=nh,u6=Array.prototype,d6=u6.splice;function f6(e){var t=this.__data__,r=c6(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():d6.call(t,r,1),--this.size,!0}var h6=f6,p6=nh;function m6(e){var t=this.__data__,r=p6(t,e);return r<0?void 0:t[r][1]}var g6=m6,y6=nh;function v6(e){return y6(this.__data__,e)>-1}var x6=v6,b6=nh;function w6(e,t){var r=this.__data__,n=b6(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var _6=w6,j6=i6,S6=h6,N6=g6,k6=x6,P6=_6;function fs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}fs.prototype.clear=j6;fs.prototype.delete=S6;fs.prototype.get=N6;fs.prototype.has=k6;fs.prototype.set=P6;var ah=fs,C6=Ai,A6=jn,O6=C6(A6,"Map"),hv=O6,aw=n6,E6=ah,T6=hv;function $6(){this.size=0,this.__data__={hash:new aw,map:new(T6||E6),string:new aw}}var M6=$6;function I6(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var R6=I6,D6=R6;function L6(e,t){var r=e.__data__;return D6(t)?r[typeof t=="string"?"string":"hash"]:r.map}var ih=L6,U6=ih;function F6(e){var t=U6(this,e).delete(e);return this.size-=t?1:0,t}var B6=F6,z6=ih;function q6(e){return z6(this,e).get(e)}var W6=q6,H6=ih;function V6(e){return H6(this,e).has(e)}var G6=V6,K6=ih;function Q6(e,t){var r=K6(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Y6=Q6,X6=M6,J6=B6,Z6=W6,eR=G6,tR=Y6;function hs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}hs.prototype.clear=X6;hs.prototype.delete=J6;hs.prototype.get=Z6;hs.prototype.has=eR;hs.prototype.set=tR;var pv=hs,_k=pv,rR="Expected a function";function mv(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(rR);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(mv.Cache||_k),r}mv.Cache=_k;var jk=mv;const nR=De(jk);var aR=jk,iR=500;function oR(e){var t=aR(e,function(n){return r.size===iR&&r.clear(),n}),r=t.cache;return t}var sR=oR,lR=sR,cR=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,uR=/\\(\\)?/g,dR=lR(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(cR,function(r,n,a,i){t.push(a?i.replace(uR,"$1"):n||r)}),t}),fR=dR;function hR(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var gv=hR,iw=Mc,pR=gv,mR=sr,gR=cs,yR=1/0,ow=iw?iw.prototype:void 0,sw=ow?ow.toString:void 0;function Sk(e){if(typeof e=="string")return e;if(mR(e))return pR(e,Sk)+"";if(gR(e))return sw?sw.call(e):"";var t=e+"";return t=="0"&&1/e==-yR?"-0":t}var vR=Sk,xR=vR;function bR(e){return e==null?"":xR(e)}var Nk=bR,wR=sr,_R=uv,jR=fR,SR=Nk;function NR(e,t){return wR(e)?e:_R(e,t)?[e]:jR(SR(e))}var kk=NR,kR=cs,PR=1/0;function CR(e){if(typeof e=="string"||kR(e))return e;var t=e+"";return t=="0"&&1/e==-PR?"-0":t}var oh=CR,AR=kk,OR=oh;function ER(e,t){t=AR(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[OR(t[r++])];return r&&r==n?e:void 0}var yv=ER,TR=yv;function $R(e,t,r){var n=e==null?void 0:TR(e,t);return n===void 0?r:n}var Pk=$R;const yr=De(Pk);function MR(e){return e==null}var IR=MR;const ke=De(IR);var RR=Yn,DR=sr,LR=Xn,UR="[object String]";function FR(e){return typeof e=="string"||!DR(e)&&LR(e)&&RR(e)==UR}var BR=FR;const xi=De(BR);var Ck={exports:{}},Ue={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv=Symbol.for("react.element"),xv=Symbol.for("react.portal"),sh=Symbol.for("react.fragment"),lh=Symbol.for("react.strict_mode"),ch=Symbol.for("react.profiler"),uh=Symbol.for("react.provider"),dh=Symbol.for("react.context"),zR=Symbol.for("react.server_context"),fh=Symbol.for("react.forward_ref"),hh=Symbol.for("react.suspense"),ph=Symbol.for("react.suspense_list"),mh=Symbol.for("react.memo"),gh=Symbol.for("react.lazy"),qR=Symbol.for("react.offscreen"),Ak;Ak=Symbol.for("react.module.reference");function Dr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case vv:switch(e=e.type,e){case sh:case ch:case lh:case hh:case ph:return e;default:switch(e=e&&e.$$typeof,e){case zR:case dh:case fh:case gh:case mh:case uh:return e;default:return t}}case xv:return t}}}Ue.ContextConsumer=dh;Ue.ContextProvider=uh;Ue.Element=vv;Ue.ForwardRef=fh;Ue.Fragment=sh;Ue.Lazy=gh;Ue.Memo=mh;Ue.Portal=xv;Ue.Profiler=ch;Ue.StrictMode=lh;Ue.Suspense=hh;Ue.SuspenseList=ph;Ue.isAsyncMode=function(){return!1};Ue.isConcurrentMode=function(){return!1};Ue.isContextConsumer=function(e){return Dr(e)===dh};Ue.isContextProvider=function(e){return Dr(e)===uh};Ue.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===vv};Ue.isForwardRef=function(e){return Dr(e)===fh};Ue.isFragment=function(e){return Dr(e)===sh};Ue.isLazy=function(e){return Dr(e)===gh};Ue.isMemo=function(e){return Dr(e)===mh};Ue.isPortal=function(e){return Dr(e)===xv};Ue.isProfiler=function(e){return Dr(e)===ch};Ue.isStrictMode=function(e){return Dr(e)===lh};Ue.isSuspense=function(e){return Dr(e)===hh};Ue.isSuspenseList=function(e){return Dr(e)===ph};Ue.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===sh||e===ch||e===lh||e===hh||e===ph||e===qR||typeof e=="object"&&e!==null&&(e.$$typeof===gh||e.$$typeof===mh||e.$$typeof===uh||e.$$typeof===dh||e.$$typeof===fh||e.$$typeof===Ak||e.getModuleId!==void 0)};Ue.typeOf=Dr;Ck.exports=Ue;var WR=Ck.exports,HR=Yn,VR=Xn,GR="[object Number]";function KR(e){return typeof e=="number"||VR(e)&&HR(e)==GR}var Ok=KR;const QR=De(Ok);var YR=Ok;function XR(e){return YR(e)&&e!=+e}var JR=XR;const Ic=De(JR);var Gt=function(t){return t===0?0:t>0?1:-1},ni=function(t){return xi(t)&&t.indexOf("%")===t.length-1},ue=function(t){return QR(t)&&!Ic(t)},ZR=function(t){return ke(t)},wt=function(t){return ue(t)||xi(t)},eD=0,ps=function(t){var r=++eD;return"".concat(t||"").concat(r)},Kt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ue(t)&&!xi(t))return n;var i;if(ni(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Ic(i)&&(i=n),a&&i>r&&(i=r),i},da=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},tD=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},hr=function(t,r){return ue(t)&&ue(r)?function(n){return t+n*(r-t)}:function(){return r}};function vd(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):yr(n,t))===r})}var rD=function(t,r){return ue(t)&&ue(r)?t-r:xi(t)&&xi(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function yo(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function wg(e){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wg(e)}var nD=["viewBox","children"],aD=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],lw=["points","pathLength"],Rp={svg:nD,polygon:lw,polyline:lw},bv=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],xd=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(T.isValidElement(t)&&(n=t.props),!us(n))return null;var a={};return Object.keys(n).forEach(function(i){bv.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},iD=function(t,r,n){return function(a){return t(r,n,a),null}},bi=function(t,r,n){if(!us(t)||wg(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];bv.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=iD(o,r,n))}),a},oD=["children"],sD=["children"];function cw(e,t){if(e==null)return{};var r=lD(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lD(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _g(e){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(e)}var uw={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ln=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},dw=null,Dp=null,wv=function e(t){if(t===dw&&Array.isArray(Dp))return Dp;var r=[];return T.Children.forEach(t,function(n){ke(n)||(WR.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Dp=r,dw=t,r};function vr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Ln(a)}):n=[Ln(t)],wv(e).forEach(function(a){var i=yr(a,"type.displayName")||yr(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function fr(e,t){var r=vr(e,t);return r&&r[0]}var fw=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!ue(n)||n<=0||!ue(a)||a<=0)},cD=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],uD=function(t){return t&&t.type&&xi(t.type)&&cD.indexOf(t.type)>=0},dD=function(t){return t&&_g(t)==="object"&&"clipDot"in t},fD=function(t,r,n,a){var i,o=(i=Rp==null?void 0:Rp[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Ne(t)&&(a&&o.includes(r)||aD.includes(r))||n&&bv.includes(r)},we=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(T.isValidElement(t)&&(a=t.props),!us(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;fD((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},jg=function e(t,r){if(t===r)return!0;var n=T.Children.count(t);if(n!==T.Children.count(r))return!1;if(n===0)return!0;if(n===1)return hw(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!hw(i,o))return!1}return!0},hw=function(t,r){if(ke(t)&&ke(r))return!0;if(!ke(t)&&!ke(r)){var n=t.props||{},a=n.children,i=cw(n,oD),o=r.props||{},l=o.children,c=cw(o,sD);return a&&l?yo(i,c)&&jg(a,l):!a&&!l?yo(i,c):!1}return!1},pw=function(t,r){var n=[],a={};return wv(t).forEach(function(i,o){if(uD(i))n.push(i);else if(i){var l=Ln(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},hD=function(t){var r=t&&t.type;return r&&uw[r]?uw[r]:null},pD=function(t,r){return wv(r).indexOf(t)},mD=["children","width","height","viewBox","className","style","title","desc"];function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sg.apply(this,arguments)}function gD(e,t){if(e==null)return{};var r=yD(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yD(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ng(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=gD(e,mD),d=a||{width:r,height:n,x:0,y:0},f=Ce("recharts-surface",i);return G.createElement("svg",Sg({},we(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),G.createElement("title",null,l),G.createElement("desc",null,c),t)}var vD=["children","className"];function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kg.apply(this,arguments)}function xD(e,t){if(e==null)return{};var r=bD(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bD(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var $e=G.forwardRef(function(e,t){var r=e.children,n=e.className,a=xD(e,vD),i=Ce("recharts-layer",n);return G.createElement("g",kg({className:i},we(a,!0),{ref:t}),r)}),tn=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function wD(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var _D=wD,jD=_D;function SD(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:jD(e,t,r)}var ND=SD,kD="\\ud800-\\udfff",PD="\\u0300-\\u036f",CD="\\ufe20-\\ufe2f",AD="\\u20d0-\\u20ff",OD=PD+CD+AD,ED="\\ufe0e\\ufe0f",TD="\\u200d",$D=RegExp("["+TD+kD+OD+ED+"]");function MD(e){return $D.test(e)}var Ek=MD;function ID(e){return e.split("")}var RD=ID,Tk="\\ud800-\\udfff",DD="\\u0300-\\u036f",LD="\\ufe20-\\ufe2f",UD="\\u20d0-\\u20ff",FD=DD+LD+UD,BD="\\ufe0e\\ufe0f",zD="["+Tk+"]",Pg="["+FD+"]",Cg="\\ud83c[\\udffb-\\udfff]",qD="(?:"+Pg+"|"+Cg+")",$k="[^"+Tk+"]",Mk="(?:\\ud83c[\\udde6-\\uddff]){2}",Ik="[\\ud800-\\udbff][\\udc00-\\udfff]",WD="\\u200d",Rk=qD+"?",Dk="["+BD+"]?",HD="(?:"+WD+"(?:"+[$k,Mk,Ik].join("|")+")"+Dk+Rk+")*",VD=Dk+Rk+HD,GD="(?:"+[$k+Pg+"?",Pg,Mk,Ik,zD].join("|")+")",KD=RegExp(Cg+"(?="+Cg+")|"+GD+VD,"g");function QD(e){return e.match(KD)||[]}var YD=QD,XD=RD,JD=Ek,ZD=YD;function eL(e){return JD(e)?ZD(e):XD(e)}var tL=eL,rL=ND,nL=Ek,aL=tL,iL=Nk;function oL(e){return function(t){t=iL(t);var r=nL(t)?aL(t):void 0,n=r?r[0]:t.charAt(0),a=r?rL(r,1).join(""):t.slice(1);return n[e]()+a}}var sL=oL,lL=sL,cL=lL("toUpperCase"),uL=cL;const yh=De(uL);function Ge(e){return function(){return e}}const Lk=Math.cos,bd=Math.sin,on=Math.sqrt,wd=Math.PI,vh=2*wd,Ag=Math.PI,Og=2*Ag,Ga=1e-6,dL=Og-Ga;function Uk(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function fL(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Uk;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class hL{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Uk:fL(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ga)if(!(Math.abs(f*c-u*d)>Ga)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,m=a-l,g=c*c+u*u,v=p*p+m*m,y=Math.sqrt(g),b=Math.sqrt(h),x=i*Math.tan((Ag-Math.acos((g+h-v)/(2*y*b)))/2),S=x/b,j=x/y;Math.abs(S-1)>Ga&&this._append`L${t+S*d},${r+S*f}`,this._append`A${i},${i},0,0,${+(f*p>d*m)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ga||Math.abs(this._y1-d)>Ga)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Og+Og),h>dL?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ga&&this._append`A${n},${n},0,${+(h>=Ag)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function _v(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new hL(t)}function jv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Fk(e){this._context=e}Fk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function xh(e){return new Fk(e)}function Bk(e){return e[0]}function zk(e){return e[1]}function qk(e,t){var r=Ge(!0),n=null,a=xh,i=null,o=_v(l);e=typeof e=="function"?e:e===void 0?Bk:Ge(e),t=typeof t=="function"?t:t===void 0?zk:Ge(t);function l(c){var u,d=(c=jv(c)).length,f,h=!1,p;for(n==null&&(i=a(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ge(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ge(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ge(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function fu(e,t,r){var n=null,a=Ge(!0),i=null,o=xh,l=null,c=_v(u);e=typeof e=="function"?e:e===void 0?Bk:Ge(+e),t=typeof t=="function"?t:Ge(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?zk:Ge(+r);function u(f){var h,p,m,g=(f=jv(f)).length,v,y=!1,b,x=new Array(g),S=new Array(g);for(i==null&&(l=o(b=c())),h=0;h<=g;++h){if(!(h<g&&a(v=f[h],h,f))===y)if(y=!y)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=h-1;m>=p;--m)l.point(x[m],S[m]);l.lineEnd(),l.areaEnd()}y&&(x[h]=+e(v,h,f),S[h]=+t(v,h,f),l.point(n?+n(v,h,f):x[h],r?+r(v,h,f):S[h]))}if(b)return l=null,b+""||null}function d(){return qk().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ge(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ge(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ge(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ge(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ge(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ge(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ge(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class Wk{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function pL(e){return new Wk(e,!0)}function mL(e){return new Wk(e,!1)}const Sv={draw(e,t){const r=on(t/wd);e.moveTo(r,0),e.arc(0,0,r,0,vh)}},gL={draw(e,t){const r=on(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Hk=on(1/3),yL=Hk*2,vL={draw(e,t){const r=on(t/yL),n=r*Hk;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},xL={draw(e,t){const r=on(t),n=-r/2;e.rect(n,n,r,r)}},bL=.8908130915292852,Vk=bd(wd/10)/bd(7*wd/10),wL=bd(vh/10)*Vk,_L=-Lk(vh/10)*Vk,jL={draw(e,t){const r=on(t*bL),n=wL*r,a=_L*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=vh*i/5,l=Lk(o),c=bd(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Lp=on(3),SL={draw(e,t){const r=-on(t/(Lp*3));e.moveTo(0,r*2),e.lineTo(-Lp*r,-r),e.lineTo(Lp*r,-r),e.closePath()}},_r=-.5,jr=on(3)/2,Eg=1/on(12),NL=(Eg/2+1)*3,kL={draw(e,t){const r=on(t/NL),n=r/2,a=r*Eg,i=n,o=r*Eg+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(_r*n-jr*a,jr*n+_r*a),e.lineTo(_r*i-jr*o,jr*i+_r*o),e.lineTo(_r*l-jr*c,jr*l+_r*c),e.lineTo(_r*n+jr*a,_r*a-jr*n),e.lineTo(_r*i+jr*o,_r*o-jr*i),e.lineTo(_r*l+jr*c,_r*c-jr*l),e.closePath()}};function PL(e,t){let r=null,n=_v(a);e=typeof e=="function"?e:Ge(e||Sv),t=typeof t=="function"?t:Ge(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ge(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ge(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function _d(){}function jd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Gk(e){this._context=e}Gk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function CL(e){return new Gk(e)}function Kk(e){this._context=e}Kk.prototype={areaStart:_d,areaEnd:_d,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:jd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function AL(e){return new Kk(e)}function Qk(e){this._context=e}Qk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:jd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function OL(e){return new Qk(e)}function Yk(e){this._context=e}Yk.prototype={areaStart:_d,areaEnd:_d,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function EL(e){return new Yk(e)}function mw(e){return e<0?-1:1}function gw(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(mw(i)+mw(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function yw(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Up(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function Sd(e){this._context=e}Sd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Up(this,this._t0,yw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Up(this,yw(this,r=gw(this,e,t)),r);break;default:Up(this,this._t0,r=gw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Xk(e){this._context=new Jk(e)}(Xk.prototype=Object.create(Sd.prototype)).point=function(e,t){Sd.prototype.point.call(this,t,e)};function Jk(e){this._context=e}Jk.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function TL(e){return new Sd(e)}function $L(e){return new Xk(e)}function Zk(e){this._context=e}Zk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=vw(e),a=vw(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function vw(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function ML(e){return new Zk(e)}function bh(e,t){this._context=e,this._t=t}bh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function IL(e){return new bh(e,.5)}function RL(e){return new bh(e,0)}function DL(e){return new bh(e,1)}function Ao(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Tg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function LL(e,t){return e[t]}function UL(e){const t=[];return t.key=e,t}function FL(){var e=Ge([]),t=Tg,r=Ao,n=LL;function a(i){var o=Array.from(e.apply(this,arguments),UL),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=jv(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ge(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ge(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Tg:typeof i=="function"?i:Ge(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Ao,a):r},a}function BL(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Ao(e,t)}}function zL(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Ao(e,t)}}function qL(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,m=0;m<l;++m){var g=e[t[m]],v=g[n][1]||0,y=g[n-1][1]||0;p+=v-y}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Ao(e,t)}}function Fl(e){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(e)}var WL=["type","size","sizeType"];function $g(){return $g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$g.apply(this,arguments)}function xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xw(Object(r),!0).forEach(function(n){HL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HL(e,t,r){return t=VL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VL(e){var t=GL(e,"string");return Fl(t)=="symbol"?t:t+""}function GL(e,t){if(Fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KL(e,t){if(e==null)return{};var r=QL(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QL(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var eP={symbolCircle:Sv,symbolCross:gL,symbolDiamond:vL,symbolSquare:xL,symbolStar:jL,symbolTriangle:SL,symbolWye:kL},YL=Math.PI/180,XL=function(t){var r="symbol".concat(yh(t));return eP[r]||Sv},JL=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*YL;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},ZL=function(t,r){eP["symbol".concat(yh(t))]=r},Nv=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=KL(t,WL),u=bw(bw({},c),{},{type:n,size:i,sizeType:l}),d=function(){var v=XL(n),y=PL().type(v).size(JL(i,l,n));return y()},f=u.className,h=u.cx,p=u.cy,m=we(u,!0);return h===+h&&p===+p&&i===+i?G.createElement("path",$g({},m,{className:Ce("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Nv.registerSymbol=ZL;function Oo(e){"@babel/helpers - typeof";return Oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oo(e)}function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mg.apply(this,arguments)}function ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function e8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ww(Object(r),!0).forEach(function(n){Bl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rP(n.key),n)}}function n8(e,t,r){return t&&r8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a8(e,t,r){return t=Nd(t),i8(e,tP()?Reflect.construct(t,r||[],Nd(e).constructor):t.apply(e,r))}function i8(e,t){if(t&&(Oo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o8(e)}function o8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tP=function(){return!!e})()}function Nd(e){return Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nd(e)}function s8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ig(e,t)}function Ig(e,t){return Ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ig(e,t)}function Bl(e,t,r){return t=rP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rP(e){var t=l8(e,"string");return Oo(t)=="symbol"?t:t+""}function l8(e,t){if(Oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sr=32,kv=function(e){function t(){return t8(this,t),a8(this,t,arguments)}return s8(t,e),n8(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Sr/2,o=Sr/6,l=Sr/3,c=n.inactive?a:n.color;if(n.type==="plainline")return G.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Sr,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return G.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Sr,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return G.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Sr/8,"h").concat(Sr,"v").concat(Sr*3/4,"h").concat(-Sr,"z"),className:"recharts-legend-icon"});if(G.isValidElement(n.legendIcon)){var u=e8({},n);return delete u.legendIcon,G.cloneElement(n.legendIcon,u)}return G.createElement(Nv,{fill:c,cx:i,cy:i,size:Sr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Sr,height:Sr},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,m){var g=p.formatter||c,v=Ce(Bl(Bl({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Ne(p.value)?null:p.value;tn(!Ne(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?u:p.color;return G.createElement("li",Mg({className:v,style:f,key:"legend-item-".concat(m)},bi(n.props,p,m)),G.createElement(Ng,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),G.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(y,p,m):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return G.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(T.PureComponent);Bl(kv,"displayName","Legend");Bl(kv,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var c8=ah;function u8(){this.__data__=new c8,this.size=0}var d8=u8;function f8(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var h8=f8;function p8(e){return this.__data__.get(e)}var m8=p8;function g8(e){return this.__data__.has(e)}var y8=g8,v8=ah,x8=hv,b8=pv,w8=200;function _8(e,t){var r=this.__data__;if(r instanceof v8){var n=r.__data__;if(!x8||n.length<w8-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new b8(n)}return r.set(e,t),this.size=r.size,this}var j8=_8,S8=ah,N8=d8,k8=h8,P8=m8,C8=y8,A8=j8;function ms(e){var t=this.__data__=new S8(e);this.size=t.size}ms.prototype.clear=N8;ms.prototype.delete=k8;ms.prototype.get=P8;ms.prototype.has=C8;ms.prototype.set=A8;var nP=ms,O8="__lodash_hash_undefined__";function E8(e){return this.__data__.set(e,O8),this}var T8=E8;function $8(e){return this.__data__.has(e)}var M8=$8,I8=pv,R8=T8,D8=M8;function kd(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new I8;++t<r;)this.add(e[t])}kd.prototype.add=kd.prototype.push=R8;kd.prototype.has=D8;var aP=kd;function L8(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var iP=L8;function U8(e,t){return e.has(t)}var oP=U8,F8=aP,B8=iP,z8=oP,q8=1,W8=2;function H8(e,t,r,n,a,i){var o=r&q8,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&W8?new F8:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var m=e[f],g=t[f];if(n)var v=o?n(g,m,f,t,e,i):n(m,g,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!B8(t,function(y,b){if(!z8(p,b)&&(m===y||a(m,y,r,n,i)))return p.push(b)})){h=!1;break}}else if(!(m===g||a(m,g,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var sP=H8,V8=jn,G8=V8.Uint8Array,K8=G8;function Q8(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var Y8=Q8;function X8(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Pv=X8,_w=Mc,jw=K8,J8=fv,Z8=sP,eU=Y8,tU=Pv,rU=1,nU=2,aU="[object Boolean]",iU="[object Date]",oU="[object Error]",sU="[object Map]",lU="[object Number]",cU="[object RegExp]",uU="[object Set]",dU="[object String]",fU="[object Symbol]",hU="[object ArrayBuffer]",pU="[object DataView]",Sw=_w?_w.prototype:void 0,Fp=Sw?Sw.valueOf:void 0;function mU(e,t,r,n,a,i,o){switch(r){case pU:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case hU:return!(e.byteLength!=t.byteLength||!i(new jw(e),new jw(t)));case aU:case iU:case lU:return J8(+e,+t);case oU:return e.name==t.name&&e.message==t.message;case cU:case dU:return e==t+"";case sU:var l=eU;case uU:var c=n&rU;if(l||(l=tU),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=nU,o.set(e,t);var d=Z8(l(e),l(t),n,a,i,o);return o.delete(e),d;case fU:if(Fp)return Fp.call(e)==Fp.call(t)}return!1}var gU=mU;function yU(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var lP=yU,vU=lP,xU=sr;function bU(e,t,r){var n=t(e);return xU(e)?n:vU(n,r(e))}var wU=bU;function _U(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var jU=_U;function SU(){return[]}var NU=SU,kU=jU,PU=NU,CU=Object.prototype,AU=CU.propertyIsEnumerable,Nw=Object.getOwnPropertySymbols,OU=Nw?function(e){return e==null?[]:(e=Object(e),kU(Nw(e),function(t){return AU.call(e,t)}))}:PU,EU=OU;function TU(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var $U=TU,MU=Yn,IU=Xn,RU="[object Arguments]";function DU(e){return IU(e)&&MU(e)==RU}var LU=DU,kw=LU,UU=Xn,cP=Object.prototype,FU=cP.hasOwnProperty,BU=cP.propertyIsEnumerable,zU=kw(function(){return arguments}())?kw:function(e){return UU(e)&&FU.call(e,"callee")&&!BU.call(e,"callee")},Cv=zU,Pd={exports:{}};function qU(){return!1}var WU=qU;Pd.exports;(function(e,t){var r=jn,n=WU,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Pd,Pd.exports);var uP=Pd.exports,HU=9007199254740991,VU=/^(?:0|[1-9]\d*)$/;function GU(e,t){var r=typeof e;return t=t??HU,!!t&&(r=="number"||r!="symbol"&&VU.test(e))&&e>-1&&e%1==0&&e<t}var Av=GU,KU=9007199254740991;function QU(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=KU}var Ov=QU,YU=Yn,XU=Ov,JU=Xn,ZU="[object Arguments]",e7="[object Array]",t7="[object Boolean]",r7="[object Date]",n7="[object Error]",a7="[object Function]",i7="[object Map]",o7="[object Number]",s7="[object Object]",l7="[object RegExp]",c7="[object Set]",u7="[object String]",d7="[object WeakMap]",f7="[object ArrayBuffer]",h7="[object DataView]",p7="[object Float32Array]",m7="[object Float64Array]",g7="[object Int8Array]",y7="[object Int16Array]",v7="[object Int32Array]",x7="[object Uint8Array]",b7="[object Uint8ClampedArray]",w7="[object Uint16Array]",_7="[object Uint32Array]",Xe={};Xe[p7]=Xe[m7]=Xe[g7]=Xe[y7]=Xe[v7]=Xe[x7]=Xe[b7]=Xe[w7]=Xe[_7]=!0;Xe[ZU]=Xe[e7]=Xe[f7]=Xe[t7]=Xe[h7]=Xe[r7]=Xe[n7]=Xe[a7]=Xe[i7]=Xe[o7]=Xe[s7]=Xe[l7]=Xe[c7]=Xe[u7]=Xe[d7]=!1;function j7(e){return JU(e)&&XU(e.length)&&!!Xe[YU(e)]}var S7=j7;function N7(e){return function(t){return e(t)}}var dP=N7,Cd={exports:{}};Cd.exports;(function(e,t){var r=xk,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Cd,Cd.exports);var k7=Cd.exports,P7=S7,C7=dP,Pw=k7,Cw=Pw&&Pw.isTypedArray,A7=Cw?C7(Cw):P7,fP=A7,O7=$U,E7=Cv,T7=sr,$7=uP,M7=Av,I7=fP,R7=Object.prototype,D7=R7.hasOwnProperty;function L7(e,t){var r=T7(e),n=!r&&E7(e),a=!r&&!n&&$7(e),i=!r&&!n&&!a&&I7(e),o=r||n||a||i,l=o?O7(e.length,String):[],c=l.length;for(var u in e)(t||D7.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||M7(u,c)))&&l.push(u);return l}var U7=L7,F7=Object.prototype;function B7(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||F7;return e===r}var z7=B7;function q7(e,t){return function(r){return e(t(r))}}var hP=q7,W7=hP,H7=W7(Object.keys,Object),V7=H7,G7=z7,K7=V7,Q7=Object.prototype,Y7=Q7.hasOwnProperty;function X7(e){if(!G7(e))return K7(e);var t=[];for(var r in Object(e))Y7.call(e,r)&&r!="constructor"&&t.push(r);return t}var J7=X7,Z7=dv,eF=Ov;function tF(e){return e!=null&&eF(e.length)&&!Z7(e)}var Rc=tF,rF=U7,nF=J7,aF=Rc;function iF(e){return aF(e)?rF(e):nF(e)}var wh=iF,oF=wU,sF=EU,lF=wh;function cF(e){return oF(e,lF,sF)}var uF=cF,Aw=uF,dF=1,fF=Object.prototype,hF=fF.hasOwnProperty;function pF(e,t,r,n,a,i){var o=r&dF,l=Aw(e),c=l.length,u=Aw(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:hF.call(t,h)))return!1}var p=i.get(e),m=i.get(t);if(p&&m)return p==t&&m==e;var g=!0;i.set(e,t),i.set(t,e);for(var v=o;++f<c;){h=l[f];var y=e[h],b=t[h];if(n)var x=o?n(b,y,h,t,e,i):n(y,b,h,e,t,i);if(!(x===void 0?y===b||a(y,b,r,n,i):x)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var S=e.constructor,j=t.constructor;S!=j&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof j=="function"&&j instanceof j)&&(g=!1)}return i.delete(e),i.delete(t),g}var mF=pF,gF=Ai,yF=jn,vF=gF(yF,"DataView"),xF=vF,bF=Ai,wF=jn,_F=bF(wF,"Promise"),jF=_F,SF=Ai,NF=jn,kF=SF(NF,"Set"),pP=kF,PF=Ai,CF=jn,AF=PF(CF,"WeakMap"),OF=AF,Rg=xF,Dg=hv,Lg=jF,Ug=pP,Fg=OF,mP=Yn,gs=wk,Ow="[object Map]",EF="[object Object]",Ew="[object Promise]",Tw="[object Set]",$w="[object WeakMap]",Mw="[object DataView]",TF=gs(Rg),$F=gs(Dg),MF=gs(Lg),IF=gs(Ug),RF=gs(Fg),Ka=mP;(Rg&&Ka(new Rg(new ArrayBuffer(1)))!=Mw||Dg&&Ka(new Dg)!=Ow||Lg&&Ka(Lg.resolve())!=Ew||Ug&&Ka(new Ug)!=Tw||Fg&&Ka(new Fg)!=$w)&&(Ka=function(e){var t=mP(e),r=t==EF?e.constructor:void 0,n=r?gs(r):"";if(n)switch(n){case TF:return Mw;case $F:return Ow;case MF:return Ew;case IF:return Tw;case RF:return $w}return t});var DF=Ka,Bp=nP,LF=sP,UF=gU,FF=mF,Iw=DF,Rw=sr,Dw=uP,BF=fP,zF=1,Lw="[object Arguments]",Uw="[object Array]",hu="[object Object]",qF=Object.prototype,Fw=qF.hasOwnProperty;function WF(e,t,r,n,a,i){var o=Rw(e),l=Rw(t),c=o?Uw:Iw(e),u=l?Uw:Iw(t);c=c==Lw?hu:c,u=u==Lw?hu:u;var d=c==hu,f=u==hu,h=c==u;if(h&&Dw(e)){if(!Dw(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Bp),o||BF(e)?LF(e,t,r,n,a,i):UF(e,t,c,r,n,a,i);if(!(r&zF)){var p=d&&Fw.call(e,"__wrapped__"),m=f&&Fw.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,v=m?t.value():t;return i||(i=new Bp),a(g,v,r,n,i)}}return h?(i||(i=new Bp),FF(e,t,r,n,a,i)):!1}var HF=WF,VF=HF,Bw=Xn;function gP(e,t,r,n,a){return e===t?!0:e==null||t==null||!Bw(e)&&!Bw(t)?e!==e&&t!==t:VF(e,t,r,n,gP,a)}var Ev=gP,GF=nP,KF=Ev,QF=1,YF=2;function XF(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new GF;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?KF(d,u,QF|YF,n,f):h))return!1}}return!0}var JF=XF,ZF=Ea;function eB(e){return e===e&&!ZF(e)}var yP=eB,tB=yP,rB=wh;function nB(e){for(var t=rB(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,tB(a)]}return t}var aB=nB;function iB(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var vP=iB,oB=JF,sB=aB,lB=vP;function cB(e){var t=sB(e);return t.length==1&&t[0][2]?lB(t[0][0],t[0][1]):function(r){return r===e||oB(r,e,t)}}var uB=cB;function dB(e,t){return e!=null&&t in Object(e)}var fB=dB,hB=kk,pB=Cv,mB=sr,gB=Av,yB=Ov,vB=oh;function xB(e,t,r){t=hB(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=vB(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&yB(a)&&gB(o,a)&&(mB(e)||pB(e)))}var bB=xB,wB=fB,_B=bB;function jB(e,t){return e!=null&&_B(e,t,wB)}var SB=jB,NB=Ev,kB=Pk,PB=SB,CB=uv,AB=yP,OB=vP,EB=oh,TB=1,$B=2;function MB(e,t){return CB(e)&&AB(t)?OB(EB(e),t):function(r){var n=kB(r,e);return n===void 0&&n===t?PB(r,e):NB(t,n,TB|$B)}}var IB=MB;function RB(e){return e}var ys=RB;function DB(e){return function(t){return t==null?void 0:t[e]}}var LB=DB,UB=yv;function FB(e){return function(t){return UB(t,e)}}var BB=FB,zB=LB,qB=BB,WB=uv,HB=oh;function VB(e){return WB(e)?zB(HB(e)):qB(e)}var GB=VB,KB=uB,QB=IB,YB=ys,XB=sr,JB=GB;function ZB(e){return typeof e=="function"?e:e==null?YB:typeof e=="object"?XB(e)?QB(e[0],e[1]):KB(e):JB(e)}var Sn=ZB;function ez(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var xP=ez;function tz(e){return e!==e}var rz=tz;function nz(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var az=nz,iz=xP,oz=rz,sz=az;function lz(e,t,r){return t===t?sz(e,t,r):iz(e,oz,r)}var cz=lz,uz=cz;function dz(e,t){var r=e==null?0:e.length;return!!r&&uz(e,t,0)>-1}var fz=dz;function hz(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var pz=hz;function mz(){}var gz=mz,zp=pP,yz=gz,vz=Pv,xz=1/0,bz=zp&&1/vz(new zp([,-0]))[1]==xz?function(e){return new zp(e)}:yz,wz=bz,_z=aP,jz=fz,Sz=pz,Nz=oP,kz=wz,Pz=Pv,Cz=200;function Az(e,t,r){var n=-1,a=jz,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=Sz;else if(i>=Cz){var u=t?null:kz(e);if(u)return Pz(u);o=!1,a=Nz,c=new _z}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Oz=Az,Ez=Sn,Tz=Oz;function $z(e,t){return e&&e.length?Tz(e,Ez(t)):[]}var Mz=$z;const zw=De(Mz);function bP(e,t,r){return t===!0?zw(e,r):Ne(t)?zw(e,t):e}function Eo(e){"@babel/helpers - typeof";return Eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eo(e)}var Iz=["ref"];function qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qw(Object(r),!0).forEach(function(n){_h(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ww(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_P(n.key),n)}}function Dz(e,t,r){return t&&Ww(e.prototype,t),r&&Ww(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lz(e,t,r){return t=Ad(t),Uz(e,wP()?Reflect.construct(t,r||[],Ad(e).constructor):t.apply(e,r))}function Uz(e,t){if(t&&(Eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fz(e)}function Fz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wP=function(){return!!e})()}function Ad(e){return Ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ad(e)}function Bz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bg(e,t)}function Bg(e,t){return Bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Bg(e,t)}function _h(e,t,r){return t=_P(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _P(e){var t=zz(e,"string");return Eo(t)=="symbol"?t:t+""}function zz(e,t){if(Eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qz(e,t){if(e==null)return{};var r=Wz(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hz(e){return e.value}function Vz(e,t){if(G.isValidElement(e))return G.cloneElement(e,t);if(typeof e=="function")return G.createElement(e,t);t.ref;var r=qz(t,Iz);return G.createElement(kv,r)}var Hw=1,di=function(e){function t(){var r;Rz(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Lz(this,t,[].concat(a)),_h(r,"lastBoundingBox",{width:-1,height:-1}),r}return Bz(t,e),Dz(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Hw||Math.abs(a.height-this.lastBoundingBox.height)>Hw)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Nn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Nn(Nn({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Nn(Nn({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return G.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Vz(i,Nn(Nn({},this.props),{},{payload:bP(d,u,Hz)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Nn(Nn({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&ue(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(T.PureComponent);_h(di,"displayName","Legend");_h(di,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Vw=Mc,Gz=Cv,Kz=sr,Gw=Vw?Vw.isConcatSpreadable:void 0;function Qz(e){return Kz(e)||Gz(e)||!!(Gw&&e&&e[Gw])}var Yz=Qz,Xz=lP,Jz=Yz;function jP(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=Jz),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?jP(l,t-1,r,n,a):Xz(a,l):n||(a[a.length]=l)}return a}var SP=jP;function Zz(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var e9=Zz,t9=e9,r9=t9(),n9=r9,a9=n9,i9=wh;function o9(e,t){return e&&a9(e,t,i9)}var NP=o9,s9=Rc;function l9(e,t){return function(r,n){if(r==null)return r;if(!s9(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var c9=l9,u9=NP,d9=c9,f9=d9(u9),Tv=f9,h9=Tv,p9=Rc;function m9(e,t){var r=-1,n=p9(e)?Array(e.length):[];return h9(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var kP=m9;function g9(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var y9=g9,Kw=cs;function v9(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=Kw(e),o=t!==void 0,l=t===null,c=t===t,u=Kw(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var x9=v9,b9=x9;function w9(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=b9(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var _9=w9,qp=gv,j9=yv,S9=Sn,N9=kP,k9=y9,P9=dP,C9=_9,A9=ys,O9=sr;function E9(e,t,r){t.length?t=qp(t,function(i){return O9(i)?function(o){return j9(o,i.length===1?i[0]:i)}:i}):t=[A9];var n=-1;t=qp(t,P9(S9));var a=N9(e,function(i,o,l){var c=qp(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return k9(a,function(i,o){return C9(i,o,r)})}var T9=E9;function $9(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var M9=$9,I9=M9,Qw=Math.max;function R9(e,t,r){return t=Qw(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=Qw(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),I9(e,this,l)}}var D9=R9;function L9(e){return function(){return e}}var U9=L9,F9=Ai,B9=function(){try{var e=F9(Object,"defineProperty");return e({},"",{}),e}catch{}}(),PP=B9,z9=U9,Yw=PP,q9=ys,W9=Yw?function(e,t){return Yw(e,"toString",{configurable:!0,enumerable:!1,value:z9(t),writable:!0})}:q9,H9=W9,V9=800,G9=16,K9=Date.now;function Q9(e){var t=0,r=0;return function(){var n=K9(),a=G9-(n-r);if(r=n,a>0){if(++t>=V9)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Y9=Q9,X9=H9,J9=Y9,Z9=J9(X9),eq=Z9,tq=ys,rq=D9,nq=eq;function aq(e,t){return nq(rq(e,t,tq),e+"")}var iq=aq,oq=fv,sq=Rc,lq=Av,cq=Ea;function uq(e,t,r){if(!cq(r))return!1;var n=typeof t;return(n=="number"?sq(r)&&lq(t,r.length):n=="string"&&t in r)?oq(r[t],e):!1}var jh=uq,dq=SP,fq=T9,hq=iq,Xw=jh,pq=hq(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Xw(e,t[0],t[1])?t=[]:r>2&&Xw(t[0],t[1],t[2])&&(t=[t[0]]),fq(e,dq(t,1),[])}),mq=pq;const $v=De(mq);function zl(e){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(e)}function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zg.apply(this,arguments)}function gq(e,t){return bq(e)||xq(e,t)||vq(e,t)||yq()}function yq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vq(e,t){if(e){if(typeof e=="string")return Jw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jw(e,t)}}function Jw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function bq(e){if(Array.isArray(e))return e}function Zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zw(Object(r),!0).forEach(function(n){wq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wq(e,t,r){return t=_q(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _q(e){var t=jq(e,"string");return zl(t)=="symbol"?t:t+""}function jq(e,t){if(zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sq(e){return Array.isArray(e)&&wt(e[0])&&wt(e[1])?e.join(" ~ "):e}var Nq=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,g=t.label,v=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,x=function(){if(d&&d.length){var B={padding:0,margin:0},U=(h?$v(d,h):d).map(function($,I){if($.type==="none")return null;var A=Wp({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},l),_=$.formatter||f||Sq,P=$.value,O=$.name,E=P,D=O;if(_&&E!=null&&D!=null){var F=_(P,O,$,I,d);if(Array.isArray(F)){var W=gq(F,2);E=W[0],D=W[1]}else E=F}return G.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:A},wt(D)?G.createElement("span",{className:"recharts-tooltip-item-name"},D):null,wt(D)?G.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,G.createElement("span",{className:"recharts-tooltip-item-value"},E),G.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return G.createElement("ul",{className:"recharts-tooltip-item-list",style:B},U)}return null},S=Wp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=Wp({margin:0},u),w=!ke(g),C=w?g:"",k=Ce("recharts-default-tooltip",p),N=Ce("recharts-tooltip-label",m);w&&v&&d!==void 0&&d!==null&&(C=v(g,d));var M=b?{role:"status","aria-live":"assertive"}:{};return G.createElement("div",zg({className:k,style:S},M),G.createElement("p",{className:N,style:j},G.isValidElement(C)?C:"".concat(C)),x())};function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}function pu(e,t,r){return t=kq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kq(e){var t=Pq(e,"string");return ql(t)=="symbol"?t:t+""}function Pq(e,t){if(ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Is="recharts-tooltip-wrapper",Cq={visibility:"hidden"};function Aq(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ce(Is,pu(pu(pu(pu({},"".concat(Is,"-right"),ue(r)&&t&&ue(t.x)&&r>=t.x),"".concat(Is,"-left"),ue(r)&&t&&ue(t.x)&&r<t.x),"".concat(Is,"-bottom"),ue(n)&&t&&ue(t.y)&&n>=t.y),"".concat(Is,"-top"),ue(n)&&t&&ue(t.y)&&n<t.y))}function e1(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&ue(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var m=f+l,g=c[n]+u;return m>g?Math.max(d,c[n]):Math.max(f,c[n])}function Oq(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Eq(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=e1({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=e1({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Oq({translateX:d,translateY:f,useTranslate3d:l})):u=Cq,{cssProperties:u,cssClasses:Aq({translateX:d,translateY:f,coordinate:r})}}function To(e){"@babel/helpers - typeof";return To=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},To(e)}function t1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t1(Object(r),!0).forEach(function(n){Wg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AP(n.key),n)}}function Mq(e,t,r){return t&&$q(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Iq(e,t,r){return t=Od(t),Rq(e,CP()?Reflect.construct(t,r||[],Od(e).constructor):t.apply(e,r))}function Rq(e,t){if(t&&(To(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dq(e)}function Dq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CP=function(){return!!e})()}function Od(e){return Od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Od(e)}function Lq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qg(e,t)}function qg(e,t){return qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qg(e,t)}function Wg(e,t,r){return t=AP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AP(e){var t=Uq(e,"string");return To(t)=="symbol"?t:t+""}function Uq(e,t){if(To(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(To(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n1=1,Fq=function(e){function t(){var r;Tq(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Iq(this,t,[].concat(a)),Wg(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Wg(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Lq(t,e),Mq(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>n1||Math.abs(n.height-this.state.lastBoundingBox.height)>n1)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,g=a.reverseDirection,v=a.useTranslate3d,y=a.viewBox,b=a.wrapperStyle,x=Eq({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),S=x.cssClasses,j=x.cssProperties,w=r1(r1({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return G.createElement("div",{tabIndex:-1,className:S,style:w,ref:function(k){n.wrapperNode=k}},u)}}])}(T.PureComponent),Bq=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},gn={isSsr:Bq(),get:function(t){return gn[t]},set:function(t,r){if(typeof t=="string")gn[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){gn[a]=t[a]})}}};function $o(e){"@babel/helpers - typeof";return $o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$o(e)}function a1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a1(Object(r),!0).forEach(function(n){Mv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EP(n.key),n)}}function Wq(e,t,r){return t&&qq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hq(e,t,r){return t=Ed(t),Vq(e,OP()?Reflect.construct(t,r||[],Ed(e).constructor):t.apply(e,r))}function Vq(e,t){if(t&&($o(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gq(e)}function Gq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OP=function(){return!!e})()}function Ed(e){return Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ed(e)}function Kq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hg(e,t)}function Hg(e,t){return Hg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hg(e,t)}function Mv(e,t,r){return t=EP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EP(e){var t=Qq(e,"string");return $o(t)=="symbol"?t:t+""}function Qq(e,t){if($o(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($o(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yq(e){return e.dataKey}function Xq(e,t){return G.isValidElement(e)?G.cloneElement(e,t):typeof e=="function"?G.createElement(e,t):G.createElement(Nq,t)}var Vr=function(e){function t(){return zq(this,t),Hq(this,t,arguments)}return Kq(t,e),Wq(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,g=a.payloadUniqBy,v=a.position,y=a.reverseDirection,b=a.useTranslate3d,x=a.viewBox,S=a.wrapperStyle,j=m??[];f&&j.length&&(j=bP(m.filter(function(C){return C.value!=null&&(C.hide!==!0||n.props.includeHidden)}),g,Yq));var w=j.length>0;return G.createElement(Fq,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:w,offset:p,position:v,reverseDirection:y,useTranslate3d:b,viewBox:x,wrapperStyle:S},Xq(u,i1(i1({},this.props),{},{payload:j})))}}])}(T.PureComponent);Mv(Vr,"displayName","Tooltip");Mv(Vr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!gn.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Jq=jn,Zq=function(){return Jq.Date.now()},eW=Zq,tW=/\s/;function rW(e){for(var t=e.length;t--&&tW.test(e.charAt(t)););return t}var nW=rW,aW=nW,iW=/^\s+/;function oW(e){return e&&e.slice(0,aW(e)+1).replace(iW,"")}var sW=oW,lW=sW,o1=Ea,cW=cs,s1=NaN,uW=/^[-+]0x[0-9a-f]+$/i,dW=/^0b[01]+$/i,fW=/^0o[0-7]+$/i,hW=parseInt;function pW(e){if(typeof e=="number")return e;if(cW(e))return s1;if(o1(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=o1(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=lW(e);var r=dW.test(e);return r||fW.test(e)?hW(e.slice(2),r?2:8):uW.test(e)?s1:+e}var TP=pW,mW=Ea,Hp=eW,l1=TP,gW="Expected a function",yW=Math.max,vW=Math.min;function xW(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(gW);t=l1(t)||0,mW(r)&&(d=!!r.leading,f="maxWait"in r,i=f?yW(l1(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(w){var C=n,k=a;return n=a=void 0,u=w,o=e.apply(k,C),o}function m(w){return u=w,l=setTimeout(y,t),d?p(w):o}function g(w){var C=w-c,k=w-u,N=t-C;return f?vW(N,i-k):N}function v(w){var C=w-c,k=w-u;return c===void 0||C>=t||C<0||f&&k>=i}function y(){var w=Hp();if(v(w))return b(w);l=setTimeout(y,g(w))}function b(w){return l=void 0,h&&n?p(w):(n=a=void 0,o)}function x(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function S(){return l===void 0?o:b(Hp())}function j(){var w=Hp(),C=v(w);if(n=arguments,a=this,c=w,C){if(l===void 0)return m(c);if(f)return clearTimeout(l),l=setTimeout(y,t),p(c)}return l===void 0&&(l=setTimeout(y,t)),o}return j.cancel=x,j.flush=S,j}var bW=xW,wW=bW,_W=Ea,jW="Expected a function";function SW(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(jW);return _W(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),wW(e,t,{leading:n,maxWait:t,trailing:a})}var NW=SW;const $P=De(NW);function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function c1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c1(Object(r),!0).forEach(function(n){kW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kW(e,t,r){return t=PW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PW(e){var t=CW(e,"string");return Wl(t)=="symbol"?t:t+""}function CW(e,t){if(Wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AW(e,t){return $W(e)||TW(e,t)||EW(e,t)||OW()}function OW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EW(e,t){if(e){if(typeof e=="string")return u1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u1(e,t)}}function u1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function $W(e){if(Array.isArray(e))return e}var d1=T.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,g=m===void 0?0:m,v=e.id,y=e.className,b=e.onResize,x=e.style,S=x===void 0?{}:x,j=T.useRef(null),w=T.useRef();w.current=b,T.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var C=T.useState({containerWidth:a.width,containerHeight:a.height}),k=AW(C,2),N=k[0],M=k[1],R=T.useCallback(function(U,$){M(function(I){var A=Math.round(U),_=Math.round($);return I.containerWidth===A&&I.containerHeight===_?I:{containerWidth:A,containerHeight:_}})},[]);T.useEffect(function(){var U=function(O){var E,D=O[0].contentRect,F=D.width,W=D.height;R(F,W),(E=w.current)===null||E===void 0||E.call(w,F,W)};g>0&&(U=$P(U,g,{trailing:!0,leading:!1}));var $=new ResizeObserver(U),I=j.current.getBoundingClientRect(),A=I.width,_=I.height;return R(A,_),$.observe(j.current),function(){$.disconnect()}},[R,g]);var B=T.useMemo(function(){var U=N.containerWidth,$=N.containerHeight;if(U<0||$<0)return null;tn(ni(o)||ni(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),tn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var I=ni(o)?U:o,A=ni(c)?$:c;r&&r>0&&(I?A=I/r:A&&(I=A*r),h&&A>h&&(A=h)),tn(I>0||A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,A,o,c,d,f,r);var _=!Array.isArray(p)&&Ln(p.type).endsWith("Chart");return G.Children.map(p,function(P){return G.isValidElement(P)?T.cloneElement(P,mu({width:I,height:A},_?{style:mu({height:"100%",width:"100%",maxHeight:A,maxWidth:I},P.props.style)}:{})):P})},[r,p,c,h,f,d,N,o]);return G.createElement("div",{id:v?"".concat(v):void 0,className:Ce("recharts-responsive-container",y),style:mu(mu({},S),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},B)}),Sh=function(t){return null};Sh.displayName="Cell";function Hl(e){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}function f1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f1(Object(r),!0).forEach(function(n){MW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MW(e,t,r){return t=IW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IW(e){var t=RW(e,"string");return Hl(t)=="symbol"?t:t+""}function RW(e,t){if(Hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fi={widthCache:{},cacheCount:0},DW=2e3,LW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},h1="recharts_measurement_span";function UW(e){var t=Vg({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var cl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||gn.isSsr)return{width:0,height:0};var n=UW(r),a=JSON.stringify({text:t,copyStyle:n});if(Fi.widthCache[a])return Fi.widthCache[a];try{var i=document.getElementById(h1);i||(i=document.createElement("span"),i.setAttribute("id",h1),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Vg(Vg({},LW),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Fi.widthCache[a]=c,++Fi.cacheCount>DW&&(Fi.cacheCount=0,Fi.widthCache={}),c}catch{return{width:0,height:0}}},FW=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function Td(e,t){return WW(e)||qW(e,t)||zW(e,t)||BW()}function BW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zW(e,t){if(e){if(typeof e=="string")return p1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p1(e,t)}}function p1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function WW(e){if(Array.isArray(e))return e}function HW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GW(n.key),n)}}function VW(e,t,r){return t&&m1(e.prototype,t),r&&m1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function GW(e){var t=KW(e,"string");return Vl(t)=="symbol"?t:t+""}function KW(e,t){if(Vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var g1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,y1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,YW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,MP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},XW=Object.keys(MP),ao="NaN";function JW(e,t){return e*MP[t]}var gu=function(){function e(t,r){HW(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!QW.test(r)&&(this.num=NaN,this.unit=""),XW.includes(r)&&(this.num=JW(t,r),this.unit="px")}return VW(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=YW.exec(r))!==null&&n!==void 0?n:[],i=Td(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function IP(e){if(e.includes(ao))return ao;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=g1.exec(t))!==null&&r!==void 0?r:[],a=Td(n,4),i=a[1],o=a[2],l=a[3],c=gu.parse(i??""),u=gu.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return ao;t=t.replace(g1,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=y1.exec(t))!==null&&f!==void 0?f:[],p=Td(h,4),m=p[1],g=p[2],v=p[3],y=gu.parse(m??""),b=gu.parse(v??""),x=g==="+"?y.add(b):y.subtract(b);if(x.isNaN())return ao;t=t.replace(y1,x.toString())}return t}var v1=/\(([^()]*)\)/;function ZW(e){for(var t=e;t.includes("(");){var r=v1.exec(t),n=Td(r,2),a=n[1];t=t.replace(v1,IP(a))}return t}function eH(e){var t=e.replace(/\s+/g,"");return t=ZW(t),t=IP(t),t}function tH(e){try{return eH(e)}catch{return ao}}function Vp(e){var t=tH(e.slice(5,-1));return t===ao?"":t}var rH=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],nH=["dx","dy","angle","className","breakAll"];function Gg(){return Gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gg.apply(this,arguments)}function x1(e,t){if(e==null)return{};var r=aH(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function b1(e,t){return lH(e)||sH(e,t)||oH(e,t)||iH()}function iH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oH(e,t){if(e){if(typeof e=="string")return w1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w1(e,t)}}function w1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function lH(e){if(Array.isArray(e))return e}var RP=/[ \f\n\r\t\v\u2028\u2029]+/,DP=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];ke(r)||(n?i=r.toString().split(""):i=r.toString().split(RP));var o=i.map(function(c){return{word:c,width:cl(c,a).width}}),l=n?0:cl("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},cH=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=ue(o),f=l,h=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce(function(A,_){var P=_.word,O=_.width,E=A[A.length-1];if(E&&(a==null||i||E.width+O+n<Number(a)))E.words.push(P),E.width+=O+n;else{var D={words:[P],width:O};A.push(D)}return A},[])},p=h(r),m=function(I){return I.reduce(function(A,_){return A.width>_.width?A:_})};if(!d)return p;for(var g="",v=function(I){var A=f.slice(0,I),_=DP({breakAll:u,style:c,children:A+g}).wordsWithComputedWidth,P=h(_),O=P.length>o||m(P).width>Number(a);return[O,P]},y=0,b=f.length-1,x=0,S;y<=b&&x<=f.length-1;){var j=Math.floor((y+b)/2),w=j-1,C=v(w),k=b1(C,2),N=k[0],M=k[1],R=v(j),B=b1(R,1),U=B[0];if(!N&&!U&&(y=j+1),N&&U&&(b=j-1),!N&&U){S=M;break}x++}return S||p},_1=function(t){var r=ke(t)?[]:t.toString().split(RP);return[{words:r}]},uH=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!gn.isSsr){var c,u,d=DP({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return _1(a);return cH({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return _1(a)},j1="#808080",wi=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,g=m===void 0?"end":m,v=t.fill,y=v===void 0?j1:v,b=x1(t,rH),x=T.useMemo(function(){return uH({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),S=b.dx,j=b.dy,w=b.angle,C=b.className,k=b.breakAll,N=x1(b,nH);if(!wt(n)||!wt(i))return null;var M=n+(ue(S)?S:0),R=i+(ue(j)?j:0),B;switch(g){case"start":B=Vp("calc(".concat(u,")"));break;case"middle":B=Vp("calc(".concat((x.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:B=Vp("calc(".concat(x.length-1," * -").concat(l,")"));break}var U=[];if(f){var $=x[0].width,I=b.width;U.push("scale(".concat((ue(I)?I/$:1)/$,")"))}return w&&U.push("rotate(".concat(w,", ").concat(M,", ").concat(R,")")),U.length&&(N.transform=U.join(" ")),G.createElement("text",Gg({},we(N,!0),{x:M,y:R,className:Ce("recharts-text",C),textAnchor:p,fill:y.includes("url")?j1:y}),x.map(function(A,_){var P=A.words.join(k?"":" ");return G.createElement("tspan",{x:M,dy:_===0?B:l,key:"".concat(P,"-").concat(_)},P)}))};function Sa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function dH(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Iv(e){let t,r,n;e.length!==2?(t=Sa,r=(l,c)=>Sa(e(l),c),n=(l,c)=>e(l)-c):(t=e===Sa||e===dH?e:fH,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function fH(){return 0}function LP(e){return e===null?NaN:+e}function*hH(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const pH=Iv(Sa),Dc=pH.right;Iv(LP).center;class S1 extends Map{constructor(t,r=yH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(N1(this,t))}has(t){return super.has(N1(this,t))}set(t,r){return super.set(mH(this,t),r)}delete(t){return super.delete(gH(this,t))}}function N1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function mH({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function gH({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function yH(e){return e!==null&&typeof e=="object"?e.valueOf():e}function vH(e=Sa){if(e===Sa)return UP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function UP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const xH=Math.sqrt(50),bH=Math.sqrt(10),wH=Math.sqrt(2);function $d(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=xH?10:i>=bH?5:i>=wH?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?$d(e,t,r*2):[l,c,u]}function Kg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?$d(t,e,r):$d(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function Qg(e,t,r){return t=+t,e=+e,r=+r,$d(e,t,r)[2]}function Yg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Qg(t,e,r):Qg(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function k1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function P1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function FP(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?UP:vH(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),m=Math.min(n,Math.floor(t+(c-u)*f/c+h));FP(e,t,p,m,a)}const i=e[t];let o=r,l=n;for(Rs(e,r,t),a(e[n],i)>0&&Rs(e,r,n);o<l;){for(Rs(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Rs(e,r,l):(++l,Rs(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Rs(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function _H(e,t,r){if(e=Float64Array.from(hH(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return P1(e);if(t>=1)return k1(e);var n,a=(n-1)*t,i=Math.floor(a),o=k1(FP(e,i).subarray(0,i+1)),l=P1(e.subarray(i+1));return o+(l-o)*(a-i)}}function jH(e,t,r=LP){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function SH(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Lr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Jn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Xg=Symbol("implicit");function Rv(){var e=new S1,t=[],r=[],n=Xg;function a(i){let o=e.get(i);if(o===void 0){if(n!==Xg)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new S1;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Rv(t,r).unknown(n)},Lr.apply(a,arguments),a}function Gl(){var e=Rv().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,m=p?a:n,g=p?n:a;i=(g-m)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),m+=(g-m-i*(h-c))*d,o=i*(1-c),l&&(m=Math.round(m),o=Math.round(o));var v=SH(h).map(function(y){return m+i*y});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Gl(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Lr.apply(f(),arguments)}function BP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return BP(t())},e}function ul(){return BP(Gl.apply(null,arguments).paddingInner(1))}function Dv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function zP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Lc(){}var Kl=.7,Md=1/Kl,vo="\\s*([+-]?\\d+)\\s*",Ql="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",NH=/^#([0-9a-f]{3,8})$/,kH=new RegExp(`^rgb\\(${vo},${vo},${vo}\\)$`),PH=new RegExp(`^rgb\\(${yn},${yn},${yn}\\)$`),CH=new RegExp(`^rgba\\(${vo},${vo},${vo},${Ql}\\)$`),AH=new RegExp(`^rgba\\(${yn},${yn},${yn},${Ql}\\)$`),OH=new RegExp(`^hsl\\(${Ql},${yn},${yn}\\)$`),EH=new RegExp(`^hsla\\(${Ql},${yn},${yn},${Ql}\\)$`),C1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dv(Lc,Yl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:A1,formatHex:A1,formatHex8:TH,formatHsl:$H,formatRgb:O1,toString:O1});function A1(){return this.rgb().formatHex()}function TH(){return this.rgb().formatHex8()}function $H(){return qP(this).formatHsl()}function O1(){return this.rgb().formatRgb()}function Yl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=NH.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?E1(t):r===3?new nr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?yu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?yu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=kH.exec(e))?new nr(t[1],t[2],t[3],1):(t=PH.exec(e))?new nr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=CH.exec(e))?yu(t[1],t[2],t[3],t[4]):(t=AH.exec(e))?yu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=OH.exec(e))?M1(t[1],t[2]/100,t[3]/100,1):(t=EH.exec(e))?M1(t[1],t[2]/100,t[3]/100,t[4]):C1.hasOwnProperty(e)?E1(C1[e]):e==="transparent"?new nr(NaN,NaN,NaN,0):null}function E1(e){return new nr(e>>16&255,e>>8&255,e&255,1)}function yu(e,t,r,n){return n<=0&&(e=t=r=NaN),new nr(e,t,r,n)}function MH(e){return e instanceof Lc||(e=Yl(e)),e?(e=e.rgb(),new nr(e.r,e.g,e.b,e.opacity)):new nr}function Jg(e,t,r,n){return arguments.length===1?MH(e):new nr(e,t,r,n??1)}function nr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Dv(nr,Jg,zP(Lc,{brighter(e){return e=e==null?Md:Math.pow(Md,e),new nr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Kl:Math.pow(Kl,e),new nr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new nr(fi(this.r),fi(this.g),fi(this.b),Id(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:T1,formatHex:T1,formatHex8:IH,formatRgb:$1,toString:$1}));function T1(){return`#${ai(this.r)}${ai(this.g)}${ai(this.b)}`}function IH(){return`#${ai(this.r)}${ai(this.g)}${ai(this.b)}${ai((isNaN(this.opacity)?1:this.opacity)*255)}`}function $1(){const e=Id(this.opacity);return`${e===1?"rgb(":"rgba("}${fi(this.r)}, ${fi(this.g)}, ${fi(this.b)}${e===1?")":`, ${e})`}`}function Id(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function fi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ai(e){return e=fi(e),(e<16?"0":"")+e.toString(16)}function M1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Xr(e,t,r,n)}function qP(e){if(e instanceof Xr)return new Xr(e.h,e.s,e.l,e.opacity);if(e instanceof Lc||(e=Yl(e)),!e)return new Xr;if(e instanceof Xr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Xr(o,l,c,e.opacity)}function RH(e,t,r,n){return arguments.length===1?qP(e):new Xr(e,t,r,n??1)}function Xr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Dv(Xr,RH,zP(Lc,{brighter(e){return e=e==null?Md:Math.pow(Md,e),new Xr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Kl:Math.pow(Kl,e),new Xr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new nr(Gp(e>=240?e-240:e+120,a,n),Gp(e,a,n),Gp(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Xr(I1(this.h),vu(this.s),vu(this.l),Id(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Id(this.opacity);return`${e===1?"hsl(":"hsla("}${I1(this.h)}, ${vu(this.s)*100}%, ${vu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function I1(e){return e=(e||0)%360,e<0?e+360:e}function vu(e){return Math.max(0,Math.min(1,e||0))}function Gp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Lv=e=>()=>e;function DH(e,t){return function(r){return e+r*t}}function LH(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function UH(e){return(e=+e)==1?WP:function(t,r){return r-t?LH(t,r,e):Lv(isNaN(t)?r:t)}}function WP(e,t){var r=t-e;return r?DH(e,r):Lv(isNaN(e)?t:e)}const R1=function e(t){var r=UH(t);function n(a,i){var o=r((a=Jg(a)).r,(i=Jg(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=WP(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function FH(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function BH(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function zH(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=vs(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function qH(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Rd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function WH(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=vs(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Zg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kp=new RegExp(Zg.source,"g");function HH(e){return function(){return e}}function VH(e){return function(t){return e(t)+""}}function GH(e,t){var r=Zg.lastIndex=Kp.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Zg.exec(e))&&(a=Kp.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Rd(n,a)})),r=Kp.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?VH(c[0].x):HH(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function vs(e,t){var r=typeof t,n;return t==null||r==="boolean"?Lv(t):(r==="number"?Rd:r==="string"?(n=Yl(t))?(t=n,R1):GH:t instanceof Yl?R1:t instanceof Date?qH:BH(t)?FH:Array.isArray(t)?zH:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?WH:Rd)(e,t)}function Uv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function KH(e,t){t===void 0&&(t=e,e=vs);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function QH(e){return function(){return e}}function Dd(e){return+e}var D1=[0,1];function Qt(e){return e}function ey(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:QH(isNaN(t)?NaN:.5)}function YH(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function XH(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=ey(a,n),i=r(o,i)):(n=ey(n,a),i=r(i,o)),function(l){return i(n(l))}}function JH(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=ey(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Dc(e,l,1,n)-1;return i[c](a[c](l))}}function Uc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Nh(){var e=D1,t=D1,r=vs,n,a,i,o=Qt,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Qt&&(o=YH(e[0],e[h-1])),l=h>2?JH:XH,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),Rd)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Dd),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Uv,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Qt,d()):o!==Qt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function Fv(){return Nh()(Qt,Qt)}function ZH(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ld(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Mo(e){return e=Ld(Math.abs(e)),e?e[1]:NaN}function eV(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function tV(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var rV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xl(e){if(!(t=rV.exec(e)))throw new Error("invalid format: "+e);var t;return new Bv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Xl.prototype=Bv.prototype;function Bv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Bv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function nV(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var HP;function aV(e,t){var r=Ld(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(HP=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Ld(e,Math.max(0,t+i-1))[0]}function L1(e,t){var r=Ld(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const U1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ZH,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>L1(e*100,t),r:L1,s:aV,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function F1(e){return e}var B1=Array.prototype.map,z1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function iV(e){var t=e.grouping===void 0||e.thousands===void 0?F1:eV(B1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?F1:tV(B1.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Xl(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,v=f.zero,y=f.width,b=f.comma,x=f.precision,S=f.trim,j=f.type;j==="n"?(b=!0,j="g"):U1[j]||(x===void 0&&(x=12),S=!0,j="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var w=g==="$"?r:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",C=g==="$"?n:/[%p]/.test(j)?o:"",k=U1[j],N=/[defgprs%]/.test(j);x=x===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function M(R){var B=w,U=C,$,I,A;if(j==="c")U=k(R)+U,R="";else{R=+R;var _=R<0||1/R<0;if(R=isNaN(R)?c:k(Math.abs(R),x),S&&(R=nV(R)),_&&+R==0&&m!=="+"&&(_=!1),B=(_?m==="("?m:l:m==="-"||m==="("?"":m)+B,U=(j==="s"?z1[8+HP/3]:"")+U+(_&&m==="("?")":""),N){for($=-1,I=R.length;++$<I;)if(A=R.charCodeAt($),48>A||A>57){U=(A===46?a+R.slice($+1):R.slice($))+U,R=R.slice(0,$);break}}}b&&!v&&(R=t(R,1/0));var P=B.length+R.length+U.length,O=P<y?new Array(y-P+1).join(h):"";switch(b&&v&&(R=t(O+R,O.length?y-U.length:1/0),O=""),p){case"<":R=B+R+U+O;break;case"=":R=B+O+R+U;break;case"^":R=O.slice(0,P=O.length>>1)+B+R+U+O.slice(P);break;default:R=O+B+R+U;break}return i(R)}return M.toString=function(){return f+""},M}function d(f,h){var p=u((f=Xl(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Mo(h)/3)))*3,g=Math.pow(10,-m),v=z1[8+m/3];return function(y){return p(g*y)+v}}return{format:u,formatPrefix:d}}var xu,zv,VP;oV({thousands:",",grouping:[3],currency:["$",""]});function oV(e){return xu=iV(e),zv=xu.format,VP=xu.formatPrefix,xu}function sV(e){return Math.max(0,-Mo(Math.abs(e)))}function lV(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Mo(t)/3)))*3-Mo(Math.abs(e)))}function cV(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Mo(t)-Mo(e))+1}function GP(e,t,r,n){var a=Yg(e,t,r),i;switch(n=Xl(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=lV(a,o))&&(n.precision=i),VP(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=cV(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=sV(a))&&(n.precision=i-(n.type==="%")*2);break}}return zv(n)}function Ta(e){var t=e.domain;return e.ticks=function(r){var n=t();return Kg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return GP(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=Qg(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Ud(){var e=Fv();return e.copy=function(){return Uc(e,Ud())},Lr.apply(e,arguments),Ta(e)}function KP(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Dd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return KP(e).unknown(t)},e=arguments.length?Array.from(e,Dd):[0,1],Ta(r)}function QP(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function q1(e){return Math.log(e)}function W1(e){return Math.exp(e)}function uV(e){return-Math.log(-e)}function dV(e){return-Math.exp(-e)}function fV(e){return isFinite(e)?+("1e"+e):e<0?0:e}function hV(e){return e===10?fV:e===Math.E?Math.exp:t=>Math.pow(e,t)}function pV(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function H1(e){return(t,r)=>-e(-t,r)}function qv(e){const t=e(q1,W1),r=t.domain;let n=10,a,i;function o(){return a=pV(n),i=hV(n),r()[0]<0?(a=H1(a),i=H1(i),e(uV,dV)):e(q1,W1),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),m,g;const v=l==null?10:+l;let y=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<n;++m)if(g=h<0?m/i(-h):m*i(h),!(g<u)){if(g>d)break;y.push(g)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(g=h>0?m/i(-h):m*i(h),!(g<u)){if(g>d)break;y.push(g)}y.length*2<v&&(y=Kg(u,d,v))}else y=Kg(h,p,Math.min(p-h,v)).map(i);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Xl(c)).precision==null&&(c.trim=!0),c=zv(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(QP(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function YP(){const e=qv(Nh()).domain([1,10]);return e.copy=()=>Uc(e,YP()).base(e.base()),Lr.apply(e,arguments),e}function V1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function G1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Wv(e){var t=1,r=e(V1(t),G1(t));return r.constant=function(n){return arguments.length?e(V1(t=+n),G1(t)):t},Ta(r)}function XP(){var e=Wv(Nh());return e.copy=function(){return Uc(e,XP()).constant(e.constant())},Lr.apply(e,arguments)}function K1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function mV(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function gV(e){return e<0?-e*e:e*e}function Hv(e){var t=e(Qt,Qt),r=1;function n(){return r===1?e(Qt,Qt):r===.5?e(mV,gV):e(K1(r),K1(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ta(t)}function Vv(){var e=Hv(Nh());return e.copy=function(){return Uc(e,Vv()).exponent(e.exponent())},Lr.apply(e,arguments),e}function yV(){return Vv.apply(null,arguments).exponent(.5)}function Q1(e){return Math.sign(e)*e*e}function vV(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function JP(){var e=Fv(),t=[0,1],r=!1,n;function a(i){var o=vV(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(Q1(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Dd)).map(Q1)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return JP(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Lr.apply(a,arguments),Ta(a)}function ZP(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=jH(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Dc(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Sa),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return ZP().domain(e).range(t).unknown(n)},Lr.apply(i,arguments)}function eC(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Dc(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return eC().domain([e,t]).range(a).unknown(i)},Lr.apply(Ta(o),arguments)}function tC(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Dc(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return tC().domain(e).range(t).unknown(r)},Lr.apply(a,arguments)}const Qp=new Date,Yp=new Date;function jt(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>jt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Qp.setTime(+i),Yp.setTime(+o),e(Qp),e(Yp),Math.floor(r(Qp,Yp))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Fd=jt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Fd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?jt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Fd);Fd.range;const $n=1e3,Or=$n*60,Mn=Or*60,Vn=Mn*24,Gv=Vn*7,Y1=Vn*30,Xp=Vn*365,ii=jt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*$n)},(e,t)=>(t-e)/$n,e=>e.getUTCSeconds());ii.range;const Kv=jt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$n)},(e,t)=>{e.setTime(+e+t*Or)},(e,t)=>(t-e)/Or,e=>e.getMinutes());Kv.range;const Qv=jt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Or)},(e,t)=>(t-e)/Or,e=>e.getUTCMinutes());Qv.range;const Yv=jt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$n-e.getMinutes()*Or)},(e,t)=>{e.setTime(+e+t*Mn)},(e,t)=>(t-e)/Mn,e=>e.getHours());Yv.range;const Xv=jt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Mn)},(e,t)=>(t-e)/Mn,e=>e.getUTCHours());Xv.range;const Fc=jt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Or)/Vn,e=>e.getDate()-1);Fc.range;const kh=jt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vn,e=>e.getUTCDate()-1);kh.range;const rC=jt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vn,e=>Math.floor(e/Vn));rC.range;function Oi(e){return jt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Or)/Gv)}const Ph=Oi(0),Bd=Oi(1),xV=Oi(2),bV=Oi(3),Io=Oi(4),wV=Oi(5),_V=Oi(6);Ph.range;Bd.range;xV.range;bV.range;Io.range;wV.range;_V.range;function Ei(e){return jt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Gv)}const Ch=Ei(0),zd=Ei(1),jV=Ei(2),SV=Ei(3),Ro=Ei(4),NV=Ei(5),kV=Ei(6);Ch.range;zd.range;jV.range;SV.range;Ro.range;NV.range;kV.range;const Jv=jt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Jv.range;const Zv=jt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Zv.range;const Gn=jt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Gn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Gn.range;const Kn=jt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Kn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Kn.range;function nC(e,t,r,n,a,i){const o=[[ii,1,$n],[ii,5,5*$n],[ii,15,15*$n],[ii,30,30*$n],[i,1,Or],[i,5,5*Or],[i,15,15*Or],[i,30,30*Or],[a,1,Mn],[a,3,3*Mn],[a,6,6*Mn],[a,12,12*Mn],[n,1,Vn],[n,2,2*Vn],[r,1,Gv],[t,1,Y1],[t,3,3*Y1],[e,1,Xp]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),m=p?p.range(u,+d+1):[];return h?m.reverse():m}function c(u,d,f){const h=Math.abs(d-u)/f,p=Iv(([,,v])=>v).right(o,h);if(p===o.length)return e.every(Yg(u/Xp,d/Xp,f));if(p===0)return Fd.every(Math.max(Yg(u,d,f),1));const[m,g]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return m.every(g)}return[l,c]}const[PV,CV]=nC(Kn,Zv,Ch,rC,Xv,Qv),[AV,OV]=nC(Gn,Jv,Ph,Fc,Yv,Kv);function Jp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Zp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ds(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function EV(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Ls(a),d=Us(a),f=Ls(i),h=Us(i),p=Ls(o),m=Us(o),g=Ls(l),v=Us(l),y=Ls(c),b=Us(c),x={a:_,A:P,b:O,B:E,c:null,d:r_,e:r_,f:eG,g:uG,G:fG,H:XV,I:JV,j:ZV,L:aC,m:tG,M:rG,p:D,q:F,Q:i_,s:o_,S:nG,u:aG,U:iG,V:oG,w:sG,W:lG,x:null,X:null,y:cG,Y:dG,Z:hG,"%":a_},S={a:W,A:z,b:K,B:Y,c:null,d:n_,e:n_,f:yG,g:PG,G:AG,H:pG,I:mG,j:gG,L:oC,m:vG,M:xG,p:J,q:Z,Q:i_,s:o_,S:bG,u:wG,U:_G,V:jG,w:SG,W:NG,x:null,X:null,y:kG,Y:CG,Z:OG,"%":a_},j={a:M,A:R,b:B,B:U,c:$,d:e_,e:e_,f:GV,g:Z1,G:J1,H:t_,I:t_,j:qV,L:VV,m:zV,M:WV,p:N,q:BV,Q:QV,s:YV,S:HV,u:RV,U:DV,V:LV,w:IV,W:UV,x:I,X:A,y:Z1,Y:J1,Z:FV,"%":KV};x.x=w(r,x),x.X=w(n,x),x.c=w(t,x),S.x=w(r,S),S.X=w(n,S),S.c=w(t,S);function w(X,ne){return function(te){var L=[],V=-1,q=0,Q=X.length,H,ae,se;for(te instanceof Date||(te=new Date(+te));++V<Q;)X.charCodeAt(V)===37&&(L.push(X.slice(q,V)),(ae=X1[H=X.charAt(++V)])!=null?H=X.charAt(++V):ae=H==="e"?" ":"0",(se=ne[H])&&(H=se(te,ae)),L.push(H),q=V+1);return L.push(X.slice(q,V)),L.join("")}}function C(X,ne){return function(te){var L=Ds(1900,void 0,1),V=k(L,X,te+="",0),q,Q;if(V!=te.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if(ne&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(q=Zp(Ds(L.y,0,1)),Q=q.getUTCDay(),q=Q>4||Q===0?zd.ceil(q):zd(q),q=kh.offset(q,(L.V-1)*7),L.y=q.getUTCFullYear(),L.m=q.getUTCMonth(),L.d=q.getUTCDate()+(L.w+6)%7):(q=Jp(Ds(L.y,0,1)),Q=q.getDay(),q=Q>4||Q===0?Bd.ceil(q):Bd(q),q=Fc.offset(q,(L.V-1)*7),L.y=q.getFullYear(),L.m=q.getMonth(),L.d=q.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),Q="Z"in L?Zp(Ds(L.y,0,1)).getUTCDay():Jp(Ds(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(Q+5)%7:L.w+L.U*7-(Q+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,Zp(L)):Jp(L)}}function k(X,ne,te,L){for(var V=0,q=ne.length,Q=te.length,H,ae;V<q;){if(L>=Q)return-1;if(H=ne.charCodeAt(V++),H===37){if(H=ne.charAt(V++),ae=j[H in X1?ne.charAt(V++):H],!ae||(L=ae(X,te,L))<0)return-1}else if(H!=te.charCodeAt(L++))return-1}return L}function N(X,ne,te){var L=u.exec(ne.slice(te));return L?(X.p=d.get(L[0].toLowerCase()),te+L[0].length):-1}function M(X,ne,te){var L=p.exec(ne.slice(te));return L?(X.w=m.get(L[0].toLowerCase()),te+L[0].length):-1}function R(X,ne,te){var L=f.exec(ne.slice(te));return L?(X.w=h.get(L[0].toLowerCase()),te+L[0].length):-1}function B(X,ne,te){var L=y.exec(ne.slice(te));return L?(X.m=b.get(L[0].toLowerCase()),te+L[0].length):-1}function U(X,ne,te){var L=g.exec(ne.slice(te));return L?(X.m=v.get(L[0].toLowerCase()),te+L[0].length):-1}function $(X,ne,te){return k(X,t,ne,te)}function I(X,ne,te){return k(X,r,ne,te)}function A(X,ne,te){return k(X,n,ne,te)}function _(X){return o[X.getDay()]}function P(X){return i[X.getDay()]}function O(X){return c[X.getMonth()]}function E(X){return l[X.getMonth()]}function D(X){return a[+(X.getHours()>=12)]}function F(X){return 1+~~(X.getMonth()/3)}function W(X){return o[X.getUTCDay()]}function z(X){return i[X.getUTCDay()]}function K(X){return c[X.getUTCMonth()]}function Y(X){return l[X.getUTCMonth()]}function J(X){return a[+(X.getUTCHours()>=12)]}function Z(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var ne=w(X+="",x);return ne.toString=function(){return X},ne},parse:function(X){var ne=C(X+="",!1);return ne.toString=function(){return X},ne},utcFormat:function(X){var ne=w(X+="",S);return ne.toString=function(){return X},ne},utcParse:function(X){var ne=C(X+="",!0);return ne.toString=function(){return X},ne}}}var X1={"-":"",_:" ",0:"0"},Ct=/^\s*\d+/,TV=/^%/,$V=/[\\^$*+?|[\]().{}]/g;function Me(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function MV(e){return e.replace($V,"\\$&")}function Ls(e){return new RegExp("^(?:"+e.map(MV).join("|")+")","i")}function Us(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function IV(e,t,r){var n=Ct.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function RV(e,t,r){var n=Ct.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function DV(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function LV(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function UV(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function J1(e,t,r){var n=Ct.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Z1(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function FV(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function BV(e,t,r){var n=Ct.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function zV(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function e_(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function qV(e,t,r){var n=Ct.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function t_(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function WV(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function HV(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function VV(e,t,r){var n=Ct.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function GV(e,t,r){var n=Ct.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function KV(e,t,r){var n=TV.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function QV(e,t,r){var n=Ct.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function YV(e,t,r){var n=Ct.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function r_(e,t){return Me(e.getDate(),t,2)}function XV(e,t){return Me(e.getHours(),t,2)}function JV(e,t){return Me(e.getHours()%12||12,t,2)}function ZV(e,t){return Me(1+Fc.count(Gn(e),e),t,3)}function aC(e,t){return Me(e.getMilliseconds(),t,3)}function eG(e,t){return aC(e,t)+"000"}function tG(e,t){return Me(e.getMonth()+1,t,2)}function rG(e,t){return Me(e.getMinutes(),t,2)}function nG(e,t){return Me(e.getSeconds(),t,2)}function aG(e){var t=e.getDay();return t===0?7:t}function iG(e,t){return Me(Ph.count(Gn(e)-1,e),t,2)}function iC(e){var t=e.getDay();return t>=4||t===0?Io(e):Io.ceil(e)}function oG(e,t){return e=iC(e),Me(Io.count(Gn(e),e)+(Gn(e).getDay()===4),t,2)}function sG(e){return e.getDay()}function lG(e,t){return Me(Bd.count(Gn(e)-1,e),t,2)}function cG(e,t){return Me(e.getFullYear()%100,t,2)}function uG(e,t){return e=iC(e),Me(e.getFullYear()%100,t,2)}function dG(e,t){return Me(e.getFullYear()%1e4,t,4)}function fG(e,t){var r=e.getDay();return e=r>=4||r===0?Io(e):Io.ceil(e),Me(e.getFullYear()%1e4,t,4)}function hG(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Me(t/60|0,"0",2)+Me(t%60,"0",2)}function n_(e,t){return Me(e.getUTCDate(),t,2)}function pG(e,t){return Me(e.getUTCHours(),t,2)}function mG(e,t){return Me(e.getUTCHours()%12||12,t,2)}function gG(e,t){return Me(1+kh.count(Kn(e),e),t,3)}function oC(e,t){return Me(e.getUTCMilliseconds(),t,3)}function yG(e,t){return oC(e,t)+"000"}function vG(e,t){return Me(e.getUTCMonth()+1,t,2)}function xG(e,t){return Me(e.getUTCMinutes(),t,2)}function bG(e,t){return Me(e.getUTCSeconds(),t,2)}function wG(e){var t=e.getUTCDay();return t===0?7:t}function _G(e,t){return Me(Ch.count(Kn(e)-1,e),t,2)}function sC(e){var t=e.getUTCDay();return t>=4||t===0?Ro(e):Ro.ceil(e)}function jG(e,t){return e=sC(e),Me(Ro.count(Kn(e),e)+(Kn(e).getUTCDay()===4),t,2)}function SG(e){return e.getUTCDay()}function NG(e,t){return Me(zd.count(Kn(e)-1,e),t,2)}function kG(e,t){return Me(e.getUTCFullYear()%100,t,2)}function PG(e,t){return e=sC(e),Me(e.getUTCFullYear()%100,t,2)}function CG(e,t){return Me(e.getUTCFullYear()%1e4,t,4)}function AG(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ro(e):Ro.ceil(e),Me(e.getUTCFullYear()%1e4,t,4)}function OG(){return"+0000"}function a_(){return"%"}function i_(e){return+e}function o_(e){return Math.floor(+e/1e3)}var Bi,lC,cC;EG({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function EG(e){return Bi=EV(e),lC=Bi.format,Bi.parse,cC=Bi.utcFormat,Bi.utcParse,Bi}function TG(e){return new Date(e)}function $G(e){return e instanceof Date?+e:+new Date(+e)}function ex(e,t,r,n,a,i,o,l,c,u){var d=Fv(),f=d.invert,h=d.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),b=u("%b %d"),x=u("%B"),S=u("%Y");function j(w){return(c(w)<w?p:l(w)<w?m:o(w)<w?g:i(w)<w?v:n(w)<w?a(w)<w?y:b:r(w)<w?x:S)(w)}return d.invert=function(w){return new Date(f(w))},d.domain=function(w){return arguments.length?h(Array.from(w,$G)):h().map(TG)},d.ticks=function(w){var C=h();return e(C[0],C[C.length-1],w??10)},d.tickFormat=function(w,C){return C==null?j:u(C)},d.nice=function(w){var C=h();return(!w||typeof w.range!="function")&&(w=t(C[0],C[C.length-1],w??10)),w?h(QP(C,w)):d},d.copy=function(){return Uc(d,ex(e,t,r,n,a,i,o,l,c,u))},d}function MG(){return Lr.apply(ex(AV,OV,Gn,Jv,Ph,Fc,Yv,Kv,ii,lC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function IG(){return Lr.apply(ex(PV,CV,Kn,Zv,Ch,kh,Xv,Qv,ii,cC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ah(){var e=0,t=1,r,n,a,i,o=Qt,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,o=f(p,m),u):[o(0),o(1)]}}return u.range=d(vs),u.rangeRound=d(Uv),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function $a(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function uC(){var e=Ta(Ah()(Qt));return e.copy=function(){return $a(e,uC())},Jn.apply(e,arguments)}function dC(){var e=qv(Ah()).domain([1,10]);return e.copy=function(){return $a(e,dC()).base(e.base())},Jn.apply(e,arguments)}function fC(){var e=Wv(Ah());return e.copy=function(){return $a(e,fC()).constant(e.constant())},Jn.apply(e,arguments)}function tx(){var e=Hv(Ah());return e.copy=function(){return $a(e,tx()).exponent(e.exponent())},Jn.apply(e,arguments)}function RG(){return tx.apply(null,arguments).exponent(.5)}function hC(){var e=[],t=Qt;function r(n){if(n!=null&&!isNaN(n=+n))return t((Dc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Sa),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>_H(e,i/n))},r.copy=function(){return hC(t).domain(e)},Jn.apply(r,arguments)}function Oh(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Qt,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-i)*(n*g<n*i?l:c),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(v){var y,b,x;return arguments.length?([y,b,x]=v,u=KH(g,[y,b,x]),p):[u(0),u(.5),u(1)]}}return p.range=m(vs),p.rangeRound=m(Uv),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,a=g(e),i=g(t),o=g(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function pC(){var e=Ta(Oh()(Qt));return e.copy=function(){return $a(e,pC())},Jn.apply(e,arguments)}function mC(){var e=qv(Oh()).domain([.1,1,10]);return e.copy=function(){return $a(e,mC()).base(e.base())},Jn.apply(e,arguments)}function gC(){var e=Wv(Oh());return e.copy=function(){return $a(e,gC()).constant(e.constant())},Jn.apply(e,arguments)}function rx(){var e=Hv(Oh());return e.copy=function(){return $a(e,rx()).exponent(e.exponent())},Jn.apply(e,arguments)}function DG(){return rx.apply(null,arguments).exponent(.5)}const s_=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Gl,scaleDiverging:pC,scaleDivergingLog:mC,scaleDivergingPow:rx,scaleDivergingSqrt:DG,scaleDivergingSymlog:gC,scaleIdentity:KP,scaleImplicit:Xg,scaleLinear:Ud,scaleLog:YP,scaleOrdinal:Rv,scalePoint:ul,scalePow:Vv,scaleQuantile:ZP,scaleQuantize:eC,scaleRadial:JP,scaleSequential:uC,scaleSequentialLog:dC,scaleSequentialPow:tx,scaleSequentialQuantile:hC,scaleSequentialSqrt:RG,scaleSequentialSymlog:fC,scaleSqrt:yV,scaleSymlog:XP,scaleThreshold:tC,scaleTime:MG,scaleUtc:IG,tickFormat:GP},Symbol.toStringTag,{value:"Module"}));var LG=cs;function UG(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!LG(o):r(o,l)))var l=o,c=i}return c}var Eh=UG;function FG(e,t){return e>t}var yC=FG,BG=Eh,zG=yC,qG=ys;function WG(e){return e&&e.length?BG(e,qG,zG):void 0}var HG=WG;const Th=De(HG);function VG(e,t){return e<t}var vC=VG,GG=Eh,KG=vC,QG=ys;function YG(e){return e&&e.length?GG(e,QG,KG):void 0}var XG=YG;const $h=De(XG);var JG=gv,ZG=Sn,eK=kP,tK=sr;function rK(e,t){var r=tK(e)?JG:eK;return r(e,ZG(t))}var nK=rK,aK=SP,iK=nK;function oK(e,t){return aK(iK(e,t),1)}var sK=oK;const lK=De(sK);var cK=Ev;function uK(e,t){return cK(e,t)}var dK=uK;const Bc=De(dK);var xs=1e9,fK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ax,tt=!0,Ir="[DecimalError] ",hi=Ir+"Invalid argument: ",nx=Ir+"Exponent out of range: ",bs=Math.floor,Qa=Math.pow,hK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,pr,Nt=1e7,Je=7,xC=9007199254740991,qd=bs(xC/Je),me={};me.absoluteValue=me.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};me.comparedTo=me.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};me.decimalPlaces=me.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Je;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};me.dividedBy=me.div=function(e){return Un(this,new this.constructor(e))};me.dividedToIntegerBy=me.idiv=function(e){var t=this,r=t.constructor;return qe(Un(t,new r(e),0,1),r.precision)};me.equals=me.eq=function(e){return!this.cmp(e)};me.exponent=function(){return ft(this)};me.greaterThan=me.gt=function(e){return this.cmp(e)>0};me.greaterThanOrEqualTo=me.gte=function(e){return this.cmp(e)>=0};me.isInteger=me.isint=function(){return this.e>this.d.length-2};me.isNegative=me.isneg=function(){return this.s<0};me.isPositive=me.ispos=function(){return this.s>0};me.isZero=function(){return this.s===0};me.lessThan=me.lt=function(e){return this.cmp(e)<0};me.lessThanOrEqualTo=me.lte=function(e){return this.cmp(e)<1};me.logarithm=me.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(pr))throw Error(Ir+"NaN");if(r.s<1)throw Error(Ir+(r.s?"NaN":"-Infinity"));return r.eq(pr)?new n(0):(tt=!1,t=Un(Jl(r,i),Jl(e,i),i),tt=!0,qe(t,a))};me.minus=me.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_C(t,e):bC(t,(e.s=-e.s,e))};me.modulo=me.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ir+"NaN");return r.s?(tt=!1,t=Un(r,e,0,1).times(e),tt=!0,r.minus(t)):qe(new n(r),a)};me.naturalExponential=me.exp=function(){return wC(this)};me.naturalLogarithm=me.ln=function(){return Jl(this)};me.negated=me.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};me.plus=me.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?bC(t,e):_C(t,(e.s=-e.s,e))};me.precision=me.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(hi+e);if(t=ft(a)+1,n=a.d.length-1,r=n*Je+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};me.squareRoot=me.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ir+"NaN")}for(e=ft(l),tt=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=hn(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=bs((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Un(l,i,o+2)).times(.5),hn(i.d).slice(0,o)===(t=hn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(qe(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return tt=!0,qe(n,r)};me.times=me.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*h[a-n-1]+t,i[a--]=l%Nt|0,t=l/Nt|0;i[a]=(i[a]+t)%Nt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,tt?qe(e,f.precision):e};me.toDecimalPlaces=me.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(bn(e,0,xs),t===void 0?t=n.rounding:bn(t,0,8),qe(r,e+ft(r)+1,t))};me.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=_i(n,!0):(bn(e,0,xs),t===void 0?t=a.rounding:bn(t,0,8),n=qe(new a(n),e+1,t),r=_i(n,!0,e+1)),r};me.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?_i(a):(bn(e,0,xs),t===void 0?t=i.rounding:bn(t,0,8),n=qe(new i(a),e+ft(a)+1,t),r=_i(n.abs(),!1,e+ft(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};me.toInteger=me.toint=function(){var e=this,t=e.constructor;return qe(new t(e),ft(e)+1,t.rounding)};me.toNumber=function(){return+this};me.toPower=me.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(pr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ir+"Infinity");return l}if(l.eq(pr))return l;if(n=c.precision,e.eq(pr))return qe(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=xC){for(a=new c(pr),t=Math.ceil(n/Je+4),tt=!1;r%2&&(a=a.times(l),c_(a.d,t)),r=bs(r/2),r!==0;)l=l.times(l),c_(l.d,t);return tt=!0,e.s<0?new c(pr).div(a):qe(a,n)}}else if(i<0)throw Error(Ir+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,tt=!1,a=e.times(Jl(l,n+u)),tt=!0,a=wC(a),a.s=i,a};me.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ft(a),n=_i(a,r<=i.toExpNeg||r>=i.toExpPos)):(bn(e,1,xs),t===void 0?t=i.rounding:bn(t,0,8),a=qe(new i(a),e,t),r=ft(a),n=_i(a,e<=r||r<=i.toExpNeg,e)),n};me.toSignificantDigits=me.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(bn(e,1,xs),t===void 0?t=n.rounding:bn(t,0,8)),qe(new n(r),e,t)};me.toString=me.valueOf=me.val=me.toJSON=me[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ft(e),r=e.constructor;return _i(e,t<=r.toExpNeg||t>=r.toExpPos)};function bC(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),tt?qe(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Je),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Nt|0,c[i]%=Nt;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,tt?qe(t,f):t}function bn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(hi+e)}function hn(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Je-n.length,r&&(i+=sa(r)),i+=n;o=e[t],n=o+"",r=Je-n.length,r&&(i+=sa(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Un=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Nt|0,o=i/Nt|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Nt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,p,m,g,v,y,b,x,S,j,w,C,k,N=n.constructor,M=n.s==a.s?1:-1,R=n.d,B=a.d;if(!n.s)return new N(n);if(!a.s)throw Error(Ir+"Division by zero");for(c=n.e-a.e,C=B.length,j=R.length,p=new N(M),m=p.d=[],u=0;B[u]==(R[u]||0);)++u;if(B[u]>(R[u]||0)&&--c,i==null?b=i=N.precision:o?b=i+(ft(n)-ft(a))+1:b=i,b<0)return new N(0);if(b=b/Je+2|0,u=0,C==1)for(d=0,B=B[0],b++;(u<j||d)&&b--;u++)x=d*Nt+(R[u]||0),m[u]=x/B|0,d=x%B|0;else{for(d=Nt/(B[0]+1)|0,d>1&&(B=e(B,d),R=e(R,d),C=B.length,j=R.length),S=C,g=R.slice(0,C),v=g.length;v<C;)g[v++]=0;k=B.slice(),k.unshift(0),w=B[0],B[1]>=Nt/2&&++w;do d=0,l=t(B,g,C,v),l<0?(y=g[0],C!=v&&(y=y*Nt+(g[1]||0)),d=y/w|0,d>1?(d>=Nt&&(d=Nt-1),f=e(B,d),h=f.length,v=g.length,l=t(f,g,h,v),l==1&&(d--,r(f,C<h?k:B,h))):(d==0&&(l=d=1),f=B.slice()),h=f.length,h<v&&f.unshift(0),r(g,f,v),l==-1&&(v=g.length,l=t(B,g,C,v),l<1&&(d++,r(g,C<v?k:B,v))),v=g.length):l===0&&(d++,g=[0]),m[u++]=d,l&&g[0]?g[v++]=R[S]||0:(g=[R[S]],v=1);while((S++<j||g[0]!==void 0)&&b--)}return m[0]||m.shift(),p.e=c,qe(p,o?i+ft(p)+1:i)}}();function wC(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(ft(e)>16)throw Error(nx+ft(e));if(!e.s)return new d(pr);for(t==null?(tt=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Qa(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(pr),d.precision=l;;){if(a=qe(a.times(e),l),r=r.times(++c),o=i.plus(Un(a,r,l)),hn(o.d).slice(0,l)===hn(i.d).slice(0,l)){for(;u--;)i=qe(i.times(i),l);return d.precision=f,t==null?(tt=!0,qe(i,f)):i}i=o}}function ft(e){for(var t=e.e*Je,r=e.d[0];r>=10;r/=10)t++;return t}function em(e,t,r){if(t>e.LN10.sd())throw tt=!0,r&&(e.precision=r),Error(Ir+"LN10 precision limit exceeded");return qe(new e(e.LN10),t)}function sa(e){for(var t="";e--;)t+="0";return t}function Jl(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,p=e,m=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(Ir+(p.s?"NaN":"-Infinity"));if(p.eq(pr))return new g(0);if(t==null?(tt=!1,u=v):u=t,p.eq(10))return t==null&&(tt=!0),em(g,u);if(u+=h,g.precision=u,r=hn(m),n=r.charAt(0),i=ft(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=hn(p.d),n=r.charAt(0),f++;i=ft(p),n>1?(p=new g("0."+r),i++):p=new g(n+"."+r.slice(1))}else return c=em(g,u+2,v).times(i+""),p=Jl(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=v,t==null?(tt=!0,qe(p,v)):p;for(l=o=p=Un(p.minus(pr),p.plus(pr),u),d=qe(p.times(p),u),a=3;;){if(o=qe(o.times(d),u),c=l.plus(Un(o,new g(a),u)),hn(c.d).slice(0,u)===hn(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(em(g,u+2,v).times(i+""))),l=Un(l,new g(f),u),g.precision=v,t==null?(tt=!0,qe(l,v)):l;l=c,a+=2}}function l_(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=bs(r/Je),e.d=[],n=(r+1)%Je,r<0&&(n+=Je),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Je;n<a;)e.d.push(+t.slice(n,n+=Je));t=t.slice(n),n=Je-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),tt&&(e.e>qd||e.e<-qd))throw Error(nx+r)}else e.s=0,e.e=0,e.d=[0];return e}function qe(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Je,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Je),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Je,a=n-Je+o}if(r!==void 0&&(i=Qa(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Qa(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=ft(e),f.length=1,t=t-i-1,f[0]=Qa(10,(Je-t%Je)%Je),e.e=bs(-t/Je)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Qa(10,Je-n),f[d]=a>0?(u/Qa(10,o-a)%Qa(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Nt&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Nt)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(tt&&(e.e>qd||e.e<-qd))throw Error(nx+ft(e));return e}function _C(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),tt?qe(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/Je),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Nt-1;--c[i],c[a]+=Nt}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,tt?qe(t,p):t):new h(0)}function _i(e,t,r){var n,a=ft(e),i=hn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+sa(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+sa(-a-1)+i,r&&(n=r-o)>0&&(i+=sa(n))):a>=o?(i+=sa(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+sa(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=sa(n))),e.s<0?"-"+i:i}function c_(e,t){if(e.length>t)return e.length=t,!0}function jC(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(hi+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return l_(o,i.toString())}else if(typeof i!="string")throw Error(hi+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,hK.test(i))l_(o,i);else throw Error(hi+i)}if(a.prototype=me,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=jC,a.config=a.set=pK,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function pK(e){if(!e||typeof e!="object")throw Error(Ir+"Object expected");var t,r,n,a=["precision",1,xs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(bs(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(hi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(hi+r+": "+n);return this}var ax=jC(fK);pr=new ax(1);const Be=ax;function mK(e){return xK(e)||vK(e)||yK(e)||gK()}function gK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yK(e,t){if(e){if(typeof e=="string")return ty(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ty(e,t)}}function vK(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function xK(e){if(Array.isArray(e))return ty(e)}function ty(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var bK=function(t){return t},SC={"@@functional/placeholder":!0},NC=function(t){return t===SC},u_=function(t){return function r(){return arguments.length===0||arguments.length===1&&NC(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},wK=function e(t,r){return t===1?r:u_(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==SC}).length;return o>=t?r.apply(void 0,a):e(t-o,u_(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return NC(f)?c.shift():f});return r.apply(void 0,mK(d).concat(c))}))})},Mh=function(t){return wK(t.length,t)},ry=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},_K=Mh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),jK=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return bK;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},ny=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},kC=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function SK(e){var t;return e===0?t=1:t=Math.floor(new Be(e).abs().log(10).toNumber())+1,t}function NK(e,t,r){for(var n=new Be(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var kK=Mh(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),PK=Mh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),CK=Mh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Ih={rangeStep:NK,getDigitCount:SK,interpolateNumber:kK,uninterpolateNumber:PK,uninterpolateTruncation:CK};function ay(e){return EK(e)||OK(e)||PC(e)||AK()}function AK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OK(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function EK(e){if(Array.isArray(e))return iy(e)}function Zl(e,t){return MK(e)||$K(e,t)||PC(e,t)||TK()}function TK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PC(e,t){if(e){if(typeof e=="string")return iy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iy(e,t)}}function iy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $K(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function MK(e){if(Array.isArray(e))return e}function CC(e){var t=Zl(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function AC(e,t,r){if(e.lte(0))return new Be(0);var n=Ih.getDigitCount(e.toNumber()),a=new Be(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new Be(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Be(Math.ceil(c))}function IK(e,t,r){var n=1,a=new Be(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Be(10).pow(Ih.getDigitCount(e)-1),a=new Be(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Be(Math.floor(e)))}else e===0?a=new Be(Math.floor((t-1)/2)):r||(a=new Be(Math.floor(e)));var o=Math.floor((t-1)/2),l=jK(_K(function(c){return a.add(new Be(c-o).mul(n)).toNumber()}),ry);return l(0,t)}function OC(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Be(0),tickMin:new Be(0),tickMax:new Be(0)};var i=AC(new Be(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Be(0):(o=new Be(e).add(t).div(2),o=o.sub(new Be(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Be(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?OC(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Be(l).mul(i)),tickMax:o.add(new Be(c).mul(i))})}function RK(e){var t=Zl(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=CC([r,n]),c=Zl(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(ay(ry(0,a-1).map(function(){return 1/0}))):[].concat(ay(ry(0,a-1).map(function(){return-1/0})),[d]);return r>n?ny(f):f}if(u===d)return IK(u,a,i);var h=OC(u,d,o,i),p=h.step,m=h.tickMin,g=h.tickMax,v=Ih.rangeStep(m,g.add(new Be(.1).mul(p)),p);return r>n?ny(v):v}function DK(e,t){var r=Zl(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=CC([n,a]),l=Zl(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=AC(new Be(u).sub(c).div(d-1),i,0),h=[].concat(ay(Ih.rangeStep(new Be(c),new Be(u).sub(new Be(.99).mul(f)),f)),[u]);return n>a?ny(h):h}var LK=kC(RK),UK=kC(DK),FK="Invariant failed";function ji(e,t){throw new Error(FK)}var BK=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Do(e){"@babel/helpers - typeof";return Do=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Do(e)}function Wd(){return Wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wd.apply(this,arguments)}function zK(e,t){return VK(e)||HK(e,t)||WK(e,t)||qK()}function qK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WK(e,t){if(e){if(typeof e=="string")return d_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d_(e,t)}}function d_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function VK(e){if(Array.isArray(e))return e}function GK(e,t){if(e==null)return{};var r=KK(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function QK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$C(n.key),n)}}function XK(e,t,r){return t&&YK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JK(e,t,r){return t=Hd(t),ZK(e,EC()?Reflect.construct(t,r||[],Hd(e).constructor):t.apply(e,r))}function ZK(e,t){if(t&&(Do(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eQ(e)}function eQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EC=function(){return!!e})()}function Hd(e){return Hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hd(e)}function tQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oy(e,t)}function oy(e,t){return oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oy(e,t)}function TC(e,t,r){return t=$C(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $C(e){var t=rQ(e,"string");return Do(t)=="symbol"?t:t+""}function rQ(e,t){if(Do(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Do(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zc=function(e){function t(){return QK(this,t),JK(this,t,arguments)}return tQ(t,e),XK(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=GK(n,BK),p=we(h,!1);this.props.direction==="x"&&d.type!=="number"&&ji();var m=c.map(function(g){var v=u(g,l),y=v.x,b=v.y,x=v.value,S=v.errorVal;if(!S)return null;var j=[],w,C;if(Array.isArray(S)){var k=zK(S,2);w=k[0],C=k[1]}else w=C=S;if(i==="vertical"){var N=d.scale,M=b+a,R=M+o,B=M-o,U=N(x-w),$=N(x+C);j.push({x1:$,y1:R,x2:$,y2:B}),j.push({x1:U,y1:M,x2:$,y2:M}),j.push({x1:U,y1:R,x2:U,y2:B})}else if(i==="horizontal"){var I=f.scale,A=y+a,_=A-o,P=A+o,O=I(x-w),E=I(x+C);j.push({x1:_,y1:E,x2:P,y2:E}),j.push({x1:A,y1:O,x2:A,y2:E}),j.push({x1:_,y1:O,x2:P,y2:O})}return G.createElement($e,Wd({className:"recharts-errorBar",key:"bar-".concat(j.map(function(D){return"".concat(D.x1,"-").concat(D.x2,"-").concat(D.y1,"-").concat(D.y2)}))},p),j.map(function(D){return G.createElement("line",Wd({},D,{key:"line-".concat(D.x1,"-").concat(D.x2,"-").concat(D.y1,"-").concat(D.y2)}))}))});return G.createElement($e,{className:"recharts-errorBars"},m)}}])}(G.Component);TC(zc,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});TC(zc,"displayName","ErrorBar");function ec(e){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(e)}function f_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(r),!0).forEach(function(n){nQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nQ(e,t,r){return t=aQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aQ(e){var t=iQ(e,"string");return ec(t)=="symbol"?t:t+""}function iQ(e,t){if(ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MC=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=fr(r,di);if(!o)return null;var l=di.defaultProps,c=l!==void 0?Ua(Ua({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Ua(Ua({},h),f.props):{},m=p.dataKey,g=p.name,v=p.legendType,y=p.hide;return{inactive:y,dataKey:m,type:c.iconType||v||"square",color:ix(f),value:g||m,payload:p}}),Ua(Ua(Ua({},c),di.getWithHeight(o,a)),{},{payload:u,item:o})};function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function h_(e){return cQ(e)||lQ(e)||sQ(e)||oQ()}function oQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sQ(e,t){if(e){if(typeof e=="string")return sy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sy(e,t)}}function lQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cQ(e){if(Array.isArray(e))return sy(e)}function sy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p_(Object(r),!0).forEach(function(n){xo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xo(e,t,r){return t=uQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uQ(e){var t=dQ(e,"string");return tc(t)=="symbol"?t:t+""}function dQ(e,t){if(tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xt(e,t,r){return ke(e)||ke(t)?r:wt(t)?yr(e,t,r):Ne(t)?t(e):r}function dl(e,t,r,n){var a=lK(e,function(l){return xt(l,t)});if(r==="number"){var i=a.filter(function(l){return ue(l)||parseFloat(l)});return i.length?[$h(i),Th(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!ke(l)}):a;return o.map(function(l){return wt(l)||l instanceof Date?l:""})}var fQ=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Gt(f-d)!==Gt(h-f)){var m=[];if(Gt(h-f)===Gt(c[1]-c[0])){p=h;var g=f+c[1]-c[0];m[0]=Math.min(g,(g+d)/2),m[1]=Math.max(g,(g+d)/2)}else{p=d;var v=h+c[1]-c[0];m[0]=Math.min(f,(v+f)/2),m[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>y[0]&&t<=y[1]||t>=m[0]&&t<=m[1]){o=a[u].index;break}}else{var b=Math.min(d,h),x=Math.max(d,h);if(t>(b+f)/2&&t<=(x+f)/2){o=a[u].index;break}}}else for(var S=0;S<l;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},ix=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?lt(lt({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},hQ=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],g=m.items,v=m.cateAxisId,y=g.filter(function(C){return Ln(C.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,x=b!==void 0?lt(lt({},b),y[0].props):y[0].props,S=x.barSize,j=x[v];o[j]||(o[j]=[]);var w=ke(S)?r:S;o[j].push({item:y[0],stackList:y.slice(1),barSize:ke(w)?void 0:Kt(w,n,0)})}}return o},pQ=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Kt(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/c,m=o.reduce(function(S,j){return S+j.barSize||0},0);m+=(c-1)*u,m>=a&&(m-=(c-1)*u,u=0),m>=a&&p>0&&(h=!0,p*=.9,m=c*p);var g=(a-m)/2>>0,v={offset:g-u,size:0};d=o.reduce(function(S,j){var w={item:j.item,position:{offset:v.offset+v.size+u,size:h?p:j.barSize}},C=[].concat(h_(S),[w]);return v=C[C.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){C.push({item:k,position:v})}),C},f)}else{var y=Kt(n,a,0,!0);a-2*y-(c-1)*u<=0&&(u=0);var b=(a-2*y-(c-1)*u)/c;b>1&&(b>>=0);var x=l===+l?Math.min(b,l):b;d=o.reduce(function(S,j,w){var C=[].concat(h_(S),[{item:j.item,position:{offset:y+(b+u)*w+(b-x)/2,size:x}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){C.push({item:k,position:C[C.length-1].position})}),C},f)}return d},mQ=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=MC({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&ue(t[p]))return lt(lt({},t),{},xo({},p,t[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&ue(t[m]))return lt(lt({},t),{},xo({},m,t[m]+(h||0)))}return t},gQ=function(t,r,n){return ke(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},IC=function(t,r,n,a,i){var o=r.props.children,l=vr(o,zc).filter(function(u){return gQ(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=xt(d,n);if(ke(f))return u;var h=Array.isArray(f)?[$h(f),Th(f)]:[f,f],p=c.reduce(function(m,g){var v=xt(d,g,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,m[0]),Math.max(b,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},yQ=function(t,r,n,a,i){var o=r.map(function(l){return IC(t,l,n,i,a)}).filter(function(l){return!ke(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},RC=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&IC(t,c,u,a)||dl(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},DC=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},LC=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},In=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Gt(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Ic(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},tm=new WeakMap,bu=function(t,r){if(typeof r!="function")return t;tm.has(t)||tm.set(t,new WeakMap);var n=tm.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},UC=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Gl(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Ud(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ul(),realScaleType:"point"}:i==="category"?{scale:Gl(),realScaleType:"band"}:{scale:Ud(),realScaleType:"linear"};if(xi(a)){var c="scale".concat(yh(a));return{scale:(s_[c]||ul)(),realScaleType:s_[c]?c:"point"}}return Ne(a)?{scale:a}:{scale:ul(),realScaleType:"point"}},m_=1e-4,FC=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-m_,o=Math.max(a[0],a[1])+m_,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},vQ=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},xQ=function(t,r){if(!r||r.length!==2||!ue(r[0])||!ue(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!ue(t[0])||t[0]<n)&&(i[0]=n),(!ue(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},bQ=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Ic(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},wQ=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=Ic(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},_Q={sign:bQ,expand:BL,none:Ao,silhouette:zL,wiggle:qL,positive:wQ},jQ=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=_Q[n],o=FL().keys(a).value(function(l,c){return+xt(l,c,0)}).order(Tg).offset(i);return o(t)},SQ=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?lt(lt({},h.type.defaultProps),h.props):h.props,g=m.stackId,v=m.hide;if(v)return f;var y=m[n],b=f[y]||{hasStack:!1,stackGroups:{}};if(wt(g)){var x=b.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};x.items.push(h),b.hasStack=!0,b.stackGroups[g]=x}else b.stackGroups[ps("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return lt(lt({},f),{},xo({},y,b))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var y=p.stackGroups[v];return lt(lt({},g),{},xo({},v,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:jQ(t,y.items,i)}))},m)}return lt(lt({},f),{},xo({},h,p))},d)},BC=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=LK(u,i,l);return t.domain([$h(d),Th(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=UK(f,i,l);return{niceTicks:h}}return null};function g_(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ke(a[t.dataKey])){var l=vd(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=xt(a,ke(o)?t.dataKey:o);return ke(c)?null:t.scale(c)}var y_=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=xt(o,r.dataKey,r.domain[l]);return ke(c)?null:r.scale(c)-i/2+a},NQ=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},kQ=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?lt(lt({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(wt(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},PQ=function(t){return t.reduce(function(r,n){return[$h(n.concat([r[0]]).filter(ue)),Th(n.concat([r[1]]).filter(ue))]},[1/0,-1/0])},zC=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=PQ(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},v_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,x_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ly=function(t,r,n){if(Ne(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(ue(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(v_.test(t[0])){var i=+v_.exec(t[0])[1];a[0]=r[0]-i}else Ne(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(ue(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(x_.test(t[1])){var o=+x_.exec(t[1])[1];a[1]=r[1]+o}else Ne(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Vd=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=$v(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},b_=function(t,r,n){return!t||!t.length||Bc(t,yr(n,"type.defaultProps.domain"))?r:t},qC=function(t,r){var n=t.type.defaultProps?lt(lt({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return lt(lt({},we(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:ix(t),value:xt(r,a),type:c,payload:r,chartType:u,hide:d})};function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function w_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w_(Object(r),!0).forEach(function(n){WC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WC(e,t,r){return t=CQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CQ(e){var t=AQ(e,"string");return rc(t)=="symbol"?t:t+""}function AQ(e,t){if(rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OQ(e,t){return MQ(e)||$Q(e,t)||TQ(e,t)||EQ()}function EQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TQ(e,t){if(e){if(typeof e=="string")return __(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return __(e,t)}}function __(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $Q(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function MQ(e){if(Array.isArray(e))return e}var Gd=Math.PI/180,IQ=function(t){return t*180/Math.PI},Qe=function(t,r,n,a){return{x:t+Math.cos(-Gd*a)*n,y:r+Math.sin(-Gd*a)*n}},HC=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},RQ=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Kt(t.cx,o,o/2),f=Kt(t.cy,l,l/2),h=HC(o,l,n),p=Kt(t.innerRadius,h,0),m=Kt(t.outerRadius,h,h*.8),g=Object.keys(r);return g.reduce(function(v,y){var b=r[y],x=b.domain,S=b.reversed,j;if(ke(b.range))a==="angleAxis"?j=[c,u]:a==="radiusAxis"&&(j=[p,m]),S&&(j=[j[1],j[0]]);else{j=b.range;var w=j,C=OQ(w,2);c=C[0],u=C[1]}var k=UC(b,i),N=k.realScaleType,M=k.scale;M.domain(x).range(j),FC(M);var R=BC(M,An(An({},b),{},{realScaleType:N})),B=An(An(An({},b),R),{},{range:j,radius:m,realScaleType:N,scale:M,cx:d,cy:f,innerRadius:p,outerRadius:m,startAngle:c,endAngle:u});return An(An({},v),{},WC({},y,B))},{})},DQ=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},LQ=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=DQ({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:IQ(u),angleInRadian:u}},UQ=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},FQ=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},j_=function(t,r){var n=t.x,a=t.y,i=LQ({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=UQ(r),f=d.startAngle,h=d.endAngle,p=l,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?An(An({},r),{},{radius:o,angle:FQ(p,r)}):null},VC=function(t){return!T.isValidElement(t)&&!Ne(t)&&typeof t!="boolean"?t.className:""};function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}var BQ=["offset"];function zQ(e){return VQ(e)||HQ(e)||WQ(e)||qQ()}function qQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WQ(e,t){if(e){if(typeof e=="string")return cy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cy(e,t)}}function HQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VQ(e){if(Array.isArray(e))return cy(e)}function cy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GQ(e,t){if(e==null)return{};var r=KQ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function S_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(r),!0).forEach(function(n){QQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QQ(e,t,r){return t=YQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YQ(e){var t=XQ(e,"string");return nc(t)=="symbol"?t:t+""}function XQ(e,t){if(nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ac(){return ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ac.apply(this,arguments)}var JQ=function(t){var r=t.value,n=t.formatter,a=ke(t.children)?r:t.children;return Ne(n)?n(a):a},ZQ=function(t,r){var n=Gt(r-t),a=Math.min(Math.abs(r-t),360);return n*a},eY=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,m=c.endAngle,g=c.clockWise,v=(f+h)/2,y=ZQ(p,m),b=y>=0?1:-1,x,S;a==="insideStart"?(x=p+b*o,S=g):a==="insideEnd"?(x=m-b*o,S=!g):a==="end"&&(x=m+b*o,S=g),S=y<=0?S:!S;var j=Qe(u,d,v,x),w=Qe(u,d,v,x+(S?1:-1)*359),C="M".concat(j.x,",").concat(j.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(w.x,",").concat(w.y),k=ke(t.id)?ps("recharts-radial-line-"):t.id;return G.createElement("text",ac({},n,{dominantBaseline:"central",className:Ce("recharts-radial-bar-label",l)}),G.createElement("defs",null,G.createElement("path",{id:k,d:C})),G.createElement("textPath",{xlinkHref:"#".concat(k)},r))},tY=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=Qe(o,l,u+n,h),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,y=Qe(o,l,v,h),b=y.x,x=y.y;return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},rY=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",m=f>0?"start":"end",g=u>=0?1:-1,v=g*a,y=g>0?"end":"start",b=g>0?"start":"end";if(i==="top"){var x={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return pt(pt({},x),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var S={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:m};return pt(pt({},S),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var j={x:l-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return pt(pt({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(i==="right"){var w={x:l+u+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return pt(pt({},w),n?{width:Math.max(n.x+n.width-w.x,0),height:d}:{})}var C=n?{width:u,height:d}:{};return i==="insideLeft"?pt({x:l+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},C):i==="insideRight"?pt({x:l+u-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},C):i==="insideTop"?pt({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:m},C):i==="insideBottom"?pt({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},C):i==="insideTopLeft"?pt({x:l+v,y:c+h,textAnchor:b,verticalAnchor:m},C):i==="insideTopRight"?pt({x:l+u-v,y:c+h,textAnchor:y,verticalAnchor:m},C):i==="insideBottomLeft"?pt({x:l+v,y:c+d-h,textAnchor:b,verticalAnchor:p},C):i==="insideBottomRight"?pt({x:l+u-v,y:c+d-h,textAnchor:y,verticalAnchor:p},C):us(i)&&(ue(i.x)||ni(i.x))&&(ue(i.y)||ni(i.y))?pt({x:l+Kt(i.x,u),y:c+Kt(i.y,d),textAnchor:"end",verticalAnchor:"end"},C):pt({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},nY=function(t){return"cx"in t&&ue(t.cx)};function vt(e){var t=e.offset,r=t===void 0?5:t,n=GQ(e,BQ),a=pt({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||ke(l)&&ke(c)&&!T.isValidElement(u)&&!Ne(u))return null;if(T.isValidElement(u))return T.cloneElement(u,a);var p;if(Ne(u)){if(p=T.createElement(u,a),T.isValidElement(p))return p}else p=JQ(a);var m=nY(i),g=we(a,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return eY(a,p,g);var v=m?tY(a):rY(a);return G.createElement(wi,ac({className:Ce("recharts-label",f)},g,v,{breakAll:h}),p)}vt.displayName="Label";var GC=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,m=t.left,g=t.width,v=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(ue(g)&&ue(v)){if(ue(f)&&ue(h))return{x:f,y:h,width:g,height:v};if(ue(p)&&ue(m))return{x:p,y:m,width:g,height:v}}return ue(f)&&ue(h)?{x:f,y:h,width:0,height:0}:ue(r)&&ue(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:y}:t.viewBox?t.viewBox:{}},aY=function(t,r){return t?t===!0?G.createElement(vt,{key:"label-implicit",viewBox:r}):wt(t)?G.createElement(vt,{key:"label-implicit",viewBox:r,value:t}):T.isValidElement(t)?t.type===vt?T.cloneElement(t,{key:"label-implicit",viewBox:r}):G.createElement(vt,{key:"label-implicit",content:t,viewBox:r}):Ne(t)?G.createElement(vt,{key:"label-implicit",content:t,viewBox:r}):us(t)?G.createElement(vt,ac({viewBox:r},t,{key:"label-implicit"})):null:null},iY=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=GC(t),o=vr(a,vt).map(function(c,u){return T.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=aY(t.label,r||i);return[l].concat(zQ(o))};vt.parseViewBox=GC;vt.renderCallByParent=iY;function oY(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var sY=oY;const lY=De(sY);function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}var cY=["valueAccessor"],uY=["data","dataKey","clockWise","id","textBreakAll"];function dY(e){return mY(e)||pY(e)||hY(e)||fY()}function fY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hY(e,t){if(e){if(typeof e=="string")return uy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uy(e,t)}}function pY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mY(e){if(Array.isArray(e))return uy(e)}function uy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kd(){return Kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kd.apply(this,arguments)}function N_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function k_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(r),!0).forEach(function(n){gY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gY(e,t,r){return t=yY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yY(e){var t=vY(e,"string");return ic(t)=="symbol"?t:t+""}function vY(e,t){if(ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P_(e,t){if(e==null)return{};var r=xY(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var bY=function(t){return Array.isArray(t.value)?lY(t.value):t.value};function Fn(e){var t=e.valueAccessor,r=t===void 0?bY:t,n=P_(e,cY),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=P_(n,uY);return!a||!a.length?null:G.createElement($e,{className:"recharts-label-list"},a.map(function(d,f){var h=ke(i)?r(d,f):xt(d&&d.payload,i),p=ke(l)?{}:{id:"".concat(l,"-").concat(f)};return G.createElement(vt,Kd({},we(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:vt.parseViewBox(ke(o)?d:k_(k_({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Fn.displayName="LabelList";function wY(e,t){return e?e===!0?G.createElement(Fn,{key:"labelList-implicit",data:t}):G.isValidElement(e)||Ne(e)?G.createElement(Fn,{key:"labelList-implicit",data:t,content:e}):us(e)?G.createElement(Fn,Kd({data:t},e,{key:"labelList-implicit"})):null:null}function _Y(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=vr(n,Fn).map(function(o,l){return T.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=wY(e.label,t);return[i].concat(dY(a))}Fn.renderCallByParent=_Y;function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dy.apply(this,arguments)}function C_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(r),!0).forEach(function(n){jY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jY(e,t,r){return t=SY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SY(e){var t=NY(e,"string");return oc(t)=="symbol"?t:t+""}function NY(e,t){if(oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kY=function(t,r){var n=Gt(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},wu=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/Gd,h=u?i:i+o*f,p=Qe(r,n,d,h),m=Qe(r,n,a,h),g=u?i-o*f:i,v=Qe(r,n,d*Math.cos(f*Gd),g);return{center:p,circleTangency:m,lineTangency:v,theta:f}},KC=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=kY(o,l),u=o+c,d=Qe(r,n,i,o),f=Qe(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Qe(r,n,a,o),m=Qe(r,n,a,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},PY=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Gt(d-u),h=wu({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,m=h.lineTangency,g=h.theta,v=wu({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),y=v.circleTangency,b=v.lineTangency,x=v.theta,S=c?Math.abs(u-d):Math.abs(u-d)-g-x;if(S<0)return l?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):KC({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var j="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var w=wu({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=w.circleTangency,k=w.lineTangency,N=w.theta,M=wu({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),R=M.circleTangency,B=M.lineTangency,U=M.theta,$=c?Math.abs(u-d):Math.abs(u-d)-N-U;if($<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(B.x,",").concat(B.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,").concat(+($>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},CY={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},QC=function(t){var r=A_(A_({},CY),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=Ce("recharts-sector",h),m=o-i,g=Kt(l,m,0,!0),v;return g>0&&Math.abs(d-f)<360?v=PY({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=KC({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),G.createElement("path",dy({},we(r,!0),{className:p,d:v,role:"img"}))};function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fy.apply(this,arguments)}function O_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O_(Object(r),!0).forEach(function(n){AY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AY(e,t,r){return t=OY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OY(e){var t=EY(e,"string");return sc(t)=="symbol"?t:t+""}function EY(e,t){if(sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T_={curveBasisClosed:AL,curveBasisOpen:OL,curveBasis:CL,curveBumpX:pL,curveBumpY:mL,curveLinearClosed:EL,curveLinear:xh,curveMonotoneX:TL,curveMonotoneY:$L,curveNatural:ML,curveStep:IL,curveStepAfter:DL,curveStepBefore:RL},_u=function(t){return t.x===+t.x&&t.y===+t.y},Fs=function(t){return t.x},Bs=function(t){return t.y},TY=function(t,r){if(Ne(t))return t;var n="curve".concat(yh(t));return(n==="curveMonotone"||n==="curveBump")&&r?T_["".concat(n).concat(r==="vertical"?"Y":"X")]:T_[n]||xh},$Y=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=TY(n,l),f=u?i.filter(function(g){return _u(g)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(g){return _u(g)}):o,m=f.map(function(g,v){return E_(E_({},g),{},{base:p[v]})});return l==="vertical"?h=fu().y(Bs).x1(Fs).x0(function(g){return g.base.x}):h=fu().x(Fs).y1(Bs).y0(function(g){return g.base.y}),h.defined(_u).curve(d),h(m)}return l==="vertical"&&ue(o)?h=fu().y(Bs).x1(Fs).x0(o):ue(o)?h=fu().x(Fs).y1(Bs).y0(o):h=qk().x(Fs).y(Bs),h.defined(_u).curve(d),h(f)},Qd=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?$Y(t):a;return T.createElement("path",fy({},we(t,!1),xd(t),{className:Ce("recharts-curve",r),d:o,ref:i}))},YC={exports:{}},MY="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",IY=MY,RY=IY;function XC(){}function JC(){}JC.resetWarningCache=XC;var DY=function(){function e(n,a,i,o,l,c){if(c!==RY){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:JC,resetWarningCache:XC};return r.PropTypes=r,r};YC.exports=DY();var LY=YC.exports;const Re=De(LY);var UY=Object.getOwnPropertyNames,FY=Object.getOwnPropertySymbols,BY=Object.prototype.hasOwnProperty;function $_(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function ju(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function zY(e){return e!=null?e[Symbol.toStringTag]:void 0}function M_(e){return UY(e).concat(FY(e))}var qY=Object.hasOwn||function(e,t){return BY.call(e,t)};function Ti(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var WY="__v",HY="__o",VY="_owner",I_=Object.getOwnPropertyDescriptor,R_=Object.keys;function GY(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function KY(e,t){return Ti(e.getTime(),t.getTime())}function QY(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function YY(e,t){return e===t}function D_(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var XY=Ti;function JY(e,t,r){var n=R_(e),a=n.length;if(R_(t).length!==a)return!1;for(;a-- >0;)if(!ZC(e,t,r,n[a]))return!1;return!0}function zs(e,t,r){var n=M_(e),a=n.length;if(M_(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!ZC(e,t,r,i)||(o=I_(e,i),l=I_(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function ZY(e,t){return Ti(e.valueOf(),t.valueOf())}function eX(e,t){return e.source===t.source&&e.flags===t.flags}function L_(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function tX(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function rX(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function ZC(e,t,r,n){return(n===VY||n===HY||n===WY)&&(e.$$typeof||t.$$typeof)?!0:qY(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var nX="[object Arguments]",aX="[object Boolean]",iX="[object Date]",oX="[object Error]",sX="[object Map]",lX="[object Number]",cX="[object Object]",uX="[object RegExp]",dX="[object Set]",fX="[object String]",hX="[object URL]",pX=Array.isArray,U_=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,F_=Object.assign,mX=Object.prototype.toString.call.bind(Object.prototype.toString);function gX(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual,p=e.unknownTagComparators;return function(g,v,y){if(g===v)return!0;if(g==null||v==null)return!1;var b=typeof g;if(b!==typeof v)return!1;if(b!=="object")return b==="number"?o(g,v,y):b==="function"?a(g,v,y):!1;var x=g.constructor;if(x!==v.constructor)return!1;if(x===Object)return l(g,v,y);if(pX(g))return t(g,v,y);if(U_!=null&&U_(g))return f(g,v,y);if(x===Date)return r(g,v,y);if(x===RegExp)return u(g,v,y);if(x===Map)return i(g,v,y);if(x===Set)return d(g,v,y);var S=mX(g);if(S===iX)return r(g,v,y);if(S===uX)return u(g,v,y);if(S===sX)return i(g,v,y);if(S===dX)return d(g,v,y);if(S===cX)return typeof g.then!="function"&&typeof v.then!="function"&&l(g,v,y);if(S===hX)return h(g,v,y);if(S===oX)return n(g,v,y);if(S===nX)return l(g,v,y);if(S===aX||S===lX||S===fX)return c(g,v,y);if(p){var j=p[S];if(!j){var w=zY(g);w&&(j=p[w])}if(j)return j(g,v,y)}return!1}}function yX(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?zs:GY,areDatesEqual:KY,areErrorsEqual:QY,areFunctionsEqual:YY,areMapsEqual:n?$_(D_,zs):D_,areNumbersEqual:XY,areObjectsEqual:n?zs:JY,arePrimitiveWrappersEqual:ZY,areRegExpsEqual:eX,areSetsEqual:n?$_(L_,zs):L_,areTypedArraysEqual:n?zs:tX,areUrlsEqual:rX,unknownTagComparators:void 0};if(r&&(a=F_({},a,r(a))),t){var i=ju(a.areArraysEqual),o=ju(a.areMapsEqual),l=ju(a.areObjectsEqual),c=ju(a.areSetsEqual);a=F_({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function vX(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function xX(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var bX=Ma();Ma({strict:!0});Ma({circular:!0});Ma({circular:!0,strict:!0});Ma({createInternalComparator:function(){return Ti}});Ma({strict:!0,createInternalComparator:function(){return Ti}});Ma({circular:!0,createInternalComparator:function(){return Ti}});Ma({circular:!0,createInternalComparator:function(){return Ti},strict:!0});function Ma(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=yX(e),c=gX(l),u=n?n(c):vX(c);return xX({circular:r,comparator:c,createState:a,equals:u,strict:o})}function wX(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function B_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):wX(a)};requestAnimationFrame(n)}function hy(e){"@babel/helpers - typeof";return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hy(e)}function _X(e){return kX(e)||NX(e)||SX(e)||jX()}function jX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SX(e,t){if(e){if(typeof e=="string")return z_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z_(e,t)}}function z_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kX(e){if(Array.isArray(e))return e}function PX(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=_X(o),c=l[0],u=l.slice(1);if(typeof c=="number"){B_(a.bind(null,u),c);return}a(c),B_(a.bind(null,u));return}hy(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}function q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function W_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q_(Object(r),!0).forEach(function(n){eA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eA(e,t,r){return t=CX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CX(e){var t=AX(e,"string");return lc(t)==="symbol"?t:String(t)}function AX(e,t){if(lc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OX=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},EX=function(t){return t},TX=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},fl=function(t,r){return Object.keys(r).reduce(function(n,a){return W_(W_({},n),{},eA({},a,t(a,r[a])))},{})},H_=function(t,r,n){return t.map(function(a){return"".concat(TX(a)," ").concat(r,"ms ").concat(n)}).join(",")};function $X(e,t){return RX(e)||IX(e,t)||tA(e,t)||MX()}function MX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function RX(e){if(Array.isArray(e))return e}function DX(e){return FX(e)||UX(e)||tA(e)||LX()}function LX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tA(e,t){if(e){if(typeof e=="string")return py(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return py(e,t)}}function UX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FX(e){if(Array.isArray(e))return py(e)}function py(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Yd=1e-4,rA=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},nA=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},V_=function(t,r){return function(n){var a=rA(t,r);return nA(a,n)}},BX=function(t,r){return function(n){var a=rA(t,r),i=[].concat(DX(a.map(function(o,l){return o*l}).slice(1)),[0]);return nA(i,n)}},G_=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=$X(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=V_(a,o),h=V_(i,l),p=BX(a,o),m=function(y){return y>1?1:y<0?0:y},g=function(y){for(var b=y>1?1:y,x=b,S=0;S<8;++S){var j=f(x)-b,w=p(x);if(Math.abs(j-b)<Yd||w<Yd)return h(x);x=m(x-j/w)}return h(x)};return g.isStepper=!1,g},zX=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,m=h*i,g=h+(p-m)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<Yd&&Math.abs(g)<Yd?[f,0]:[v,g]};return c.isStepper=!0,c.dt=l,c},qX=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return G_(a);case"spring":return zX();default:if(a.split("(")[0]==="cubic-bezier")return G_(a)}return typeof a=="function"?a:null};function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function K_(e){return VX(e)||HX(e)||aA(e)||WX()}function WX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VX(e){if(Array.isArray(e))return gy(e)}function Q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(r),!0).forEach(function(n){my(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function my(e,t,r){return t=GX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GX(e){var t=KX(e,"string");return cc(t)==="symbol"?t:String(t)}function KX(e,t){if(cc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QX(e,t){return JX(e)||XX(e,t)||aA(e,t)||YX()}function YX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aA(e,t){if(e){if(typeof e=="string")return gy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gy(e,t)}}function gy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function JX(e){if(Array.isArray(e))return e}var Xd=function(t,r,n){return t+(r-t)*n},yy=function(t){var r=t.from,n=t.to;return r!==n},ZX=function e(t,r,n){var a=fl(function(i,o){if(yy(o)){var l=t(o.from,o.to,o.velocity),c=QX(l,2),u=c[0],d=c[1];return Ot(Ot({},o),{},{from:u,velocity:d})}return o},r);return n<1?fl(function(i,o){return yy(o)?Ot(Ot({},o),{},{velocity:Xd(o.velocity,a[i].velocity,n),from:Xd(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const eJ=function(e,t,r,n,a){var i=OX(e,t),o=i.reduce(function(v,y){return Ot(Ot({},v),{},my({},y,[e[y],t[y]]))},{}),l=i.reduce(function(v,y){return Ot(Ot({},v),{},my({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return fl(function(y,b){return b.from},l)},p=function(){return!Object.values(l).filter(yy).length},m=function(y){u||(u=y);var b=y-u,x=b/r.dt;l=ZX(r,l,x),a(Ot(Ot(Ot({},e),t),h())),u=y,p()||(c=requestAnimationFrame(f))},g=function(y){d||(d=y);var b=(y-d)/n,x=fl(function(j,w){return Xd.apply(void 0,K_(w).concat([r(b)]))},o);if(a(Ot(Ot(Ot({},e),t),x)),b<1)c=requestAnimationFrame(f);else{var S=fl(function(j,w){return Xd.apply(void 0,K_(w).concat([r(1)]))},o);a(Ot(Ot(Ot({},e),t),S))}};return f=r.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Lo(e){"@babel/helpers - typeof";return Lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lo(e)}var tJ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function rJ(e,t){if(e==null)return{};var r=nJ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nJ(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function rm(e){return sJ(e)||oJ(e)||iJ(e)||aJ()}function aJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iJ(e,t){if(e){if(typeof e=="string")return vy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vy(e,t)}}function oJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sJ(e){if(Array.isArray(e))return vy(e)}function vy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y_(Object(r),!0).forEach(function(n){Qs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qs(e,t,r){return t=iA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iA(n.key),n)}}function uJ(e,t,r){return t&&cJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iA(e){var t=dJ(e,"string");return Lo(t)==="symbol"?t:String(t)}function dJ(e,t){if(Lo(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lo(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xy(e,t)}function xy(e,t){return xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xy(e,t)}function hJ(e){var t=pJ();return function(){var n=Jd(e),a;if(t){var i=Jd(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return by(this,a)}}function by(e,t){if(t&&(Lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wy(e)}function wy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pJ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Jd(e){return Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jd(e)}var wn=function(e){fJ(r,e);var t=hJ(r);function r(n,a){var i;lJ(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(wy(i)),i.changeStyle=i.changeStyle.bind(wy(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),by(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},by(i);i.state={style:c?Qs({},c,u):u}}else i.state={style:{}};return i}return uJ(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var p={style:c?Qs({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(bX(a.to,d)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?f:a.to;if(this.state&&h){var v={style:c?Qs({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(v)}this.runAnimation(Fr(Fr({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=eJ(o,l,qX(u),c,this.changeStyle),m=function(){i.stopJSAnimation=p()};this.manager.start([h,d,m,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(g,v,y){if(y===0)return g;var b=v.duration,x=v.easing,S=x===void 0?"ease":x,j=v.style,w=v.properties,C=v.onAnimationEnd,k=y>0?o[y-1]:v,N=w||Object.keys(j);if(typeof S=="function"||S==="spring")return[].concat(rm(g),[i.runJSAnimation.bind(i,{from:k.style,to:j,duration:b,easing:S}),b]);var M=H_(N,b,S),R=Fr(Fr(Fr({},k.style),j),{},{transition:M});return[].concat(rm(g),[R,b,C]).filter(EX)};return this.manager.start([c].concat(rm(o.reduce(p,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=PX());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var g=l?Qs({},l,c):c,v=H_(Object.keys(g),o,u);m.start([d,i,Fr(Fr({},g),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=rJ(a,tJ),u=T.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var m=p.props,g=m.style,v=g===void 0?{}:g,y=m.className,b=T.cloneElement(p,Fr(Fr({},c),{},{style:Fr(Fr({},v),d),className:y}));return b};return u===1?f(T.Children.only(i)):G.createElement("div",null,T.Children.map(i,function(h){return f(h)}))}}]),r}(T.PureComponent);wn.displayName="Animate";wn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};wn.propTypes={from:Re.oneOfType([Re.object,Re.string]),to:Re.oneOfType([Re.object,Re.string]),attributeName:Re.string,duration:Re.number,begin:Re.number,easing:Re.oneOfType([Re.string,Re.func]),steps:Re.arrayOf(Re.shape({duration:Re.number.isRequired,style:Re.object.isRequired,easing:Re.oneOfType([Re.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Re.func]),properties:Re.arrayOf("string"),onAnimationEnd:Re.func})),children:Re.oneOfType([Re.node,Re.func]),isActive:Re.bool,canBegin:Re.bool,onAnimationEnd:Re.func,shouldReAnimate:Re.bool,onAnimationStart:Re.func,onAnimationReStart:Re.func};function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function Zd(){return Zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zd.apply(this,arguments)}function mJ(e,t){return xJ(e)||vJ(e,t)||yJ(e,t)||gJ()}function gJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yJ(e,t){if(e){if(typeof e=="string")return X_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X_(e,t)}}function X_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function xJ(e){if(Array.isArray(e))return e}function J_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J_(Object(r),!0).forEach(function(n){bJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bJ(e,t,r){return t=wJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wJ(e){var t=_J(e,"string");return uc(t)=="symbol"?t:t+""}function _J(e,t){if(uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e2=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var m=Math.min(o,i);d="M ".concat(t,",").concat(r+l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+c*m,",").concat(r,`
            L `).concat(t+n-c*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*m,`
            L `).concat(t+n,",").concat(r+a-l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+n-c*m,",").concat(r+a,`
            L `).concat(t+c*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*m," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},jJ=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},SJ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ox=function(t){var r=Z_(Z_({},SJ),t),n=T.useRef(),a=T.useState(-1),i=mJ(a,2),o=i[0],l=i[1];T.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,g=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var x=Ce("recharts-rectangle",p);return b?G.createElement(wn,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:m,isActive:b},function(S){var j=S.width,w=S.height,C=S.x,k=S.y;return G.createElement(wn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:y,easing:m},G.createElement("path",Zd({},we(r,!0),{className:x,d:e2(C,k,j,w,h),ref:n})))}):G.createElement("path",Zd({},we(r,!0),{className:x,d:e2(c,u,d,f,h)}))},NJ=["points","className","baseLinePoints","connectNulls"];function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},io.apply(this,arguments)}function kJ(e,t){if(e==null)return{};var r=PJ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function t2(e){return EJ(e)||OJ(e)||AJ(e)||CJ()}function CJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AJ(e,t){if(e){if(typeof e=="string")return _y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _y(e,t)}}function OJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EJ(e){if(Array.isArray(e))return _y(e)}function _y(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var r2=function(t){return t&&t.x===+t.x&&t.y===+t.y},TJ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){r2(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),r2(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},hl=function(t,r){var n=TJ(t);r&&(n=[n.reduce(function(i,o){return[].concat(t2(i),t2(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},$J=function(t,r,n){var a=hl(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(hl(r.reverse(),n).slice(1))},MJ=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=kJ(t,NJ);if(!r||!r.length)return null;var l=Ce("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=$J(r,a,i);return G.createElement("g",{className:l},G.createElement("path",io({},we(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?G.createElement("path",io({},we(o,!0),{fill:"none",d:hl(r,i)})):null,c?G.createElement("path",io({},we(o,!0),{fill:"none",d:hl(a,i)})):null)}var d=hl(r,i);return G.createElement("path",io({},we(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jy.apply(this,arguments)}var Rh=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=Ce("recharts-dot",i);return r===+r&&n===+n&&a===+a?T.createElement("circle",jy({},we(t,!1),xd(t),{className:o,cx:r,cy:n,r:a})):null};function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}var IJ=["x","y","top","left","width","height","className"];function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sy.apply(this,arguments)}function n2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(r),!0).forEach(function(n){DJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DJ(e,t,r){return t=LJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LJ(e){var t=UJ(e,"string");return dc(t)=="symbol"?t:t+""}function UJ(e,t){if(dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FJ(e,t){if(e==null)return{};var r=BJ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var zJ=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},qJ=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,m=t.className,g=FJ(t,IJ),v=RJ({x:n,y:i,top:l,left:u,width:f,height:p},g);return!ue(n)||!ue(i)||!ue(f)||!ue(p)||!ue(l)||!ue(u)?null:G.createElement("path",Sy({},we(v,!0),{className:Ce("recharts-cross",m),d:zJ(n,i,f,p,l,u)}))},WJ=Eh,HJ=yC,VJ=Sn;function GJ(e,t){return e&&e.length?WJ(e,VJ(t),HJ):void 0}var KJ=GJ;const QJ=De(KJ);var YJ=Eh,XJ=Sn,JJ=vC;function ZJ(e,t){return e&&e.length?YJ(e,XJ(t),JJ):void 0}var eZ=ZJ;const tZ=De(eZ);var rZ=["cx","cy","angle","ticks","axisLine"],nZ=["ticks","tick","angle","tickFormatter","stroke"];function Uo(e){"@babel/helpers - typeof";return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uo(e)}function pl(){return pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pl.apply(this,arguments)}function a2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(r),!0).forEach(function(n){Dh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i2(e,t){if(e==null)return{};var r=aZ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sA(n.key),n)}}function oZ(e,t,r){return t&&o2(e.prototype,t),r&&o2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sZ(e,t,r){return t=ef(t),lZ(e,oA()?Reflect.construct(t,r||[],ef(e).constructor):t.apply(e,r))}function lZ(e,t){if(t&&(Uo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cZ(e)}function cZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oA=function(){return!!e})()}function ef(e){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ef(e)}function uZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ny(e,t)}function Ny(e,t){return Ny=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ny(e,t)}function Dh(e,t,r){return t=sA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sA(e){var t=dZ(e,"string");return Uo(t)=="symbol"?t:t+""}function dZ(e,t){if(Uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lh=function(e){function t(){return iZ(this,t),sZ(this,t,arguments)}return uZ(t,e),oZ(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Qe(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=QJ(l,function(d){return d.coordinate||0}),u=tZ(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=i2(n,rZ),d=l.reduce(function(m,g){return[Math.min(m[0],g.coordinate),Math.max(m[1],g.coordinate)]},[1/0,-1/0]),f=Qe(a,i,d[0],o),h=Qe(a,i,d[1],o),p=Fa(Fa(Fa({},we(u,!1)),{},{fill:"none"},we(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return G.createElement("line",pl({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=i2(a,nZ),f=this.getTickTextAnchor(),h=we(d,!1),p=we(o,!1),m=i.map(function(g,v){var y=n.getTickValueCoord(g),b=Fa(Fa(Fa(Fa({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:v},y),{},{payload:g});return G.createElement($e,pl({className:Ce("recharts-polar-radius-axis-tick",VC(o)),key:"tick-".concat(g.coordinate)},bi(n.props,g,v)),t.renderTickItem(o,b,c?c(g.value,v):g.value))});return G.createElement($e,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:G.createElement($e,{className:Ce("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),vt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return G.isValidElement(n)?o=G.cloneElement(n,a):Ne(n)?o=n(a):o=G.createElement(wi,pl({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(T.PureComponent);Dh(Lh,"displayName","PolarRadiusAxis");Dh(Lh,"axisType","radiusAxis");Dh(Lh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Fo(e){"@babel/helpers - typeof";return Fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fo(e)}function Xa(){return Xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xa.apply(this,arguments)}function s2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ba(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(r),!0).forEach(function(n){Uh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cA(n.key),n)}}function hZ(e,t,r){return t&&l2(e.prototype,t),r&&l2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pZ(e,t,r){return t=tf(t),mZ(e,lA()?Reflect.construct(t,r||[],tf(e).constructor):t.apply(e,r))}function mZ(e,t){if(t&&(Fo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gZ(e)}function gZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lA=function(){return!!e})()}function tf(e){return tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tf(e)}function yZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ky(e,t)}function ky(e,t){return ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ky(e,t)}function Uh(e,t,r){return t=cA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cA(e){var t=vZ(e,"string");return Fo(t)=="symbol"?t:t+""}function vZ(e,t){if(Fo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xZ=Math.PI/180,c2=1e-5,Fh=function(e){function t(){return fZ(this,t),pZ(this,t,arguments)}return yZ(t,e),hZ(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Qe(i,o,l,n.coordinate),h=Qe(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*xZ),o;return i>c2?o=a==="outer"?"start":"end":i<-c2?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Ba(Ba({},we(this.props,!1)),{},{fill:"none"},we(l,!1));if(c==="circle")return G.createElement(Rh,Xa({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return Qe(a,i,o,h.coordinate)});return G.createElement(MJ,Xa({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=we(this.props,!1),f=we(o,!1),h=Ba(Ba({},d),{},{fill:"none"},we(l,!1)),p=i.map(function(m,g){var v=n.getTickLineCoord(m),y=n.getTickTextAnchor(m),b=Ba(Ba(Ba({textAnchor:y},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:m,x:v.x2,y:v.y2});return G.createElement($e,Xa({className:Ce("recharts-polar-angle-axis-tick",VC(o)),key:"tick-".concat(m.coordinate)},bi(n.props,m,g)),l&&G.createElement("line",Xa({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&t.renderTickItem(o,b,c?c(m.value,g):m.value))});return G.createElement($e,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:G.createElement($e,{className:Ce("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return G.isValidElement(n)?o=G.cloneElement(n,a):Ne(n)?o=n(a):o=G.createElement(wi,Xa({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(T.PureComponent);Uh(Fh,"displayName","PolarAngleAxis");Uh(Fh,"axisType","angleAxis");Uh(Fh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var bZ=hP,wZ=bZ(Object.getPrototypeOf,Object),_Z=wZ,jZ=Yn,SZ=_Z,NZ=Xn,kZ="[object Object]",PZ=Function.prototype,CZ=Object.prototype,uA=PZ.toString,AZ=CZ.hasOwnProperty,OZ=uA.call(Object);function EZ(e){if(!NZ(e)||jZ(e)!=kZ)return!1;var t=SZ(e);if(t===null)return!0;var r=AZ.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&uA.call(r)==OZ}var TZ=EZ;const $Z=De(TZ);var MZ=Yn,IZ=Xn,RZ="[object Boolean]";function DZ(e){return e===!0||e===!1||IZ(e)&&MZ(e)==RZ}var LZ=DZ;const UZ=De(LZ);function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function rf(){return rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rf.apply(this,arguments)}function FZ(e,t){return WZ(e)||qZ(e,t)||zZ(e,t)||BZ()}function BZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zZ(e,t){if(e){if(typeof e=="string")return u2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u2(e,t)}}function u2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function WZ(e){if(Array.isArray(e))return e}function d2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function f2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d2(Object(r),!0).forEach(function(n){HZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HZ(e,t,r){return t=VZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VZ(e){var t=GZ(e,"string");return fc(t)=="symbol"?t:t+""}function GZ(e,t){if(fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h2=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},KZ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QZ=function(t){var r=f2(f2({},KZ),t),n=T.useRef(),a=T.useState(-1),i=FZ(a,2),o=i[0],l=i[1];T.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&l(x)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,g=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=Ce("recharts-trapezoid",p);return y?G.createElement(wn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:g,animationEasing:m,isActive:y},function(x){var S=x.upperWidth,j=x.lowerWidth,w=x.height,C=x.x,k=x.y;return G.createElement(wn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:m},G.createElement("path",rf({},we(r,!0),{className:b,d:h2(C,k,S,j,w),ref:n})))}):G.createElement("g",null,G.createElement("path",rf({},we(r,!0),{className:b,d:h2(c,u,d,f,h)})))},YZ=["option","shapeType","propTransformer","activeClassName","isActive"];function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function XZ(e,t){if(e==null)return{};var r=JZ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function p2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p2(Object(r),!0).forEach(function(n){ZZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZZ(e,t,r){return t=eee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eee(e){var t=tee(e,"string");return hc(t)=="symbol"?t:t+""}function tee(e,t){if(hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ree(e,t){return nf(nf({},t),e)}function nee(e,t){return e==="symbols"}function m2(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return G.createElement(ox,r);case"trapezoid":return G.createElement(QZ,r);case"sector":return G.createElement(QC,r);case"symbols":if(nee(t))return G.createElement(Nv,r);break;default:return null}}function aee(e){return T.isValidElement(e)?e.props:e}function dA(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?ree:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=XZ(e,YZ),u;if(T.isValidElement(t))u=T.cloneElement(t,nf(nf({},c),aee(t)));else if(Ne(t))u=t(c);else if($Z(t)&&!UZ(t)){var d=a(t,c);u=G.createElement(m2,{shapeType:r,elementProps:d})}else{var f=c;u=G.createElement(m2,{shapeType:r,elementProps:f})}return l?G.createElement($e,{className:o},u):u}function Bh(e,t){return t!=null&&"trapezoids"in e.props}function zh(e,t){return t!=null&&"sectors"in e.props}function pc(e,t){return t!=null&&"points"in e.props}function iee(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function oee(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function see(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function lee(e,t){var r;return Bh(e,t)?r=iee:zh(e,t)?r=oee:pc(e,t)&&(r=see),r}function cee(e,t){var r;return Bh(e,t)?r="trapezoids":zh(e,t)?r="sectors":pc(e,t)&&(r="points"),r}function uee(e,t){if(Bh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(zh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return pc(e,t)?t.payload:{}}function dee(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=cee(r,t),i=uee(r,t),o=n.filter(function(c,u){var d=Bc(i,c),f=r.props[a].filter(function(m){var g=lee(r,t);return g(m,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var qu;function Bo(e){"@babel/helpers - typeof";return Bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bo(e)}function oo(){return oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oo.apply(this,arguments)}function g2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(r),!0).forEach(function(n){Cr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hA(n.key),n)}}function hee(e,t,r){return t&&y2(e.prototype,t),r&&y2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pee(e,t,r){return t=af(t),mee(e,fA()?Reflect.construct(t,r||[],af(e).constructor):t.apply(e,r))}function mee(e,t){if(t&&(Bo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gee(e)}function gee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fA=function(){return!!e})()}function af(e){return af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},af(e)}function yee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Py(e,t)}function Py(e,t){return Py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Py(e,t)}function Cr(e,t,r){return t=hA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hA(e){var t=vee(e,"string");return Bo(t)=="symbol"?t:t+""}function vee(e,t){if(Bo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zn=function(e){function t(r){var n;return fee(this,t),n=pee(this,t,[r]),Cr(n,"pieRef",null),Cr(n,"sectorRefs",[]),Cr(n,"id",ps("recharts-pie-")),Cr(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ne(a)&&a()}),Cr(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ne(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return yee(t,e),hee(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=we(this.props,!1),f=we(o,!1),h=we(l,!1),p=o&&o.offsetRadius||20,m=n.map(function(g,v){var y=(g.startAngle+g.endAngle)/2,b=Qe(g.cx,g.cy,g.outerRadius+p,y),x=Ve(Ve(Ve(Ve({},d),g),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(b.x,g.cx)},b),S=Ve(Ve(Ve(Ve({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:v,points:[Qe(g.cx,g.cy,g.outerRadius,y),b]}),j=c;return ke(c)&&ke(u)?j="value":ke(c)&&(j=u),G.createElement($e,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,S,"line"),t.renderLabelItem(o,x,xt(g,j)))});return G.createElement($e,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,p=f?o:h,m=Ve(Ve({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return G.createElement($e,oo({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},bi(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),G.createElement(dA,oo({option:p,isActive:f,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return G.createElement(wn,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var g=m.t,v=[],y=i&&i[0],b=y.startAngle;return i.forEach(function(x,S){var j=h&&h[S],w=S>0?yr(x,"paddingAngle",0):0;if(j){var C=hr(j.endAngle-j.startAngle,x.endAngle-x.startAngle),k=Ve(Ve({},x),{},{startAngle:b+w,endAngle:b+C(g)+w});v.push(k),b=k.endAngle}else{var N=x.endAngle,M=x.startAngle,R=hr(0,N-M),B=R(g),U=Ve(Ve({},x),{},{startAngle:b+w,endAngle:b+B+w});v.push(U),b=U.endAngle}}),G.createElement($e,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Bc(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,m=this.state.isAnimationFinished;if(i||!o||!o.length||!ue(u)||!ue(d)||!ue(f)||!ue(h))return null;var g=Ce("recharts-pie",l);return G.createElement($e,{tabIndex:this.props.rootTabIndex,className:g,ref:function(y){n.pieRef=y}},this.renderSectors(),c&&this.renderLabels(o),vt.renderCallByParent(this.props,null,!1),(!p||m)&&Fn.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(G.isValidElement(n))return G.cloneElement(n,a);if(Ne(n))return n(a);var o=Ce("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return G.createElement(Qd,oo({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(G.isValidElement(n))return G.cloneElement(n,a);var o=i;if(Ne(n)&&(o=n(a),G.isValidElement(o)))return o;var l=Ce("recharts-pie-label-text",typeof n!="boolean"&&!Ne(n)?n.className:"");return G.createElement(wi,oo({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(T.PureComponent);qu=Zn;Cr(Zn,"displayName","Pie");Cr(Zn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!gn.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Cr(Zn,"parseDeltaAngle",function(e,t){var r=Gt(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Cr(Zn,"getRealPieData",function(e){var t=e.data,r=e.children,n=we(e,!1),a=vr(r,Sh);return t&&t.length?t.map(function(i,o){return Ve(Ve(Ve({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Ve(Ve({},n),i.props)}):[]});Cr(Zn,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=HC(a,i),l=n+Kt(e.cx,a,a/2),c=r+Kt(e.cy,i,i/2),u=Kt(e.innerRadius,o,0),d=Kt(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Cr(Zn,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Ve(Ve({},t.type.defaultProps),t.props):t.props,a=qu.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),m=qu.parseCoordinateOfPie(n,r),g=qu.parseDeltaAngle(o,l),v=Math.abs(g),y=u;ke(u)&&ke(f)?(tn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):ke(u)&&(tn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var b=a.filter(function(k){return xt(k,y,0)!==0}).length,x=(v>=360?b:b-1)*c,S=v-b*p-x,j=a.reduce(function(k,N){var M=xt(N,y,0);return k+(ue(M)?M:0)},0),w;if(j>0){var C;w=a.map(function(k,N){var M=xt(k,y,0),R=xt(k,d,N),B=(ue(M)?M:0)/j,U;N?U=C.endAngle+Gt(g)*c*(M!==0?1:0):U=o;var $=U+Gt(g)*((M!==0?p:0)+B*S),I=(U+$)/2,A=(m.innerRadius+m.outerRadius)/2,_=[{name:R,value:M,payload:k,dataKey:y,type:h}],P=Qe(m.cx,m.cy,A,I);return C=Ve(Ve(Ve({percent:B,cornerRadius:i,name:R,tooltipPayload:_,midAngle:I,middleRadius:A,tooltipPosition:P},k),m),{},{value:xt(k,y),startAngle:U,endAngle:$,payload:k,paddingAngle:Gt(g)*c}),C})}return Ve(Ve({},m),{},{sectors:w,data:a})});var xee=Math.ceil,bee=Math.max;function wee(e,t,r,n){for(var a=-1,i=bee(xee((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var _ee=wee,jee=TP,v2=1/0,See=17976931348623157e292;function Nee(e){if(!e)return e===0?e:0;if(e=jee(e),e===v2||e===-v2){var t=e<0?-1:1;return t*See}return e===e?e:0}var pA=Nee,kee=_ee,Pee=jh,nm=pA;function Cee(e){return function(t,r,n){return n&&typeof n!="number"&&Pee(t,r,n)&&(r=n=void 0),t=nm(t),r===void 0?(r=t,t=0):r=nm(r),n=n===void 0?t<r?1:-1:nm(n),kee(t,r,n,e)}}var Aee=Cee,Oee=Aee,Eee=Oee(),Tee=Eee;const of=De(Tee);function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function x2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function b2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x2(Object(r),!0).forEach(function(n){mA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mA(e,t,r){return t=$ee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ee(e){var t=Mee(e,"string");return mc(t)=="symbol"?t:t+""}function Mee(e,t){if(mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iee=["Webkit","Moz","O","ms"],Ree=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Iee.reduce(function(i,o){return b2(b2({},i),{},mA({},o+n,r))},{});return a[t]=r,a};function zo(e){"@babel/helpers - typeof";return zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zo(e)}function sf(){return sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sf.apply(this,arguments)}function w2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function am(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w2(Object(r),!0).forEach(function(n){ur(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yA(n.key),n)}}function Lee(e,t,r){return t&&_2(e.prototype,t),r&&_2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uee(e,t,r){return t=lf(t),Fee(e,gA()?Reflect.construct(t,r||[],lf(e).constructor):t.apply(e,r))}function Fee(e,t){if(t&&(zo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bee(e)}function Bee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gA=function(){return!!e})()}function lf(e){return lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lf(e)}function zee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cy(e,t)}function Cy(e,t){return Cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Cy(e,t)}function ur(e,t,r){return t=yA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yA(e){var t=qee(e,"string");return zo(t)=="symbol"?t:t+""}function qee(e,t){if(zo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wee=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=ul().domain(of(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},j2=function(t){return t.changedTouches&&!!t.changedTouches.length},qo=function(e){function t(r){var n;return Dee(this,t),n=Uee(this,t,[r]),ur(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ur(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ur(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),ur(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ur(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ur(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ur(n,"handleSlideDragStart",function(a){var i=j2(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return zee(t,e),Lee(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(o,f),m=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:m===d?d:m-m%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=xt(i[n],l,n);return Ne(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,m=c.onChange,g=n.pageX-i;g>0?g=Math.min(g,u+d-f-l,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-l));var v=this.getIndex({startX:o+g,endX:l+g});(v.startIndex!==h||v.endIndex!==p)&&m&&m(v),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=j2(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,g=d.gap,v=d.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+h-p-u):b<0&&(b=Math.max(b,f-u)),y[o]=u+b;var x=this.getIndex(y),S=x.startIndex,j=x.endIndex,w=function(){var k=v.length-1;return o==="startX"&&(l>c?S%g===0:j%g===0)||l<c&&j===k||o==="endX"&&(l>c?j%g===0:S%g===0)||l>c&&j===k};this.setState(ur(ur({},o,u+b),"brushMoveStartX",n.pageX),function(){m&&w()&&m(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(ur({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return G.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=T.Children.only(u);return f?G.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,m=c.data,g=c.startIndex,v=c.endIndex,y=Math.max(n,this.props.x),b=am(am({},we(this.props,!1)),{},{x:y,y:u,width:d,height:f}),x=p||"Min value: ".concat((i=m[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=m[v])===null||o===void 0?void 0:o.name);return G.createElement($e,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return G.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:u};return G.createElement($e,{className:"recharts-brush-texts"},G.createElement(wi,sf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},m),this.getTextOfTick(a)),G.createElement(wi,sf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},m),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,g=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!ue(l)||!ue(c)||!ue(u)||!ue(d)||u<=0||d<=0)return null;var x=Ce("recharts-brush",i),S=G.Children.count(o)===1,j=Ree("userSelect","none");return G.createElement($e,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||v||y||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return G.createElement(G.Fragment,null,G.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),G.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),G.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return G.isValidElement(n)?i=G.cloneElement(n,a):Ne(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return am({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?Wee({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(T.PureComponent);ur(qo,"displayName","Brush");ur(qo,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Hee=Tv;function Vee(e,t){var r;return Hee(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var Gee=Vee,Kee=iP,Qee=Sn,Yee=Gee,Xee=sr,Jee=jh;function Zee(e,t,r){var n=Xee(e)?Kee:Yee;return r&&Jee(e,t,r)&&(t=void 0),n(e,Qee(t))}var ete=Zee;const tte=De(ete);var vn=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},S2=PP;function rte(e,t,r){t=="__proto__"&&S2?S2(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var nte=rte,ate=nte,ite=NP,ote=Sn;function ste(e,t){var r={};return t=ote(t),ite(e,function(n,a,i){ate(r,a,t(n,a,i))}),r}var lte=ste;const cte=De(lte);function ute(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var dte=ute,fte=Tv;function hte(e,t){var r=!0;return fte(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var pte=hte,mte=dte,gte=pte,yte=Sn,vte=sr,xte=jh;function bte(e,t,r){var n=vte(e)?mte:gte;return r&&xte(e,t,r)&&(t=void 0),n(e,yte(t))}var wte=bte;const vA=De(wte);var _te=["x","y"];function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ay.apply(this,arguments)}function N2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N2(Object(r),!0).forEach(function(n){jte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jte(e,t,r){return t=Ste(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ste(e){var t=Nte(e,"string");return gc(t)=="symbol"?t:t+""}function Nte(e,t){if(gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kte(e,t){if(e==null)return{};var r=Pte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cte(e,t){var r=e.x,n=e.y,a=kte(e,_te),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return qs(qs(qs(qs(qs({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function k2(e){return G.createElement(dA,Ay({shapeType:"rectangle",propTransformer:Cte,activeClassName:"recharts-active-bar"},e))}var Ate=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=ue(n)||ZR(n);return i?t(n,a):(i||ji(),r)}},Ote=["value","background"],xA;function Wo(e){"@babel/helpers - typeof";return Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wo(e)}function Ete(e,t){if(e==null)return{};var r=Tte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cf.apply(this,arguments)}function P2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P2(Object(r),!0).forEach(function(n){pa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wA(n.key),n)}}function Mte(e,t,r){return t&&C2(e.prototype,t),r&&C2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ite(e,t,r){return t=uf(t),Rte(e,bA()?Reflect.construct(t,r||[],uf(e).constructor):t.apply(e,r))}function Rte(e,t){if(t&&(Wo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dte(e)}function Dte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bA=function(){return!!e})()}function uf(e){return uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uf(e)}function Lte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oy(e,t)}function Oy(e,t){return Oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Oy(e,t)}function pa(e,t,r){return t=wA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wA(e){var t=Ute(e,"string");return Wo(t)=="symbol"?t:t+""}function Ute(e,t){if(Wo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qc=function(e){function t(){var r;$te(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Ite(this,t,[].concat(a)),pa(r,"state",{isAnimationFinished:!1}),pa(r,"id",ps("recharts-bar-")),pa(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),pa(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Lte(t,e),Mte(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=we(this.props,!1);return n&&n.map(function(f,h){var p=h===c,m=p?u:o,g=ut(ut(ut({},d),f),{},{isActive:p,option:m,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return G.createElement($e,cf({className:"recharts-bar-rectangle"},bi(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),G.createElement(k2,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return G.createElement(wn,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=i.map(function(v,y){var b=h&&h[y];if(b){var x=hr(b.x,v.x),S=hr(b.y,v.y),j=hr(b.width,v.width),w=hr(b.height,v.height);return ut(ut({},v),{},{x:x(m),y:S(m),width:j(m),height:w(m)})}if(o==="horizontal"){var C=hr(0,v.height),k=C(m);return ut(ut({},v),{},{y:v.y+v.height-k,height:k})}var N=hr(0,v.width),M=N(m);return ut(ut({},v),{},{width:M})});return G.createElement($e,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Bc(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=we(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=Ete(u,Ote);if(!f)return null;var p=ut(ut(ut(ut(ut({},h),{},{fill:"#eee"},f),c),bi(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return G.createElement(k2,cf({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=vr(d,zc);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(v,y){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:xt(v,y)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return G.createElement($e,m,f.map(function(g){return G.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,m=n.background,g=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,y=Ce("recharts-bar",o),b=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,S=b||x,j=ke(g)?this.id:g;return G.createElement($e,{className:y},b||x?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(j)},G.createElement("rect",{x:b?u:u-f/2,y:x?d:d-h/2,width:b?f:f*2,height:x?h:h*2}))):null,G.createElement($e,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(j,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,j),(!p||v)&&Fn.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(T.PureComponent);xA=qc;pa(qc,"displayName","Bar");pa(qc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!gn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});pa(qc,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=vQ(n,r);if(!p)return null;var m=t.layout,g=r.type.defaultProps,v=g!==void 0?ut(ut({},g),r.props):r.props,y=v.dataKey,b=v.children,x=v.minPointSize,S=m==="horizontal"?o:i,j=u?S.scale.domain():null,w=NQ({numericAxis:S}),C=vr(b,Sh),k=f.map(function(N,M){var R,B,U,$,I,A;u?R=xQ(u[d+M],j):(R=xt(N,y),Array.isArray(R)||(R=[w,R]));var _=Ate(x,xA.defaultProps.minPointSize)(R[1],M);if(m==="horizontal"){var P,O=[o.scale(R[0]),o.scale(R[1])],E=O[0],D=O[1];B=y_({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:N,index:M}),U=(P=D??E)!==null&&P!==void 0?P:void 0,$=p.size;var F=E-D;if(I=Number.isNaN(F)?0:F,A={x:B,y:o.y,width:$,height:o.height},Math.abs(_)>0&&Math.abs(I)<Math.abs(_)){var W=Gt(I||_)*(Math.abs(_)-Math.abs(I));U-=W,I+=W}}else{var z=[i.scale(R[0]),i.scale(R[1])],K=z[0],Y=z[1];if(B=K,U=y_({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:N,index:M}),$=Y-K,I=p.size,A={x:i.x,y:U,width:i.width,height:I},Math.abs(_)>0&&Math.abs($)<Math.abs(_)){var J=Gt($||_)*(Math.abs(_)-Math.abs($));$+=J}}return ut(ut(ut({},N),{},{x:B,y:U,width:$,height:I,value:u?R:R[1],payload:N,background:A},C&&C[M]&&C[M].props),{},{tooltipPayload:[qC(r,N)],tooltipPosition:{x:B+$/2,y:U+I/2}})});return ut({data:k,layout:m},h)});function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function Fte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_A(n.key),n)}}function Bte(e,t,r){return t&&A2(e.prototype,t),r&&A2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function O2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O2(Object(r),!0).forEach(function(n){qh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qh(e,t,r){return t=_A(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _A(e){var t=zte(e,"string");return yc(t)=="symbol"?t:t+""}function zte(e,t){if(yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qte=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!fr(u,qc);return d.reduce(function(p,m){var g=r[m],v=g.orientation,y=g.domain,b=g.padding,x=b===void 0?{}:b,S=g.mirror,j=g.reversed,w="".concat(v).concat(S?"Mirror":""),C,k,N,M,R;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var B=y[1]-y[0],U=1/0,$=g.categoricalDomain.sort(rD);if($.forEach(function(z,K){K>0&&(U=Math.min((z||0)-($[K-1]||0),U))}),Number.isFinite(U)){var I=U/B,A=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(C=I*A/2),g.padding==="no-gap"){var _=Kt(t.barCategoryGap,I*A),P=I*A/2;C=P-_-(P-_)/A*_}}}a==="xAxis"?k=[n.left+(x.left||0)+(C||0),n.left+n.width-(x.right||0)-(C||0)]:a==="yAxis"?k=c==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(C||0),n.top+n.height-(x.bottom||0)-(C||0)]:k=g.range,j&&(k=[k[1],k[0]]);var O=UC(g,i,h),E=O.scale,D=O.realScaleType;E.domain(y).range(k),FC(E);var F=BC(E,Gr(Gr({},g),{},{realScaleType:D}));a==="xAxis"?(R=v==="top"&&!S||v==="bottom"&&S,N=n.left,M=f[w]-R*g.height):a==="yAxis"&&(R=v==="left"&&!S||v==="right"&&S,N=f[w]-R*g.width,M=n.top);var W=Gr(Gr(Gr({},g),F),{},{realScaleType:D,x:N,y:M,scale:E,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return W.bandSize=Vd(W,F),!g.hide&&a==="xAxis"?f[w]+=(R?-1:1)*W.height:g.hide||(f[w]+=(R?-1:1)*W.width),Gr(Gr({},p),{},qh({},m,W))},{})},jA=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},Wte=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return jA({x:r,y:n},{x:a,y:i})},SA=function(){function e(t){Fte(this,e),this.scale=t}return Bte(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();qh(SA,"EPS",1e-4);var sx=function(t){var r=Object.keys(t).reduce(function(n,a){return Gr(Gr({},n),{},qh({},a,SA.create(t[a])))},{});return Gr(Gr({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return cte(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return vA(a,function(i,o){return r[o].isInRange(i)})}})};function Hte(e){return(e%180+180)%180}var Vte=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Hte(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},Gte=Sn,Kte=Rc,Qte=wh;function Yte(e){return function(t,r,n){var a=Object(t);if(!Kte(t)){var i=Gte(r);t=Qte(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var Xte=Yte,Jte=pA;function Zte(e){var t=Jte(e),r=t%1;return t===t?r?t-r:t:0}var ere=Zte,tre=xP,rre=Sn,nre=ere,are=Math.max;function ire(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:nre(r);return a<0&&(a=are(n+a,0)),tre(e,rre(t),a)}var ore=ire,sre=Xte,lre=ore,cre=sre(lre),ure=cre;const dre=De(ure);var fre=nR(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),lx=T.createContext(void 0),cx=T.createContext(void 0),NA=T.createContext(void 0),kA=T.createContext({}),PA=T.createContext(void 0),CA=T.createContext(0),AA=T.createContext(0),E2=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=fre(i);return G.createElement(lx.Provider,{value:n},G.createElement(cx.Provider,{value:a},G.createElement(kA.Provider,{value:i},G.createElement(NA.Provider,{value:d},G.createElement(PA.Provider,{value:o},G.createElement(CA.Provider,{value:u},G.createElement(AA.Provider,{value:c},l)))))))},hre=function(){return T.useContext(PA)},OA=function(t){var r=T.useContext(lx);r==null&&ji();var n=r[t];return n==null&&ji(),n},pre=function(){var t=T.useContext(lx);return da(t)},mre=function(){var t=T.useContext(cx),r=dre(t,function(n){return vA(n.domain,Number.isFinite)});return r||da(t)},EA=function(t){var r=T.useContext(cx);r==null&&ji();var n=r[t];return n==null&&ji(),n},gre=function(){var t=T.useContext(NA);return t},yre=function(){return T.useContext(kA)},ux=function(){return T.useContext(AA)},dx=function(){return T.useContext(CA)};function Ho(e){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ho(e)}function vre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$A(n.key),n)}}function bre(e,t,r){return t&&xre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wre(e,t,r){return t=df(t),_re(e,TA()?Reflect.construct(t,r||[],df(e).constructor):t.apply(e,r))}function _re(e,t){if(t&&(Ho(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jre(e)}function jre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TA=function(){return!!e})()}function df(e){return df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},df(e)}function Sre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ey(e,t)}function Ey(e,t){return Ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ey(e,t)}function T2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T2(Object(r),!0).forEach(function(n){fx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fx(e,t,r){return t=$A(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $A(e){var t=Nre(e,"string");return Ho(t)=="symbol"?t:t+""}function Nre(e,t){if(Ho(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kre(e,t){return Ore(e)||Are(e,t)||Cre(e,t)||Pre()}function Pre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cre(e,t){if(e){if(typeof e=="string")return M2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M2(e,t)}}function M2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Are(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Ore(e){if(Array.isArray(e))return e}function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ty.apply(this,arguments)}var Ere=function(t,r){var n;return G.isValidElement(t)?n=G.cloneElement(t,r):Ne(t)?n=t(r):n=G.createElement("line",Ty({},r,{className:"recharts-reference-line-line"})),n},Tre=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var m=u.y,g=t.y.apply(m,{position:o});if(vn(u,"discard")&&!t.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?v.reverse():v}if(r){var y=u.x,b=t.x.apply(y,{position:o});if(vn(u,"discard")&&!t.x.isInRange(b))return null;var x=[{x:b,y:f+p},{x:b,y:f}];return l==="top"?x.reverse():x}if(a){var S=u.segment,j=S.map(function(w){return t.apply(w,{position:o})});return vn(u,"discard")&&tte(j,function(w){return!t.isInRange(w)})?null:j}return null};function $re(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=hre(),d=OA(a),f=EA(i),h=gre();if(!u||!h)return null;tn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=sx({x:d.scale,y:f.scale}),m=wt(t),g=wt(r),v=n&&n.length===2,y=Tre(p,m,g,v,h,e.position,d.orientation,f.orientation,e);if(!y)return null;var b=kre(y,2),x=b[0],S=x.x,j=x.y,w=b[1],C=w.x,k=w.y,N=vn(e,"hidden")?"url(#".concat(u,")"):void 0,M=$2($2({clipPath:N},we(e,!0)),{},{x1:S,y1:j,x2:C,y2:k});return G.createElement($e,{className:Ce("recharts-reference-line",l)},Ere(o,M),vt.renderCallByParent(e,Wte({x1:S,y1:j,x2:C,y2:k})))}var hx=function(e){function t(){return vre(this,t),wre(this,t,arguments)}return Sre(t,e),bre(t,[{key:"render",value:function(){return G.createElement($re,this.props)}}])}(G.Component);fx(hx,"displayName","ReferenceLine");fx(hx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$y.apply(this,arguments)}function Vo(e){"@babel/helpers - typeof";return Vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vo(e)}function I2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function R2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I2(Object(r),!0).forEach(function(n){Wh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ire(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IA(n.key),n)}}function Rre(e,t,r){return t&&Ire(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dre(e,t,r){return t=ff(t),Lre(e,MA()?Reflect.construct(t,r||[],ff(e).constructor):t.apply(e,r))}function Lre(e,t){if(t&&(Vo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ure(e)}function Ure(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MA=function(){return!!e})()}function ff(e){return ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ff(e)}function Fre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&My(e,t)}function My(e,t){return My=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},My(e,t)}function Wh(e,t,r){return t=IA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IA(e){var t=Bre(e,"string");return Vo(t)=="symbol"?t:t+""}function Bre(e,t){if(Vo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zre=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=sx({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return vn(t,"discard")&&!o.isInRange(l)?null:l},Hh=function(e){function t(){return Mre(this,t),Dre(this,t,arguments)}return Fre(t,e),Rre(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=wt(a),d=wt(i);if(tn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=zre(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,g=m.shape,v=m.className,y=vn(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=R2(R2({clipPath:y},we(this.props,!0)),{},{cx:h,cy:p});return G.createElement($e,{className:Ce("recharts-reference-dot",v)},t.renderDot(g,b),vt.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(G.Component);Wh(Hh,"displayName","ReferenceDot");Wh(Hh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Wh(Hh,"renderDot",function(e,t){var r;return G.isValidElement(e)?r=G.cloneElement(e,t):Ne(e)?r=e(t):r=G.createElement(Rh,$y({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iy.apply(this,arguments)}function Go(e){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Go(e)}function D2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D2(Object(r),!0).forEach(function(n){Vh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DA(n.key),n)}}function Hre(e,t,r){return t&&Wre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vre(e,t,r){return t=hf(t),Gre(e,RA()?Reflect.construct(t,r||[],hf(e).constructor):t.apply(e,r))}function Gre(e,t){if(t&&(Go(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kre(e)}function Kre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RA=function(){return!!e})()}function hf(e){return hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hf(e)}function Qre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ry(e,t)}function Ry(e,t){return Ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ry(e,t)}function Vh(e,t,r){return t=DA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DA(e){var t=Yre(e,"string");return Go(t)=="symbol"?t:t+""}function Yre(e,t){if(Go(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xre=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=sx({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return vn(i,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:jA(p,m)},Gh=function(e){function t(){return qre(this,t),Vre(this,t,arguments)}return Qre(t,e),Hre(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;tn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=wt(a),h=wt(i),p=wt(o),m=wt(l),g=this.props.shape;if(!f&&!h&&!p&&!m&&!g)return null;var v=Xre(f,h,p,m,this.props);if(!v&&!g)return null;var y=vn(this.props,"hidden")?"url(#".concat(d,")"):void 0;return G.createElement($e,{className:Ce("recharts-reference-area",c)},t.renderRect(g,L2(L2({clipPath:y},we(this.props,!0)),v)),vt.renderCallByParent(this.props,v))}}])}(G.Component);Vh(Gh,"displayName","ReferenceArea");Vh(Gh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Vh(Gh,"renderRect",function(e,t){var r;return G.isValidElement(e)?r=G.cloneElement(e,t):Ne(e)?r=e(t):r=G.createElement(ox,Iy({},t,{className:"recharts-reference-area-rect"})),r});function LA(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Jre(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Vte(n,r)}function Zre(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function pf(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function ene(e,t){return LA(e,t+1)}function tne(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var m=n==null?void 0:n[c];if(m===void 0)return{v:LA(n,u)};var g=c,v,y=function(){return v===void 0&&(v=r(m,g)),v},b=m.coordinate,x=c===0||pf(e,b,y,d,l);x||(c=0,d=o,u+=1),x&&(d=b+e*(y()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}function U2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U2(Object(r),!0).forEach(function(n){rne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rne(e,t,r){return t=nne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nne(e){var t=ane(e,"string");return vc(t)=="symbol"?t:t+""}function ane(e,t){if(vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ine(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],m,g=function(){return m===void 0&&(m=r(p,h)),m};if(h===o-1){var v=e*(p.coordinate+e*g()/2-c);i[h]=p=Lt(Lt({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[h]=p=Lt(Lt({},p),{},{tickCoord:p.coordinate});var y=pf(e,p.tickCoord,g,l,c);y&&(c=p.tickCoord-e*(g()/2+a),i[h]=Lt(Lt({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function one(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=Lt(Lt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=pf(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),o[l-1]=Lt(Lt({},d),{},{isShow:!0}))}for(var m=i?l-1:l,g=function(b){var x=o[b],S,j=function(){return S===void 0&&(S=r(x,b)),S};if(b===0){var w=e*(x.coordinate-e*j()/2-c);o[b]=x=Lt(Lt({},x),{},{tickCoord:w<0?x.coordinate-w*e:x.coordinate})}else o[b]=x=Lt(Lt({},x),{},{tickCoord:x.coordinate});var C=pf(e,x.tickCoord,j,c,u);C&&(c=x.tickCoord+e*(j()/2+a),o[b]=Lt(Lt({},x),{},{isShow:!0}))},v=0;v<m;v++)g(v);return o}function px(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(ue(c)||gn.isSsr)return ene(a,typeof c=="number"&&ue(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",m=d&&p==="width"?cl(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(x,S){var j=Ne(u)?u(x.value,S):x.value;return p==="width"?Jre(cl(j,{fontSize:t,letterSpacing:r}),m,f):cl(j,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?Gt(a[1].coordinate-a[0].coordinate):1,y=Zre(i,v,p);return c==="equidistantPreserveStart"?tne(v,y,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=one(v,y,g,a,o,c==="preserveStartEnd"):h=ine(v,y,g,a,o),h.filter(function(b){return b.isShow}))}var sne=["viewBox"],lne=["viewBox"],cne=["ticks"];function Ko(e){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(e)}function so(){return so=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},so.apply(this,arguments)}function F2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F2(Object(r),!0).forEach(function(n){mx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function im(e,t){if(e==null)return{};var r=une(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function une(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FA(n.key),n)}}function fne(e,t,r){return t&&B2(e.prototype,t),r&&B2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hne(e,t,r){return t=mf(t),pne(e,UA()?Reflect.construct(t,r||[],mf(e).constructor):t.apply(e,r))}function pne(e,t){if(t&&(Ko(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mne(e)}function mne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UA=function(){return!!e})()}function mf(e){return mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mf(e)}function gne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dy(e,t)}function Dy(e,t){return Dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Dy(e,t)}function mx(e,t,r){return t=FA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FA(e){var t=yne(e,"string");return Ko(t)=="symbol"?t:t+""}function yne(e,t){if(Ko(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ws=function(e){function t(r){var n;return dne(this,t),n=hne(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return gne(t,e),fne(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=im(n,sne),l=this.props,c=l.viewBox,u=im(l,lne);return!yo(i,c)||!yo(o,u)||!yo(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,m,g,v,y,b,x=f?-1:1,S=n.tickSize||d,j=ue(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=m=n.coordinate,v=o+ +!f*c,g=v-x*S,b=g-x*h,y=j;break;case"left":g=v=n.coordinate,m=i+ +!f*l,p=m-x*S,y=p-x*h,b=j;break;case"right":g=v=n.coordinate,m=i+ +f*l,p=m+x*S,y=p+x*h,b=j;break;default:p=m=n.coordinate,v=o+ +f*c,g=v+x*S,b=g+x*h,y=j;break}return{line:{x1:p,y1:g,x2:m,y2:v},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=ht(ht(ht({},we(this.props,!1)),we(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=ht(ht({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=ht(ht({},f),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+l})}return G.createElement("line",so({},f,{className:Ce("recharts-cartesian-axis-line",yr(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=px(ht(ht({},this.props),{},{ticks:n}),a,i),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=we(this.props,!1),y=we(d,!1),b=ht(ht({},v),{},{fill:"none"},we(c,!1)),x=p.map(function(S,j){var w=o.getTickLineCoord(S),C=w.line,k=w.tick,N=ht(ht(ht(ht({textAnchor:m,verticalAnchor:g},v),{},{stroke:"none",fill:u},y),k),{},{index:j,payload:S,visibleTicksCount:p.length,tickFormatter:f});return G.createElement($e,so({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},bi(o.props,S,j)),c&&G.createElement("line",so({},b,C,{className:Ce("recharts-cartesian-axis-tick-line",yr(c,"className"))})),d&&t.renderTickItem(d,N,"".concat(Ne(f)?f(S.value,j):S.value).concat(h||"")))});return G.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=im(f,cne),m=h;return Ne(c)&&(m=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!m||!m.length?null:G.createElement($e,{className:Ce("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),vt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=Ce(a.className,"recharts-cartesian-axis-tick-value");return G.isValidElement(n)?o=G.cloneElement(n,ht(ht({},a),{},{className:l})):Ne(n)?o=n(ht(ht({},a),{},{className:l})):o=G.createElement(wi,so({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(T.Component);mx(ws,"displayName","CartesianAxis");mx(ws,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var vne=["x1","y1","x2","y2","key"],xne=["offset"];function Si(e){"@babel/helpers - typeof";return Si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Si(e)}function z2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z2(Object(r),!0).forEach(function(n){bne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bne(e,t,r){return t=wne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wne(e){var t=_ne(e,"string");return Si(t)=="symbol"?t:t+""}function _ne(e,t){if(Si(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Si(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oi(){return oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oi.apply(this,arguments)}function q2(e,t){if(e==null)return{};var r=jne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Sne=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return G.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function BA(e,t){var r;if(G.isValidElement(e))r=G.cloneElement(e,t);else if(Ne(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=q2(t,vne),u=we(c,!1);u.offset;var d=q2(u,xne);r=G.createElement("line",oi({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function Nne(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Ft(Ft({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return BA(a,u)});return G.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function kne(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Ft(Ft({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return BA(a,u)});return G.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Pne(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?a+o-h:d[p+1]-h;if(g<=0)return null;var v=p%t.length;return G.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:g,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Cne(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?i+l-h:d[p+1]-h;if(g<=0)return null;var v=p%n.length;return G.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:g,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Ane=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return LC(px(Ft(Ft(Ft({},ws.defaultProps),n),{},{ticks:In(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},One=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return LC(px(Ft(Ft(Ft({},ws.defaultProps),n),{},{ticks:In(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},zi={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function zA(e){var t,r,n,a,i,o,l=ux(),c=dx(),u=yre(),d=Ft(Ft({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:zi.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:zi.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:zi.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:zi.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:zi.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:zi.verticalFill,x:ue(e.x)?e.x:u.left,y:ue(e.y)?e.y:u.top,width:ue(e.width)?e.width:u.width,height:ue(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,m=d.height,g=d.syncWithTicks,v=d.horizontalValues,y=d.verticalValues,b=pre(),x=mre();if(!ue(p)||p<=0||!ue(m)||m<=0||!ue(f)||f!==+f||!ue(h)||h!==+h)return null;var S=d.verticalCoordinatesGenerator||Ane,j=d.horizontalCoordinatesGenerator||One,w=d.horizontalPoints,C=d.verticalPoints;if((!w||!w.length)&&Ne(j)){var k=v&&v.length,N=j({yAxis:x?Ft(Ft({},x),{},{ticks:k?v:x.ticks}):void 0,width:l,height:c,offset:u},k?!0:g);tn(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Si(N),"]")),Array.isArray(N)&&(w=N)}if((!C||!C.length)&&Ne(S)){var M=y&&y.length,R=S({xAxis:b?Ft(Ft({},b),{},{ticks:M?y:b.ticks}):void 0,width:l,height:c,offset:u},M?!0:g);tn(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Si(R),"]")),Array.isArray(R)&&(C=R)}return G.createElement("g",{className:"recharts-cartesian-grid"},G.createElement(Sne,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),G.createElement(Nne,oi({},d,{offset:u,horizontalPoints:w,xAxis:b,yAxis:x})),G.createElement(kne,oi({},d,{offset:u,verticalPoints:C,xAxis:b,yAxis:x})),G.createElement(Pne,oi({},d,{horizontalPoints:w})),G.createElement(Cne,oi({},d,{verticalPoints:C})))}zA.displayName="CartesianGrid";var Ene=["type","layout","connectNulls","ref"],Tne=["key"];function Qo(e){"@babel/helpers - typeof";return Qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qo(e)}function W2(e,t){if(e==null)return{};var r=$ne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $ne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ml(){return ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ml.apply(this,arguments)}function H2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H2(Object(r),!0).forEach(function(n){Kr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qi(e){return Dne(e)||Rne(e)||Ine(e)||Mne()}function Mne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ine(e,t){if(e){if(typeof e=="string")return Ly(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ly(e,t)}}function Rne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dne(e){if(Array.isArray(e))return Ly(e)}function Ly(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WA(n.key),n)}}function Une(e,t,r){return t&&V2(e.prototype,t),r&&V2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fne(e,t,r){return t=gf(t),Bne(e,qA()?Reflect.construct(t,r||[],gf(e).constructor):t.apply(e,r))}function Bne(e,t){if(t&&(Qo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zne(e)}function zne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qA=function(){return!!e})()}function gf(e){return gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gf(e)}function qne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uy(e,t)}function Uy(e,t){return Uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Uy(e,t)}function Kr(e,t,r){return t=WA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WA(e){var t=Wne(e,"string");return Qo(t)=="symbol"?t:t+""}function Wne(e,t){if(Qo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var un=function(e){function t(){var r;Lne(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Fne(this,t,[].concat(a)),Kr(r,"state",{isAnimationFinished:!0,totalLength:0}),Kr(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Kr(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(y,b){return y+b});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,p=[],m=0,g=0;m<c.length;g+=c[m],++m)if(g+c[m]>f){p=[].concat(qi(c.slice(0,m)),[f-g]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(qi(t.repeat(c,d)),qi(p),v).map(function(y){return"".concat(y,"px")}).join(", ")}),Kr(r,"id",ps("recharts-line-")),Kr(r,"pathRef",function(o){r.mainCurve=o}),Kr(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Kr(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return qne(t,e),Une(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=vr(d,zc);if(!f)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:xt(g.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return G.createElement($e,p,f.map(function(m){return G.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=we(this.props,!1),h=we(c,!0),p=u.map(function(g,v){var y=cr(cr(cr({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return t.renderDotItem(c,y)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return G.createElement($e,ml({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=W2(l,Ene),h=cr(cr(cr({},we(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return G.createElement(Qd,ml({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,m=o.animateNewValues,g=o.width,v=o.height,y=this.state,b=y.prevPoints,x=y.totalLength;return G.createElement(wn,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var j=S.t;if(b){var w=b.length/l.length,C=l.map(function(B,U){var $=Math.floor(U*w);if(b[$]){var I=b[$],A=hr(I.x,B.x),_=hr(I.y,B.y);return cr(cr({},B),{},{x:A(j),y:_(j)})}if(m){var P=hr(g*2,B.x),O=hr(v/2,B.y);return cr(cr({},B),{},{x:P(j),y:O(j)})}return cr(cr({},B),{},{x:B.x,y:B.y})});return i.renderCurveStatically(C,n,a)}var k=hr(0,x),N=k(j),M;if(c){var R="".concat(c).split(/[,\s]+/gim).map(function(B){return parseFloat(B)});M=i.getStrokeDasharray(N,x,R)}else M=i.generateSimpleStrokeDasharray(x,N);return i.renderCurveStatically(l,n,a,{strokeDasharray:M})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Bc(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,p=a.width,m=a.height,g=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var y=this.state.isAnimationFinished,b=l.length===1,x=Ce("recharts-line",c),S=u&&u.allowDataOverflow,j=d&&d.allowDataOverflow,w=S||j,C=ke(v)?this.id:v,k=(n=we(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},N=k.r,M=N===void 0?3:N,R=k.strokeWidth,B=R===void 0?2:R,U=dD(o)?o:{},$=U.clipDot,I=$===void 0?!0:$,A=M*2+B;return G.createElement($e,{className:x},S||j?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(C)},G.createElement("rect",{x:S?h:h-p/2,y:j?f:f-m/2,width:S?p:p*2,height:j?m:m*2})),!I&&G.createElement("clipPath",{id:"clipPath-dots-".concat(C)},G.createElement("rect",{x:h-A/2,y:f-A/2,width:p+A,height:m+A}))):null,!b&&this.renderCurve(w,C),this.renderErrorBar(w,C),(b||o)&&this.renderDots(w,I,C),(!g||y)&&Fn.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(qi(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(qi(o),qi(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(G.isValidElement(n))i=G.cloneElement(n,a);else if(Ne(n))i=n(a);else{var o=a.key,l=W2(a,Tne),c=Ce("recharts-line-dot",typeof n!="boolean"?n.className:"");i=G.createElement(Rh,ml({key:o},l,{className:c}))}return i}}])}(T.PureComponent);Kr(un,"displayName","Line");Kr(un,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!gn.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Kr(un,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var m=xt(h,o);return d==="horizontal"?{x:g_({axis:r,ticks:a,bandSize:l,entry:h,index:p}),y:ke(m)?null:n.scale(m),value:m,payload:h}:{x:ke(m)?null:r.scale(m),y:g_({axis:n,ticks:i,bandSize:l,entry:h,index:p}),value:m,payload:h}});return cr({points:f,layout:d},u)});function Yo(e){"@babel/helpers - typeof";return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yo(e)}function Hne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GA(n.key),n)}}function Gne(e,t,r){return t&&Vne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kne(e,t,r){return t=yf(t),Qne(e,HA()?Reflect.construct(t,r||[],yf(e).constructor):t.apply(e,r))}function Qne(e,t){if(t&&(Yo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yne(e)}function Yne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HA=function(){return!!e})()}function yf(e){return yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yf(e)}function Xne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fy(e,t)}function Fy(e,t){return Fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fy(e,t)}function VA(e,t,r){return t=GA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GA(e){var t=Jne(e,"string");return Yo(t)=="symbol"?t:t+""}function Jne(e,t){if(Yo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(this,arguments)}function Zne(e){var t=e.xAxisId,r=ux(),n=dx(),a=OA(t);return a==null?null:T.createElement(ws,By({},a,{className:Ce("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return In(o,!0)}}))}var Kh=function(e){function t(){return Hne(this,t),Kne(this,t,arguments)}return Xne(t,e),Gne(t,[{key:"render",value:function(){return T.createElement(Zne,this.props)}}])}(T.Component);VA(Kh,"displayName","XAxis");VA(Kh,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Xo(e){"@babel/helpers - typeof";return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xo(e)}function eae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YA(n.key),n)}}function rae(e,t,r){return t&&tae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nae(e,t,r){return t=vf(t),aae(e,KA()?Reflect.construct(t,r||[],vf(e).constructor):t.apply(e,r))}function aae(e,t){if(t&&(Xo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iae(e)}function iae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KA=function(){return!!e})()}function vf(e){return vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vf(e)}function oae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zy(e,t)}function zy(e,t){return zy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zy(e,t)}function QA(e,t,r){return t=YA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YA(e){var t=sae(e,"string");return Xo(t)=="symbol"?t:t+""}function sae(e,t){if(Xo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qy.apply(this,arguments)}var lae=function(t){var r=t.yAxisId,n=ux(),a=dx(),i=EA(r);return i==null?null:T.createElement(ws,qy({},i,{className:Ce("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return In(l,!0)}}))},Qh=function(e){function t(){return eae(this,t),nae(this,t,arguments)}return oae(t,e),rae(t,[{key:"render",value:function(){return T.createElement(lae,this.props)}}])}(T.Component);QA(Qh,"displayName","YAxis");QA(Qh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function G2(e){return fae(e)||dae(e)||uae(e)||cae()}function cae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uae(e,t){if(e){if(typeof e=="string")return Wy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wy(e,t)}}function dae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fae(e){if(Array.isArray(e))return Wy(e)}function Wy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Hy=function(t,r,n,a,i){var o=vr(t,hx),l=vr(t,Hh),c=[].concat(G2(o),G2(l)),u=vr(t,Gh),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(g,v){if(v.props[d]===n&&vn(v.props,"extendDomain")&&ue(v.props[f])){var y=v.props[f];return[Math.min(g[0],y),Math.max(g[1],y)]}return g},h)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");h=u.reduce(function(g,v){if(v.props[d]===n&&vn(v.props,"extendDomain")&&ue(v.props[p])&&ue(v.props[m])){var y=v.props[p],b=v.props[m];return[Math.min(g[0],y,b),Math.max(g[1],y,b)]}return g},h)}return i&&i.length&&(h=i.reduce(function(g,v){return ue(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},XA={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],p]:c._events[m].push(p):(c._events[m]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,m){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],y=arguments.length,b,x;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,m),!0}for(x=1,b=new Array(y-1);x<y;x++)b[x-1]=arguments[x];v.fn.apply(v.context,b)}else{var S=v.length,j;for(x=0;x<S;x++)switch(v[x].once&&this.removeListener(u,v[x].fn,void 0,!0),y){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,d);break;case 3:v[x].fn.call(v[x].context,d,f);break;case 4:v[x].fn.call(v[x].context,d,f,h);break;default:if(!b)for(j=1,b=new Array(y-1);j<y;j++)b[j-1]=arguments[j];v[x].fn.apply(v[x].context,b)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&o(this,p);else{for(var g=0,v=[],y=m.length;g<y;g++)(m[g].fn!==d||h&&!m[g].once||f&&m[g].context!==f)&&v.push(m[g]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(XA);var hae=XA.exports;const pae=De(hae);var om=new pae,sm="recharts.syncMouseEvents";function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}function mae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JA(n.key),n)}}function yae(e,t,r){return t&&gae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lm(e,t,r){return t=JA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JA(e){var t=vae(e,"string");return xc(t)=="symbol"?t:t+""}function vae(e,t){if(xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xae=function(){function e(){mae(this,e),lm(this,"activeIndex",0),lm(this,"coordinateList",[]),lm(this,"layout","horizontal")}return yae(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function bae(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&ue(n)&&ue(a))return!0}return!1}function wae(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function ZA(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Qe(t,r,n,a),l=Qe(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function _ae(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Qe(l,c,u,f),p=Qe(l,c,d,f);n=h.x,a=h.y,i=p.x,o=p.y}else return ZA(t);return[{x:n,y:a},{x:i,y:o}]}function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function K2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Su(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K2(Object(r),!0).forEach(function(n){jae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jae(e,t,r){return t=Sae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sae(e){var t=Nae(e,"string");return bc(t)=="symbol"?t:t+""}function Nae(e,t){if(bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kae(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var m,g=Qd;if(h==="ScatterChart")m=o,g=qJ;else if(h==="BarChart")m=wae(f,o,c,d),g=ox;else if(f==="radial"){var v=ZA(o),y=v.cx,b=v.cy,x=v.radius,S=v.startAngle,j=v.endAngle;m={cx:y,cy:b,startAngle:S,endAngle:j,innerRadius:x,outerRadius:x},g=QC}else m={points:_ae(f,o,c)},g=Qd;var w=Su(Su(Su(Su({stroke:"#ccc",pointerEvents:"none"},c),m),we(p,!1)),{},{payload:l,payloadIndex:u,className:Ce("recharts-tooltip-cursor",p.className)});return T.isValidElement(p)?T.cloneElement(p,w):T.createElement(g,w)}var Pae=["item"],Cae=["children","className","width","height","style","compact","title","desc"];function Jo(e){"@babel/helpers - typeof";return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jo(e)}function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lo.apply(this,arguments)}function Q2(e,t){return Eae(e)||Oae(e,t)||tO(e,t)||Aae()}function Aae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Eae(e){if(Array.isArray(e))return e}function Y2(e,t){if(e==null)return{};var r=Tae(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rO(n.key),n)}}function Iae(e,t,r){return t&&Mae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rae(e,t,r){return t=xf(t),Dae(e,eO()?Reflect.construct(t,r||[],xf(e).constructor):t.apply(e,r))}function Dae(e,t){if(t&&(Jo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lae(e)}function Lae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eO=function(){return!!e})()}function xf(e){return xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xf(e)}function Uae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vy(e,t)}function Vy(e,t){return Vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vy(e,t)}function Zo(e){return zae(e)||Bae(e)||tO(e)||Fae()}function Fae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tO(e,t){if(e){if(typeof e=="string")return Gy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gy(e,t)}}function Bae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zae(e){if(Array.isArray(e))return Gy(e)}function Gy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X2(Object(r),!0).forEach(function(n){je(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function je(e,t,r){return t=rO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rO(e){var t=qae(e,"string");return Jo(t)=="symbol"?t:t+""}function qae(e,t){if(Jo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wae={xAxis:["bottom","top"],yAxis:["left","right"]},Hae={width:"100%",height:"100%"},nO={x:0,y:0};function Nu(e){return e}var Vae=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Gae=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return ie(ie(ie({},a),Qe(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return ie(ie(ie({},a),Qe(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return nO},Yh=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Zo(l),Zo(u)):l},[]);return o.length>0?o:t&&t.length&&ue(a)&&ue(i)?t.slice(a,i+1):[]};function aO(e){return e==="number"?[0,"auto"]:void 0}var Ky=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=Yh(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=vd(p,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Zo(c),[qC(u,h)]):c},[])},J2=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=Vae(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=fQ(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=Ky(t,r,d,f),p=Gae(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},Kae=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=DC(d,i);return n.reduce(function(m,g){var v,y=g.type.defaultProps!==void 0?ie(ie({},g.type.defaultProps),g.props):g.props,b=y.type,x=y.dataKey,S=y.allowDataOverflow,j=y.allowDuplicatedCategory,w=y.scale,C=y.ticks,k=y.includeHidden,N=y[o];if(m[N])return m;var M=Yh(t.data,{graphicalItems:a.filter(function(F){var W,z=o in F.props?F.props[o]:(W=F.type.defaultProps)===null||W===void 0?void 0:W[o];return z===N}),dataStartIndex:c,dataEndIndex:u}),R=M.length,B,U,$;bae(y.domain,S,b)&&(B=ly(y.domain,null,S),p&&(b==="number"||w!=="auto")&&($=dl(M,x,"category")));var I=aO(b);if(!B||B.length===0){var A,_=(A=y.domain)!==null&&A!==void 0?A:I;if(x){if(B=dl(M,x,b),b==="category"&&p){var P=tD(B);j&&P?(U=B,B=of(0,R)):j||(B=b_(_,B,g).reduce(function(F,W){return F.indexOf(W)>=0?F:[].concat(Zo(F),[W])},[]))}else if(b==="category")j?B=B.filter(function(F){return F!==""&&!ke(F)}):B=b_(_,B,g).reduce(function(F,W){return F.indexOf(W)>=0||W===""||ke(W)?F:[].concat(Zo(F),[W])},[]);else if(b==="number"){var O=yQ(M,a.filter(function(F){var W,z,K=o in F.props?F.props[o]:(W=F.type.defaultProps)===null||W===void 0?void 0:W[o],Y="hide"in F.props?F.props.hide:(z=F.type.defaultProps)===null||z===void 0?void 0:z.hide;return K===N&&(k||!Y)}),x,i,d);O&&(B=O)}p&&(b==="number"||w!=="auto")&&($=dl(M,x,"category"))}else p?B=of(0,R):l&&l[N]&&l[N].hasStack&&b==="number"?B=h==="expand"?[0,1]:zC(l[N].stackGroups,c,u):B=RC(M,a.filter(function(F){var W=o in F.props?F.props[o]:F.type.defaultProps[o],z="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return W===N&&(k||!z)}),b,d,!0);if(b==="number")B=Hy(f,B,N,i,C),_&&(B=ly(_,B,S));else if(b==="category"&&_){var E=_,D=B.every(function(F){return E.indexOf(F)>=0});D&&(B=E)}}return ie(ie({},m),{},je({},N,ie(ie({},y),{},{axisType:i,domain:B,categoricalDomain:$,duplicateDomain:U,originalDomain:(v=y.domain)!==null&&v!==void 0?v:I,isCategorical:p,layout:d})))},{})},Qae=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Yh(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,m=DC(d,i),g=-1;return n.reduce(function(v,y){var b=y.type.defaultProps!==void 0?ie(ie({},y.type.defaultProps),y.props):y.props,x=b[o],S=aO("number");if(!v[x]){g++;var j;return m?j=of(0,p):l&&l[x]&&l[x].hasStack?(j=zC(l[x].stackGroups,c,u),j=Hy(f,j,x,i)):(j=ly(S,RC(h,n.filter(function(w){var C,k,N=o in w.props?w.props[o]:(C=w.type.defaultProps)===null||C===void 0?void 0:C[o],M="hide"in w.props?w.props.hide:(k=w.type.defaultProps)===null||k===void 0?void 0:k.hide;return N===x&&!M}),"number",d),a.defaultProps.allowDataOverflow),j=Hy(f,j,x,i)),ie(ie({},v),{},je({},x,ie(ie({axisType:i},a.defaultProps),{},{hide:!0,orientation:yr(Wae,"".concat(i,".").concat(g%2),null),domain:j,originalDomain:S,isCategorical:m,layout:d})))}return v},{})},Yae=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=vr(d,i),p={};return h&&h.length?p=Kae(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=Qae(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},Xae=function(t){var r=da(t),n=In(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:$v(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Vd(r,n)}},Z2=function(t){var r=t.children,n=t.defaultShowTooltip,a=fr(r,qo),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Jae=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ln(r&&r.type);return n&&n.indexOf("Bar")>=0})},ej=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Zae=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=fr(f,qo),m=fr(f,di),g=Object.keys(c).reduce(function(j,w){var C=c[w],k=C.orientation;return!C.mirror&&!C.hide?ie(ie({},j),{},je({},k,j[k]+C.width)):j},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(j,w){var C=o[w],k=C.orientation;return!C.mirror&&!C.hide?ie(ie({},j),{},je({},k,yr(j,"".concat(k))+C.height)):j},{top:h.top||0,bottom:h.bottom||0}),y=ie(ie({},v),g),b=y.bottom;p&&(y.bottom+=p.props.height||qo.defaultProps.height),m&&r&&(y=mQ(y,a,n,r));var x=u-y.left-y.right,S=d-y.top-y.bottom;return ie(ie({brushBottom:b},y),{},{width:Math.max(x,0),height:Math.max(S,0)})},eie=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},iO=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,b){var x=b.graphicalItems,S=b.stackGroups,j=b.offset,w=b.updateId,C=b.dataStartIndex,k=b.dataEndIndex,N=y.barSize,M=y.layout,R=y.barGap,B=y.barCategoryGap,U=y.maxBarSize,$=ej(M),I=$.numericAxisName,A=$.cateAxisName,_=Jae(x),P=[];return x.forEach(function(O,E){var D=Yh(y.data,{graphicalItems:[O],dataStartIndex:C,dataEndIndex:k}),F=O.type.defaultProps!==void 0?ie(ie({},O.type.defaultProps),O.props):O.props,W=F.dataKey,z=F.maxBarSize,K=F["".concat(I,"Id")],Y=F["".concat(A,"Id")],J={},Z=c.reduce(function(re,le){var de=b["".concat(le.axisType,"Map")],fe=F["".concat(le.axisType,"Id")];de&&de[fe]||le.axisType==="zAxis"||ji();var ge=de[fe];return ie(ie({},re),{},je(je({},le.axisType,ge),"".concat(le.axisType,"Ticks"),In(ge)))},J),X=Z[A],ne=Z["".concat(A,"Ticks")],te=S&&S[K]&&S[K].hasStack&&kQ(O,S[K].stackGroups),L=Ln(O.type).indexOf("Bar")>=0,V=Vd(X,ne),q=[],Q=_&&hQ({barSize:N,stackGroups:S,totalSize:eie(Z,A)});if(L){var H,ae,se=ke(z)?U:z,he=(H=(ae=Vd(X,ne,!0))!==null&&ae!==void 0?ae:se)!==null&&H!==void 0?H:0;q=pQ({barGap:R,barCategoryGap:B,bandSize:he!==V?he:V,sizeList:Q[Y],maxBarSize:se}),he!==V&&(q=q.map(function(re){return ie(ie({},re),{},{position:ie(ie({},re.position),{},{offset:re.position.offset-he/2})})}))}var xe=O&&O.type&&O.type.getComposedData;xe&&P.push({props:ie(ie({},xe(ie(ie({},Z),{},{displayedData:D,props:y,dataKey:W,item:O,bandSize:V,barPosition:q,offset:j,stackedData:te,layout:M,dataStartIndex:C,dataEndIndex:k}))),{},je(je(je({key:O.key||"item-".concat(E)},I,Z[I]),A,Z[A]),"animationId",w)),childIndex:pD(O,y.children),item:O})}),P},p=function(y,b){var x=y.props,S=y.dataStartIndex,j=y.dataEndIndex,w=y.updateId;if(!fw({props:x}))return null;var C=x.children,k=x.layout,N=x.stackOffset,M=x.data,R=x.reverseStackOrder,B=ej(k),U=B.numericAxisName,$=B.cateAxisName,I=vr(C,n),A=SQ(M,I,"".concat(U,"Id"),"".concat($,"Id"),N,R),_=c.reduce(function(F,W){var z="".concat(W.axisType,"Map");return ie(ie({},F),{},je({},z,Yae(x,ie(ie({},W),{},{graphicalItems:I,stackGroups:W.axisType===U&&A,dataStartIndex:S,dataEndIndex:j}))))},{}),P=Zae(ie(ie({},_),{},{props:x,graphicalItems:I}),b==null?void 0:b.legendBBox);Object.keys(_).forEach(function(F){_[F]=d(x,_[F],P,F.replace("Map",""),r)});var O=_["".concat($,"Map")],E=Xae(O),D=h(x,ie(ie({},_),{},{dataStartIndex:S,dataEndIndex:j,updateId:w,graphicalItems:I,stackGroups:A,offset:P}));return ie(ie({formattedGraphicalItems:D,graphicalItems:I,offset:P,stackGroups:A},E),_)},m=function(v){function y(b){var x,S,j;return $ae(this,y),j=Rae(this,y,[b]),je(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),je(j,"accessibilityManager",new xae),je(j,"handleLegendBBoxUpdate",function(w){if(w){var C=j.state,k=C.dataStartIndex,N=C.dataEndIndex,M=C.updateId;j.setState(ie({legendBBox:w},p({props:j.props,dataStartIndex:k,dataEndIndex:N,updateId:M},ie(ie({},j.state),{},{legendBBox:w}))))}}),je(j,"handleReceiveSyncEvent",function(w,C,k){if(j.props.syncId===w){if(k===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(C)}}),je(j,"handleBrushChange",function(w){var C=w.startIndex,k=w.endIndex;if(C!==j.state.dataStartIndex||k!==j.state.dataEndIndex){var N=j.state.updateId;j.setState(function(){return ie({dataStartIndex:C,dataEndIndex:k},p({props:j.props,dataStartIndex:C,dataEndIndex:k,updateId:N},j.state))}),j.triggerSyncEvent({dataStartIndex:C,dataEndIndex:k})}}),je(j,"handleMouseEnter",function(w){var C=j.getMouseInfo(w);if(C){var k=ie(ie({},C),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var N=j.props.onMouseEnter;Ne(N)&&N(k,w)}}),je(j,"triggeredAfterMouseMove",function(w){var C=j.getMouseInfo(w),k=C?ie(ie({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var N=j.props.onMouseMove;Ne(N)&&N(k,w)}),je(j,"handleItemMouseEnter",function(w){j.setState(function(){return{isTooltipActive:!0,activeItem:w,activePayload:w.tooltipPayload,activeCoordinate:w.tooltipPosition||{x:w.cx,y:w.cy}}})}),je(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),je(j,"handleMouseMove",function(w){w.persist(),j.throttleTriggeredAfterMouseMove(w)}),je(j,"handleMouseLeave",function(w){j.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};j.setState(C),j.triggerSyncEvent(C);var k=j.props.onMouseLeave;Ne(k)&&k(C,w)}),je(j,"handleOuterEvent",function(w){var C=hD(w),k=yr(j.props,"".concat(C));if(C&&Ne(k)){var N,M;/.*touch.*/i.test(C)?M=j.getMouseInfo(w.changedTouches[0]):M=j.getMouseInfo(w),k((N=M)!==null&&N!==void 0?N:{},w)}}),je(j,"handleClick",function(w){var C=j.getMouseInfo(w);if(C){var k=ie(ie({},C),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var N=j.props.onClick;Ne(N)&&N(k,w)}}),je(j,"handleMouseDown",function(w){var C=j.props.onMouseDown;if(Ne(C)){var k=j.getMouseInfo(w);C(k,w)}}),je(j,"handleMouseUp",function(w){var C=j.props.onMouseUp;if(Ne(C)){var k=j.getMouseInfo(w);C(k,w)}}),je(j,"handleTouchMove",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(w.changedTouches[0])}),je(j,"handleTouchStart",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&j.handleMouseDown(w.changedTouches[0])}),je(j,"handleTouchEnd",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&j.handleMouseUp(w.changedTouches[0])}),je(j,"handleDoubleClick",function(w){var C=j.props.onDoubleClick;if(Ne(C)){var k=j.getMouseInfo(w);C(k,w)}}),je(j,"handleContextMenu",function(w){var C=j.props.onContextMenu;if(Ne(C)){var k=j.getMouseInfo(w);C(k,w)}}),je(j,"triggerSyncEvent",function(w){j.props.syncId!==void 0&&om.emit(sm,j.props.syncId,w,j.eventEmitterSymbol)}),je(j,"applySyncEvent",function(w){var C=j.props,k=C.layout,N=C.syncMethod,M=j.state.updateId,R=w.dataStartIndex,B=w.dataEndIndex;if(w.dataStartIndex!==void 0||w.dataEndIndex!==void 0)j.setState(ie({dataStartIndex:R,dataEndIndex:B},p({props:j.props,dataStartIndex:R,dataEndIndex:B,updateId:M},j.state)));else if(w.activeTooltipIndex!==void 0){var U=w.chartX,$=w.chartY,I=w.activeTooltipIndex,A=j.state,_=A.offset,P=A.tooltipTicks;if(!_)return;if(typeof N=="function")I=N(P,w);else if(N==="value"){I=-1;for(var O=0;O<P.length;O++)if(P[O].value===w.activeLabel){I=O;break}}var E=ie(ie({},_),{},{x:_.left,y:_.top}),D=Math.min(U,E.x+E.width),F=Math.min($,E.y+E.height),W=P[I]&&P[I].value,z=Ky(j.state,j.props.data,I),K=P[I]?{x:k==="horizontal"?P[I].coordinate:D,y:k==="horizontal"?F:P[I].coordinate}:nO;j.setState(ie(ie({},w),{},{activeLabel:W,activeCoordinate:K,activePayload:z,activeTooltipIndex:I}))}else j.setState(w)}),je(j,"renderCursor",function(w){var C,k=j.state,N=k.isTooltipActive,M=k.activeCoordinate,R=k.activePayload,B=k.offset,U=k.activeTooltipIndex,$=k.tooltipAxisBandSize,I=j.getTooltipEventType(),A=(C=w.props.active)!==null&&C!==void 0?C:N,_=j.props.layout,P=w.key||"_recharts-cursor";return G.createElement(kae,{key:P,activeCoordinate:M,activePayload:R,activeTooltipIndex:U,chartName:r,element:w,isActive:A,layout:_,offset:B,tooltipAxisBandSize:$,tooltipEventType:I})}),je(j,"renderPolarAxis",function(w,C,k){var N=yr(w,"type.axisType"),M=yr(j.state,"".concat(N,"Map")),R=w.type.defaultProps,B=R!==void 0?ie(ie({},R),w.props):w.props,U=M&&M[B["".concat(N,"Id")]];return T.cloneElement(w,ie(ie({},U),{},{className:Ce(N,U.className),key:w.key||"".concat(C,"-").concat(k),ticks:In(U,!0)}))}),je(j,"renderPolarGrid",function(w){var C=w.props,k=C.radialLines,N=C.polarAngles,M=C.polarRadius,R=j.state,B=R.radiusAxisMap,U=R.angleAxisMap,$=da(B),I=da(U),A=I.cx,_=I.cy,P=I.innerRadius,O=I.outerRadius;return T.cloneElement(w,{polarAngles:Array.isArray(N)?N:In(I,!0).map(function(E){return E.coordinate}),polarRadius:Array.isArray(M)?M:In($,!0).map(function(E){return E.coordinate}),cx:A,cy:_,innerRadius:P,outerRadius:O,key:w.key||"polar-grid",radialLines:k})}),je(j,"renderLegend",function(){var w=j.state.formattedGraphicalItems,C=j.props,k=C.children,N=C.width,M=C.height,R=j.props.margin||{},B=N-(R.left||0)-(R.right||0),U=MC({children:k,formattedGraphicalItems:w,legendWidth:B,legendContent:u});if(!U)return null;var $=U.item,I=Y2(U,Pae);return T.cloneElement($,ie(ie({},I),{},{chartWidth:N,chartHeight:M,margin:R,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),je(j,"renderTooltip",function(){var w,C=j.props,k=C.children,N=C.accessibilityLayer,M=fr(k,Vr);if(!M)return null;var R=j.state,B=R.isTooltipActive,U=R.activeCoordinate,$=R.activePayload,I=R.activeLabel,A=R.offset,_=(w=M.props.active)!==null&&w!==void 0?w:B;return T.cloneElement(M,{viewBox:ie(ie({},A),{},{x:A.left,y:A.top}),active:_,label:I,payload:_?$:[],coordinate:U,accessibilityLayer:N})}),je(j,"renderBrush",function(w){var C=j.props,k=C.margin,N=C.data,M=j.state,R=M.offset,B=M.dataStartIndex,U=M.dataEndIndex,$=M.updateId;return T.cloneElement(w,{key:w.key||"_recharts-brush",onChange:bu(j.handleBrushChange,w.props.onChange),data:N,x:ue(w.props.x)?w.props.x:R.left,y:ue(w.props.y)?w.props.y:R.top+R.height+R.brushBottom-(k.bottom||0),width:ue(w.props.width)?w.props.width:R.width,startIndex:B,endIndex:U,updateId:"brush-".concat($)})}),je(j,"renderReferenceElement",function(w,C,k){if(!w)return null;var N=j,M=N.clipPathId,R=j.state,B=R.xAxisMap,U=R.yAxisMap,$=R.offset,I=w.type.defaultProps||{},A=w.props,_=A.xAxisId,P=_===void 0?I.xAxisId:_,O=A.yAxisId,E=O===void 0?I.yAxisId:O;return T.cloneElement(w,{key:w.key||"".concat(C,"-").concat(k),xAxis:B[P],yAxis:U[E],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:M})}),je(j,"renderActivePoints",function(w){var C=w.item,k=w.activePoint,N=w.basePoint,M=w.childIndex,R=w.isRange,B=[],U=C.props.key,$=C.item.type.defaultProps!==void 0?ie(ie({},C.item.type.defaultProps),C.item.props):C.item.props,I=$.activeDot,A=$.dataKey,_=ie(ie({index:M,dataKey:A,cx:k.x,cy:k.y,r:4,fill:ix(C.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},we(I,!1)),xd(I));return B.push(y.renderActiveDot(I,_,"".concat(U,"-activePoint-").concat(M))),N?B.push(y.renderActiveDot(I,ie(ie({},_),{},{cx:N.x,cy:N.y}),"".concat(U,"-basePoint-").concat(M))):R&&B.push(null),B}),je(j,"renderGraphicChild",function(w,C,k){var N=j.filterFormatItem(w,C,k);if(!N)return null;var M=j.getTooltipEventType(),R=j.state,B=R.isTooltipActive,U=R.tooltipAxis,$=R.activeTooltipIndex,I=R.activeLabel,A=j.props.children,_=fr(A,Vr),P=N.props,O=P.points,E=P.isRange,D=P.baseLine,F=N.item.type.defaultProps!==void 0?ie(ie({},N.item.type.defaultProps),N.item.props):N.item.props,W=F.activeDot,z=F.hide,K=F.activeBar,Y=F.activeShape,J=!!(!z&&B&&_&&(W||K||Y)),Z={};M!=="axis"&&_&&_.props.trigger==="click"?Z={onClick:bu(j.handleItemMouseEnter,w.props.onClick)}:M!=="axis"&&(Z={onMouseLeave:bu(j.handleItemMouseLeave,w.props.onMouseLeave),onMouseEnter:bu(j.handleItemMouseEnter,w.props.onMouseEnter)});var X=T.cloneElement(w,ie(ie({},N.props),Z));function ne(le){return typeof U.dataKey=="function"?U.dataKey(le.payload):null}if(J)if($>=0){var te,L;if(U.dataKey&&!U.allowDuplicatedCategory){var V=typeof U.dataKey=="function"?ne:"payload.".concat(U.dataKey.toString());te=vd(O,V,I),L=E&&D&&vd(D,V,I)}else te=O==null?void 0:O[$],L=E&&D&&D[$];if(Y||K){var q=w.props.activeIndex!==void 0?w.props.activeIndex:$;return[T.cloneElement(w,ie(ie(ie({},N.props),Z),{},{activeIndex:q})),null,null]}if(!ke(te))return[X].concat(Zo(j.renderActivePoints({item:N,activePoint:te,basePoint:L,childIndex:$,isRange:E})))}else{var Q,H=(Q=j.getItemByXY(j.state.activeCoordinate))!==null&&Q!==void 0?Q:{graphicalItem:X},ae=H.graphicalItem,se=ae.item,he=se===void 0?w:se,xe=ae.childIndex,re=ie(ie(ie({},N.props),Z),{},{activeIndex:xe});return[T.cloneElement(he,re),null,null]}return E?[X,null,null]:[X,null]}),je(j,"renderCustomized",function(w,C,k){return T.cloneElement(w,ie(ie({key:"recharts-customized-".concat(k)},j.props),j.state))}),je(j,"renderMap",{CartesianGrid:{handler:Nu,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Nu},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Nu},YAxis:{handler:Nu},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((x=b.id)!==null&&x!==void 0?x:ps("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=$P(j.triggeredAfterMouseMove,(S=b.throttleDelay)!==null&&S!==void 0?S:1e3/60),j.state={},j}return Uae(y,v),Iae(y,[{key:"componentDidMount",value:function(){var x,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,S=x.children,j=x.data,w=x.height,C=x.layout,k=fr(S,Vr);if(k){var N=k.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,R=Ky(this.state,j,N,M),B=this.state.tooltipTicks[N].coordinate,U=(this.state.offset.top+w)/2,$=C==="horizontal",I=$?{x:B,y:U}:{y:B,x:U},A=this.state.formattedGraphicalItems.find(function(P){var O=P.item;return O.type.name==="Scatter"});A&&(I=ie(ie({},I),A.props.points[N].tooltipPosition),R=A.props.points[N].tooltipPayload);var _={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:M,activePayload:R,activeCoordinate:I};this.setState(_),this.renderCursor(k),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var j,w;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0}})}return null}},{key:"componentDidUpdate",value:function(x){jg([fr(x.children,Vr)],[fr(this.props.children,Vr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=fr(this.props.children,Vr);if(x&&typeof x.props.shared=="boolean"){var S=x.props.shared?"axis":"item";return l.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var S=this.container,j=S.getBoundingClientRect(),w=FW(j),C={chartX:Math.round(x.pageX-w.left),chartY:Math.round(x.pageY-w.top)},k=j.width/S.offsetWidth||1,N=this.inRange(C.chartX,C.chartY,k);if(!N)return null;var M=this.state,R=M.xAxisMap,B=M.yAxisMap,U=this.getTooltipEventType(),$=J2(this.state,this.props.data,this.props.layout,N);if(U!=="axis"&&R&&B){var I=da(R).scale,A=da(B).scale,_=I&&I.invert?I.invert(C.chartX):null,P=A&&A.invert?A.invert(C.chartY):null;return ie(ie({},C),{},{xValue:_,yValue:P},$)}return $?ie(ie({},C),$):null}},{key:"inRange",value:function(x,S){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=this.props.layout,C=x/j,k=S/j;if(w==="horizontal"||w==="vertical"){var N=this.state.offset,M=C>=N.left&&C<=N.left+N.width&&k>=N.top&&k<=N.top+N.height;return M?{x:C,y:k}:null}var R=this.state,B=R.angleAxisMap,U=R.radiusAxisMap;if(B&&U){var $=da(B);return j_({x:C,y:k},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,S=this.getTooltipEventType(),j=fr(x,Vr),w={};j&&S==="axis"&&(j.props.trigger==="click"?w={onClick:this.handleClick}:w={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=xd(this.props,this.handleOuterEvent);return ie(ie({},C),w)}},{key:"addListener",value:function(){om.on(sm,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){om.removeListener(sm,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,S,j){for(var w=this.state.formattedGraphicalItems,C=0,k=w.length;C<k;C++){var N=w[C];if(N.item===x||N.props.key===x.key||S===Ln(N.item.type)&&j===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,S=this.state.offset,j=S.left,w=S.top,C=S.height,k=S.width;return G.createElement("defs",null,G.createElement("clipPath",{id:x},G.createElement("rect",{x:j,y:w,height:C,width:k})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(S,j){var w=Q2(j,2),C=w[0],k=w[1];return ie(ie({},S),{},je({},C,k.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(S,j){var w=Q2(j,2),C=w[0],k=w[1];return ie(ie({},S),{},je({},C,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[x])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(x){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[x])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(x){var S=this.state,j=S.formattedGraphicalItems,w=S.activeItem;if(j&&j.length)for(var C=0,k=j.length;C<k;C++){var N=j[C],M=N.props,R=N.item,B=R.type.defaultProps!==void 0?ie(ie({},R.type.defaultProps),R.props):R.props,U=Ln(R.type);if(U==="Bar"){var $=(M.data||[]).find(function(P){return jJ(x,P)});if($)return{graphicalItem:N,payload:$}}else if(U==="RadialBar"){var I=(M.data||[]).find(function(P){return j_(x,P)});if(I)return{graphicalItem:N,payload:I}}else if(Bh(N,w)||zh(N,w)||pc(N,w)){var A=dee({graphicalItem:N,activeTooltipItem:w,itemData:B.data}),_=B.activeIndex===void 0?A:B.activeIndex;return{graphicalItem:ie(ie({},N),{},{childIndex:_}),payload:pc(N,w)?B.data[A]:N.props.data[A]}}}return null}},{key:"render",value:function(){var x=this;if(!fw(this))return null;var S=this.props,j=S.children,w=S.className,C=S.width,k=S.height,N=S.style,M=S.compact,R=S.title,B=S.desc,U=Y2(S,Cae),$=we(U,!1);if(M)return G.createElement(E2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement(Ng,lo({},$,{width:C,height:k,title:R,desc:B}),this.renderClipPath(),pw(j,this.renderMap)));if(this.props.accessibilityLayer){var I,A;$.tabIndex=(I=this.props.tabIndex)!==null&&I!==void 0?I:0,$.role=(A=this.props.role)!==null&&A!==void 0?A:"application",$.onKeyDown=function(P){x.accessibilityManager.keyboardEvent(P)},$.onFocus=function(){x.accessibilityManager.focus()}}var _=this.parseEventsOfWrapper();return G.createElement(E2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement("div",lo({className:Ce("recharts-wrapper",w),style:ie({position:"relative",cursor:"default",width:C,height:k},N)},_,{ref:function(O){x.container=O}}),G.createElement(Ng,lo({},$,{width:C,height:k,title:R,desc:B,style:Hae}),this.renderClipPath(),pw(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(T.Component);je(m,"displayName",r),je(m,"defaultProps",ie({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),je(m,"getDerivedStateFromProps",function(v,y){var b=v.dataKey,x=v.data,S=v.children,j=v.width,w=v.height,C=v.layout,k=v.stackOffset,N=v.margin,M=y.dataStartIndex,R=y.dataEndIndex;if(y.updateId===void 0){var B=Z2(v);return ie(ie(ie({},B),{},{updateId:0},p(ie(ie({props:v},B),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:x,prevWidth:j,prevHeight:w,prevLayout:C,prevStackOffset:k,prevMargin:N,prevChildren:S})}if(b!==y.prevDataKey||x!==y.prevData||j!==y.prevWidth||w!==y.prevHeight||C!==y.prevLayout||k!==y.prevStackOffset||!yo(N,y.prevMargin)){var U=Z2(v),$={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},I=ie(ie({},J2(y,x,C)),{},{updateId:y.updateId+1}),A=ie(ie(ie({},U),$),I);return ie(ie(ie({},A),p(ie({props:v},A),y)),{},{prevDataKey:b,prevData:x,prevWidth:j,prevHeight:w,prevLayout:C,prevStackOffset:k,prevMargin:N,prevChildren:S})}if(!jg(S,y.prevChildren)){var _,P,O,E,D=fr(S,qo),F=D&&(_=(P=D.props)===null||P===void 0?void 0:P.startIndex)!==null&&_!==void 0?_:M,W=D&&(O=(E=D.props)===null||E===void 0?void 0:E.endIndex)!==null&&O!==void 0?O:R,z=F!==M||W!==R,K=!ke(x),Y=K&&!z?y.updateId:y.updateId+1;return ie(ie({updateId:Y},p(ie(ie({props:v},y),{},{updateId:Y,dataStartIndex:F,dataEndIndex:W}),y)),{},{prevChildren:S,dataStartIndex:F,dataEndIndex:W})}return null}),je(m,"renderActiveDot",function(v,y,b){var x;return T.isValidElement(v)?x=T.cloneElement(v,y):Ne(v)?x=v(y):x=G.createElement(Rh,y),G.createElement($e,{className:"recharts-active-dot",key:b},x)});var g=T.forwardRef(function(y,b){return G.createElement(m,lo({},y,{ref:b}))});return g.displayName=m.displayName,g},tie=iO({chartName:"LineChart",GraphicalChild:un,axisComponents:[{axisType:"xAxis",AxisComp:Kh},{axisType:"yAxis",AxisComp:Qh}],formatAxisMap:qte}),rie=iO({chartName:"PieChart",GraphicalChild:Zn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Fh},{axisType:"radiusAxis",AxisComp:Lh}],formatAxisMap:RQ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function nie({trendData:e,getSourceColor:t,getSourceLabel:r}){const n=e.map(d=>({date:new Date(d.date).toLocaleDateString("fr-FR",{day:"numeric",month:"short"}),QR:d.sources.QR||0,GMB:d.sources.GMB||0,FB:d.sources.FB||0,IG:d.sources.IG||0,LI:d.sources.LI||0,TT:d.sources.TT||0})),a=["QR","GMB","FB","IG","LI","TT"],i=e.reduce((d,f)=>d+f.visits,0),o=a.reduce((d,f)=>{const h=e.reduce((p,m)=>p+(m.sources[f]||0),0);return h>0&&d.push({name:f,value:h,fill:t(f),label:r(f)}),d},[]),l=o.reduce((d,f)=>d+f.value,0),c=i-l;c>0&&o.push({name:"OTHER",value:c,fill:"#9ca3af",label:"Other"});const u=i;return s.jsxs("div",{className:"w-full flex flex-col lg:flex-row gap-6 items-start",children:[s.jsx("div",{className:"flex-1 w-full",style:{minHeight:"400px"},children:s.jsx(d1,{width:"100%",height:400,children:s.jsxs(tie,{data:n,children:[s.jsx(zA,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),s.jsx(Kh,{dataKey:"date",padding:{left:30,right:30},tick:{fontSize:11,fill:"#6b7280",fontWeight:500},tickLine:{stroke:"#e5e7eb"}}),s.jsx(Qh,{width:50,tick:{fontSize:11,fill:"#6b7280",fontWeight:500},tickLine:{stroke:"#e5e7eb"}}),s.jsx(Vr,{contentStyle:{backgroundColor:"#1f2937",border:"none",borderRadius:"8px",padding:"12px",boxShadow:"0 10px 25px rgba(0,0,0,0.2)"},labelStyle:{color:"#ffffff",fontWeight:600,marginBottom:"8px"},itemStyle:{color:"#ffffff",fontSize:"13px"}}),s.jsx(di,{wrapperStyle:{paddingTop:"20px"},iconType:"line",formatter:d=>r(d)}),s.jsx(un,{type:"monotone",dataKey:"QR",stroke:t("QR"),strokeWidth:2,activeDot:{r:8},dot:{r:4}}),s.jsx(un,{type:"monotone",dataKey:"GMB",stroke:t("GMB"),strokeWidth:2,activeDot:{r:8},dot:{r:4}}),s.jsx(un,{type:"monotone",dataKey:"FB",stroke:t("FB"),strokeWidth:2,activeDot:{r:8},dot:{r:4}}),s.jsx(un,{type:"monotone",dataKey:"IG",stroke:t("IG"),strokeWidth:2,activeDot:{r:8},dot:{r:4}}),s.jsx(un,{type:"monotone",dataKey:"LI",stroke:t("LI"),strokeWidth:2,activeDot:{r:8},dot:{r:4}}),s.jsx(un,{type:"monotone",dataKey:"TT",stroke:t("TT"),strokeWidth:2,activeDot:{r:8},dot:{r:4}})]})})}),s.jsx("div",{className:"w-full lg:w-96",style:{minHeight:"400px"},children:s.jsx(d1,{width:"100%",height:400,children:s.jsxs(rie,{children:[s.jsxs(Zn,{data:o,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:"70%",innerRadius:"50%",paddingAngle:2,label:d=>`${d.label}: ${d.value}`,labelLine:{stroke:"#6b7280",strokeWidth:1},children:[o.map((d,f)=>s.jsx(Sh,{fill:d.fill},`cell-${f}`)),s.jsx(vt,{value:u,position:"center",style:{fontSize:"28px",fontWeight:"bold",fill:"#1f2937"}})]}),s.jsx(Vr,{contentStyle:{backgroundColor:"#1f2937",border:"none",borderRadius:"8px",padding:"12px",boxShadow:"0 10px 25px rgba(0,0,0,0.2)"},itemStyle:{color:"#ffffff",fontSize:"13px"},formatter:(d,f)=>{const h=o.find(m=>m.name===f),p=(d/u*100).toFixed(1);return[`${d} (${p}%)`,(h==null?void 0:h.label)||f]}})]})})})]})}var oO={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Tt,()=>(()=>{var r={873:(o,l)=>{var c,u,d=function(){var f=function($,I){var A=$,_=y[I],P=null,O=0,E=null,D=[],F={},W=function(L,V){P=function(q){for(var Q=new Array(q),H=0;H<q;H+=1){Q[H]=new Array(q);for(var ae=0;ae<q;ae+=1)Q[H][ae]=null}return Q}(O=4*A+17),z(0,0),z(O-7,0),z(0,O-7),Y(),K(),Z(L,V),A>=7&&J(L),E==null&&(E=ne(A,_,D)),X(E,V)},z=function(L,V){for(var q=-1;q<=7;q+=1)if(!(L+q<=-1||O<=L+q))for(var Q=-1;Q<=7;Q+=1)V+Q<=-1||O<=V+Q||(P[L+q][V+Q]=0<=q&&q<=6&&(Q==0||Q==6)||0<=Q&&Q<=6&&(q==0||q==6)||2<=q&&q<=4&&2<=Q&&Q<=4)},K=function(){for(var L=8;L<O-8;L+=1)P[L][6]==null&&(P[L][6]=L%2==0);for(var V=8;V<O-8;V+=1)P[6][V]==null&&(P[6][V]=V%2==0)},Y=function(){for(var L=b.getPatternPosition(A),V=0;V<L.length;V+=1)for(var q=0;q<L.length;q+=1){var Q=L[V],H=L[q];if(P[Q][H]==null)for(var ae=-2;ae<=2;ae+=1)for(var se=-2;se<=2;se+=1)P[Q+ae][H+se]=ae==-2||ae==2||se==-2||se==2||ae==0&&se==0}},J=function(L){for(var V=b.getBCHTypeNumber(A),q=0;q<18;q+=1){var Q=!L&&(V>>q&1)==1;P[Math.floor(q/3)][q%3+O-8-3]=Q}for(q=0;q<18;q+=1)Q=!L&&(V>>q&1)==1,P[q%3+O-8-3][Math.floor(q/3)]=Q},Z=function(L,V){for(var q=_<<3|V,Q=b.getBCHTypeInfo(q),H=0;H<15;H+=1){var ae=!L&&(Q>>H&1)==1;H<6?P[H][8]=ae:H<8?P[H+1][8]=ae:P[O-15+H][8]=ae}for(H=0;H<15;H+=1)ae=!L&&(Q>>H&1)==1,H<8?P[8][O-H-1]=ae:H<9?P[8][15-H-1+1]=ae:P[8][15-H-1]=ae;P[O-8][8]=!L},X=function(L,V){for(var q=-1,Q=O-1,H=7,ae=0,se=b.getMaskFunction(V),he=O-1;he>0;he-=2)for(he==6&&(he-=1);;){for(var xe=0;xe<2;xe+=1)if(P[Q][he-xe]==null){var re=!1;ae<L.length&&(re=(L[ae]>>>H&1)==1),se(Q,he-xe)&&(re=!re),P[Q][he-xe]=re,(H-=1)==-1&&(ae+=1,H=7)}if((Q+=q)<0||O<=Q){Q-=q,q=-q;break}}},ne=function(L,V,q){for(var Q=j.getRSBlocks(L,V),H=w(),ae=0;ae<q.length;ae+=1){var se=q[ae];H.put(se.getMode(),4),H.put(se.getLength(),b.getLengthInBits(se.getMode(),L)),se.write(H)}var he=0;for(ae=0;ae<Q.length;ae+=1)he+=Q[ae].dataCount;if(H.getLengthInBits()>8*he)throw"code length overflow. ("+H.getLengthInBits()+">"+8*he+")";for(H.getLengthInBits()+4<=8*he&&H.put(0,4);H.getLengthInBits()%8!=0;)H.putBit(!1);for(;!(H.getLengthInBits()>=8*he||(H.put(236,8),H.getLengthInBits()>=8*he));)H.put(17,8);return function(xe,re){for(var le=0,de=0,fe=0,ge=new Array(re.length),be=new Array(re.length),oe=0;oe<re.length;oe+=1){var _e=re[oe].dataCount,Ee=re[oe].totalCount-_e;de=Math.max(de,_e),fe=Math.max(fe,Ee),ge[oe]=new Array(_e);for(var ye=0;ye<ge[oe].length;ye+=1)ge[oe][ye]=255&xe.getBuffer()[ye+le];le+=_e;var Se=b.getErrorCorrectPolynomial(Ee),Ie=S(ge[oe],Se.getLength()-1).mod(Se);for(be[oe]=new Array(Se.getLength()-1),ye=0;ye<be[oe].length;ye+=1){var Fe=ye+Ie.getLength()-be[oe].length;be[oe][ye]=Fe>=0?Ie.getAt(Fe):0}}var At=0;for(ye=0;ye<re.length;ye+=1)At+=re[ye].totalCount;var lr=new Array(At),Wt=0;for(ye=0;ye<de;ye+=1)for(oe=0;oe<re.length;oe+=1)ye<ge[oe].length&&(lr[Wt]=ge[oe][ye],Wt+=1);for(ye=0;ye<fe;ye+=1)for(oe=0;oe<re.length;oe+=1)ye<be[oe].length&&(lr[Wt]=be[oe][ye],Wt+=1);return lr}(H,Q)};F.addData=function(L,V){var q=null;switch(V=V||"Byte"){case"Numeric":q=C(L);break;case"Alphanumeric":q=k(L);break;case"Byte":q=N(L);break;case"Kanji":q=M(L);break;default:throw"mode:"+V}D.push(q),E=null},F.isDark=function(L,V){if(L<0||O<=L||V<0||O<=V)throw L+","+V;return P[L][V]},F.getModuleCount=function(){return O},F.make=function(){if(A<1){for(var L=1;L<40;L++){for(var V=j.getRSBlocks(L,_),q=w(),Q=0;Q<D.length;Q++){var H=D[Q];q.put(H.getMode(),4),q.put(H.getLength(),b.getLengthInBits(H.getMode(),L)),H.write(q)}var ae=0;for(Q=0;Q<V.length;Q++)ae+=V[Q].dataCount;if(q.getLengthInBits()<=8*ae)break}A=L}W(!1,function(){for(var se=0,he=0,xe=0;xe<8;xe+=1){W(!0,xe);var re=b.getLostPoint(F);(xe==0||se>re)&&(se=re,he=xe)}return he}())},F.createTableTag=function(L,V){L=L||2;var q="";q+='<table style="',q+=" border-width: 0px; border-style: none;",q+=" border-collapse: collapse;",q+=" padding: 0px; margin: "+(V=V===void 0?4*L:V)+"px;",q+='">',q+="<tbody>";for(var Q=0;Q<F.getModuleCount();Q+=1){q+="<tr>";for(var H=0;H<F.getModuleCount();H+=1)q+='<td style="',q+=" border-width: 0px; border-style: none;",q+=" border-collapse: collapse;",q+=" padding: 0px; margin: 0px;",q+=" width: "+L+"px;",q+=" height: "+L+"px;",q+=" background-color: ",q+=F.isDark(Q,H)?"#000000":"#ffffff",q+=";",q+='"/>';q+="</tr>"}return(q+="</tbody>")+"</table>"},F.createSvgTag=function(L,V,q,Q){var H={};typeof arguments[0]=="object"&&(L=(H=arguments[0]).cellSize,V=H.margin,q=H.alt,Q=H.title),L=L||2,V=V===void 0?4*L:V,(q=typeof q=="string"?{text:q}:q||{}).text=q.text||null,q.id=q.text?q.id||"qrcode-description":null,(Q=typeof Q=="string"?{text:Q}:Q||{}).text=Q.text||null,Q.id=Q.text?Q.id||"qrcode-title":null;var ae,se,he,xe,re=F.getModuleCount()*L+2*V,le="";for(xe="l"+L+",0 0,"+L+" -"+L+",0 0,-"+L+"z ",le+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',le+=H.scalable?"":' width="'+re+'px" height="'+re+'px"',le+=' viewBox="0 0 '+re+" "+re+'" ',le+=' preserveAspectRatio="xMinYMin meet"',le+=Q.text||q.text?' role="img" aria-labelledby="'+te([Q.id,q.id].join(" ").trim())+'"':"",le+=">",le+=Q.text?'<title id="'+te(Q.id)+'">'+te(Q.text)+"</title>":"",le+=q.text?'<description id="'+te(q.id)+'">'+te(q.text)+"</description>":"",le+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',le+='<path d="',se=0;se<F.getModuleCount();se+=1)for(he=se*L+V,ae=0;ae<F.getModuleCount();ae+=1)F.isDark(se,ae)&&(le+="M"+(ae*L+V)+","+he+xe);return(le+='" stroke="transparent" fill="black"/>')+"</svg>"},F.createDataURL=function(L,V){L=L||2,V=V===void 0?4*L:V;var q=F.getModuleCount()*L+2*V,Q=V,H=q-V;return U(q,q,function(ae,se){if(Q<=ae&&ae<H&&Q<=se&&se<H){var he=Math.floor((ae-Q)/L),xe=Math.floor((se-Q)/L);return F.isDark(xe,he)?0:1}return 1})},F.createImgTag=function(L,V,q){L=L||2,V=V===void 0?4*L:V;var Q=F.getModuleCount()*L+2*V,H="";return H+="<img",H+=' src="',H+=F.createDataURL(L,V),H+='"',H+=' width="',H+=Q,H+='"',H+=' height="',H+=Q,H+='"',q&&(H+=' alt="',H+=te(q),H+='"'),H+"/>"};var te=function(L){for(var V="",q=0;q<L.length;q+=1){var Q=L.charAt(q);switch(Q){case"<":V+="&lt;";break;case">":V+="&gt;";break;case"&":V+="&amp;";break;case'"':V+="&quot;";break;default:V+=Q}}return V};return F.createASCII=function(L,V){if((L=L||1)<2)return function(ge){ge=ge===void 0?2:ge;var be,oe,_e,Ee,ye,Se=1*F.getModuleCount()+2*ge,Ie=ge,Fe=Se-ge,At={"":""," ":""," ":"","  ":" "},lr={"":""," ":""," ":" ","  ":" "},Wt="";for(be=0;be<Se;be+=2){for(_e=Math.floor((be-Ie)/1),Ee=Math.floor((be+1-Ie)/1),oe=0;oe<Se;oe+=1)ye="",Ie<=oe&&oe<Fe&&Ie<=be&&be<Fe&&F.isDark(_e,Math.floor((oe-Ie)/1))&&(ye=" "),Ie<=oe&&oe<Fe&&Ie<=be+1&&be+1<Fe&&F.isDark(Ee,Math.floor((oe-Ie)/1))?ye+=" ":ye+="",Wt+=ge<1&&be+1>=Fe?lr[ye]:At[ye];Wt+=`
`}return Se%2&&ge>0?Wt.substring(0,Wt.length-Se-1)+Array(Se+1).join(""):Wt.substring(0,Wt.length-1)}(V);L-=1,V=V===void 0?2*L:V;var q,Q,H,ae,se=F.getModuleCount()*L+2*V,he=V,xe=se-V,re=Array(L+1).join(""),le=Array(L+1).join("  "),de="",fe="";for(q=0;q<se;q+=1){for(H=Math.floor((q-he)/L),fe="",Q=0;Q<se;Q+=1)ae=1,he<=Q&&Q<xe&&he<=q&&q<xe&&F.isDark(H,Math.floor((Q-he)/L))&&(ae=0),fe+=ae?re:le;for(H=0;H<L;H+=1)de+=fe+`
`}return de.substring(0,de.length-1)},F.renderTo2dContext=function(L,V){V=V||2;for(var q=F.getModuleCount(),Q=0;Q<q;Q++)for(var H=0;H<q;H++)L.fillStyle=F.isDark(Q,H)?"black":"white",L.fillRect(Q*V,H*V,V,V)},F};f.stringToBytes=(f.stringToBytesFuncs={default:function($){for(var I=[],A=0;A<$.length;A+=1){var _=$.charCodeAt(A);I.push(255&_)}return I}}).default,f.createStringToBytes=function($,I){var A=function(){for(var P=B($),O=function(){var K=P.read();if(K==-1)throw"eof";return K},E=0,D={};;){var F=P.read();if(F==-1)break;var W=O(),z=O()<<8|O();D[String.fromCharCode(F<<8|W)]=z,E+=1}if(E!=I)throw E+" != "+I;return D}(),_=63;return function(P){for(var O=[],E=0;E<P.length;E+=1){var D=P.charCodeAt(E);if(D<128)O.push(D);else{var F=A[P.charAt(E)];typeof F=="number"?(255&F)==F?O.push(F):(O.push(F>>>8),O.push(255&F)):O.push(_)}}return O}};var h,p,m,g,v,y={L:1,M:0,Q:3,H:2},b=(h=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],p=1335,m=7973,v=function($){for(var I=0;$!=0;)I+=1,$>>>=1;return I},(g={}).getBCHTypeInfo=function($){for(var I=$<<10;v(I)-v(p)>=0;)I^=p<<v(I)-v(p);return 21522^($<<10|I)},g.getBCHTypeNumber=function($){for(var I=$<<12;v(I)-v(m)>=0;)I^=m<<v(I)-v(m);return $<<12|I},g.getPatternPosition=function($){return h[$-1]},g.getMaskFunction=function($){switch($){case 0:return function(I,A){return(I+A)%2==0};case 1:return function(I,A){return I%2==0};case 2:return function(I,A){return A%3==0};case 3:return function(I,A){return(I+A)%3==0};case 4:return function(I,A){return(Math.floor(I/2)+Math.floor(A/3))%2==0};case 5:return function(I,A){return I*A%2+I*A%3==0};case 6:return function(I,A){return(I*A%2+I*A%3)%2==0};case 7:return function(I,A){return(I*A%3+(I+A)%2)%2==0};default:throw"bad maskPattern:"+$}},g.getErrorCorrectPolynomial=function($){for(var I=S([1],0),A=0;A<$;A+=1)I=I.multiply(S([1,x.gexp(A)],0));return I},g.getLengthInBits=function($,I){if(1<=I&&I<10)switch($){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+$}else if(I<27)switch($){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+$}else{if(!(I<41))throw"type:"+I;switch($){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+$}}},g.getLostPoint=function($){for(var I=$.getModuleCount(),A=0,_=0;_<I;_+=1)for(var P=0;P<I;P+=1){for(var O=0,E=$.isDark(_,P),D=-1;D<=1;D+=1)if(!(_+D<0||I<=_+D))for(var F=-1;F<=1;F+=1)P+F<0||I<=P+F||D==0&&F==0||E==$.isDark(_+D,P+F)&&(O+=1);O>5&&(A+=3+O-5)}for(_=0;_<I-1;_+=1)for(P=0;P<I-1;P+=1){var W=0;$.isDark(_,P)&&(W+=1),$.isDark(_+1,P)&&(W+=1),$.isDark(_,P+1)&&(W+=1),$.isDark(_+1,P+1)&&(W+=1),W!=0&&W!=4||(A+=3)}for(_=0;_<I;_+=1)for(P=0;P<I-6;P+=1)$.isDark(_,P)&&!$.isDark(_,P+1)&&$.isDark(_,P+2)&&$.isDark(_,P+3)&&$.isDark(_,P+4)&&!$.isDark(_,P+5)&&$.isDark(_,P+6)&&(A+=40);for(P=0;P<I;P+=1)for(_=0;_<I-6;_+=1)$.isDark(_,P)&&!$.isDark(_+1,P)&&$.isDark(_+2,P)&&$.isDark(_+3,P)&&$.isDark(_+4,P)&&!$.isDark(_+5,P)&&$.isDark(_+6,P)&&(A+=40);var z=0;for(P=0;P<I;P+=1)for(_=0;_<I;_+=1)$.isDark(_,P)&&(z+=1);return A+Math.abs(100*z/I/I-50)/5*10},g),x=function(){for(var $=new Array(256),I=new Array(256),A=0;A<8;A+=1)$[A]=1<<A;for(A=8;A<256;A+=1)$[A]=$[A-4]^$[A-5]^$[A-6]^$[A-8];for(A=0;A<255;A+=1)I[$[A]]=A;return{glog:function(_){if(_<1)throw"glog("+_+")";return I[_]},gexp:function(_){for(;_<0;)_+=255;for(;_>=256;)_-=255;return $[_]}}}();function S($,I){if($.length===void 0)throw $.length+"/"+I;var A=function(){for(var P=0;P<$.length&&$[P]==0;)P+=1;for(var O=new Array($.length-P+I),E=0;E<$.length-P;E+=1)O[E]=$[E+P];return O}(),_={getAt:function(P){return A[P]},getLength:function(){return A.length},multiply:function(P){for(var O=new Array(_.getLength()+P.getLength()-1),E=0;E<_.getLength();E+=1)for(var D=0;D<P.getLength();D+=1)O[E+D]^=x.gexp(x.glog(_.getAt(E))+x.glog(P.getAt(D)));return S(O,0)},mod:function(P){if(_.getLength()-P.getLength()<0)return _;for(var O=x.glog(_.getAt(0))-x.glog(P.getAt(0)),E=new Array(_.getLength()),D=0;D<_.getLength();D+=1)E[D]=_.getAt(D);for(D=0;D<P.getLength();D+=1)E[D]^=x.gexp(x.glog(P.getAt(D))+O);return S(E,0).mod(P)}};return _}var j=function(){var $=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],I=function(_,P){var O={};return O.totalCount=_,O.dataCount=P,O},A={getRSBlocks:function(_,P){var O=function(J,Z){switch(Z){case y.L:return $[4*(J-1)+0];case y.M:return $[4*(J-1)+1];case y.Q:return $[4*(J-1)+2];case y.H:return $[4*(J-1)+3];default:return}}(_,P);if(O===void 0)throw"bad rs block @ typeNumber:"+_+"/errorCorrectionLevel:"+P;for(var E=O.length/3,D=[],F=0;F<E;F+=1)for(var W=O[3*F+0],z=O[3*F+1],K=O[3*F+2],Y=0;Y<W;Y+=1)D.push(I(z,K));return D}};return A}(),w=function(){var $=[],I=0,A={getBuffer:function(){return $},getAt:function(_){var P=Math.floor(_/8);return($[P]>>>7-_%8&1)==1},put:function(_,P){for(var O=0;O<P;O+=1)A.putBit((_>>>P-O-1&1)==1)},getLengthInBits:function(){return I},putBit:function(_){var P=Math.floor(I/8);$.length<=P&&$.push(0),_&&($[P]|=128>>>I%8),I+=1}};return A},C=function($){var I=$,A={getMode:function(){return 1},getLength:function(O){return I.length},write:function(O){for(var E=I,D=0;D+2<E.length;)O.put(_(E.substring(D,D+3)),10),D+=3;D<E.length&&(E.length-D==1?O.put(_(E.substring(D,D+1)),4):E.length-D==2&&O.put(_(E.substring(D,D+2)),7))}},_=function(O){for(var E=0,D=0;D<O.length;D+=1)E=10*E+P(O.charAt(D));return E},P=function(O){if("0"<=O&&O<="9")return O.charCodeAt(0)-48;throw"illegal char :"+O};return A},k=function($){var I=$,A={getMode:function(){return 2},getLength:function(P){return I.length},write:function(P){for(var O=I,E=0;E+1<O.length;)P.put(45*_(O.charAt(E))+_(O.charAt(E+1)),11),E+=2;E<O.length&&P.put(_(O.charAt(E)),6)}},_=function(P){if("0"<=P&&P<="9")return P.charCodeAt(0)-48;if("A"<=P&&P<="Z")return P.charCodeAt(0)-65+10;switch(P){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+P}};return A},N=function($){var I=f.stringToBytes($);return{getMode:function(){return 4},getLength:function(A){return I.length},write:function(A){for(var _=0;_<I.length;_+=1)A.put(I[_],8)}}},M=function($){var I=f.stringToBytesFuncs.SJIS;if(!I)throw"sjis not supported.";(function(){var P=I("");if(P.length!=2||(P[0]<<8|P[1])!=38726)throw"sjis not supported."})();var A=I($),_={getMode:function(){return 8},getLength:function(P){return~~(A.length/2)},write:function(P){for(var O=A,E=0;E+1<O.length;){var D=(255&O[E])<<8|255&O[E+1];if(33088<=D&&D<=40956)D-=33088;else{if(!(57408<=D&&D<=60351))throw"illegal char at "+(E+1)+"/"+D;D-=49472}D=192*(D>>>8&255)+(255&D),P.put(D,13),E+=2}if(E<O.length)throw"illegal char at "+(E+1)}};return _},R=function(){var $=[],I={writeByte:function(A){$.push(255&A)},writeShort:function(A){I.writeByte(A),I.writeByte(A>>>8)},writeBytes:function(A,_,P){_=_||0,P=P||A.length;for(var O=0;O<P;O+=1)I.writeByte(A[O+_])},writeString:function(A){for(var _=0;_<A.length;_+=1)I.writeByte(A.charCodeAt(_))},toByteArray:function(){return $},toString:function(){var A="";A+="[";for(var _=0;_<$.length;_+=1)_>0&&(A+=","),A+=$[_];return A+"]"}};return I},B=function($){var I=$,A=0,_=0,P=0,O={read:function(){for(;P<8;){if(A>=I.length){if(P==0)return-1;throw"unexpected end of file./"+P}var D=I.charAt(A);if(A+=1,D=="=")return P=0,-1;D.match(/^\s$/)||(_=_<<6|E(D.charCodeAt(0)),P+=6)}var F=_>>>P-8&255;return P-=8,F}},E=function(D){if(65<=D&&D<=90)return D-65;if(97<=D&&D<=122)return D-97+26;if(48<=D&&D<=57)return D-48+52;if(D==43)return 62;if(D==47)return 63;throw"c:"+D};return O},U=function($,I,A){for(var _=function(z,K){var Y=z,J=K,Z=new Array(z*K),X={setPixel:function(L,V,q){Z[V*Y+L]=q},write:function(L){L.writeString("GIF87a"),L.writeShort(Y),L.writeShort(J),L.writeByte(128),L.writeByte(0),L.writeByte(0),L.writeByte(0),L.writeByte(0),L.writeByte(0),L.writeByte(255),L.writeByte(255),L.writeByte(255),L.writeString(","),L.writeShort(0),L.writeShort(0),L.writeShort(Y),L.writeShort(J),L.writeByte(0);var V=ne(2);L.writeByte(2);for(var q=0;V.length-q>255;)L.writeByte(255),L.writeBytes(V,q,255),q+=255;L.writeByte(V.length-q),L.writeBytes(V,q,V.length-q),L.writeByte(0),L.writeString(";")}},ne=function(L){for(var V=1<<L,q=1+(1<<L),Q=L+1,H=te(),ae=0;ae<V;ae+=1)H.add(String.fromCharCode(ae));H.add(String.fromCharCode(V)),H.add(String.fromCharCode(q));var se,he,xe,re=R(),le=(se=re,he=0,xe=0,{write:function(be,oe){if(be>>>oe)throw"length over";for(;he+oe>=8;)se.writeByte(255&(be<<he|xe)),oe-=8-he,be>>>=8-he,xe=0,he=0;xe|=be<<he,he+=oe},flush:function(){he>0&&se.writeByte(xe)}});le.write(V,Q);var de=0,fe=String.fromCharCode(Z[de]);for(de+=1;de<Z.length;){var ge=String.fromCharCode(Z[de]);de+=1,H.contains(fe+ge)?fe+=ge:(le.write(H.indexOf(fe),Q),H.size()<4095&&(H.size()==1<<Q&&(Q+=1),H.add(fe+ge)),fe=ge)}return le.write(H.indexOf(fe),Q),le.write(q,Q),le.flush(),re.toByteArray()},te=function(){var L={},V=0,q={add:function(Q){if(q.contains(Q))throw"dup key:"+Q;L[Q]=V,V+=1},size:function(){return V},indexOf:function(Q){return L[Q]},contains:function(Q){return L[Q]!==void 0}};return q};return X}($,I),P=0;P<I;P+=1)for(var O=0;O<$;O+=1)_.setPixel(O,P,A(O,P));var E=R();_.write(E);for(var D=function(){var z=0,K=0,Y=0,J="",Z={},X=function(te){J+=String.fromCharCode(ne(63&te))},ne=function(te){if(!(te<0)){if(te<26)return 65+te;if(te<52)return te-26+97;if(te<62)return te-52+48;if(te==62)return 43;if(te==63)return 47}throw"n:"+te};return Z.writeByte=function(te){for(z=z<<8|255&te,K+=8,Y+=1;K>=6;)X(z>>>K-6),K-=6},Z.flush=function(){if(K>0&&(X(z<<6-K),z=0,K=0),Y%3!=0)for(var te=3-Y%3,L=0;L<te;L+=1)J+="="},Z.toString=function(){return J},Z}(),F=E.toByteArray(),W=0;W<F.length;W+=1)D.writeByte(F[W]);return D.flush(),"data:image/gif;base64,"+D};return f}();d.stringToBytesFuncs["UTF-8"]=function(f){return function(h){for(var p=[],m=0;m<h.length;m++){var g=h.charCodeAt(m);g<128?p.push(g):g<2048?p.push(192|g>>6,128|63&g):g<55296||g>=57344?p.push(224|g>>12,128|g>>6&63,128|63&g):(m++,g=65536+((1023&g)<<10|1023&h.charCodeAt(m)),p.push(240|g>>18,128|g>>12&63,128|g>>6&63,128|63&g))}return p}(f)},(u=typeof(c=function(){return d})=="function"?c.apply(l,[]):c)===void 0||(o.exports=u)}},n={};function a(o){var l=n[o];if(l!==void 0)return l.exports;var c=n[o]={exports:{}};return r[o](c,c.exports,a),c.exports}a.n=o=>{var l=o&&o.__esModule?()=>o.default:()=>o;return a.d(l,{a:l}),l},a.d=(o,l)=>{for(var c in l)a.o(l,c)&&!a.o(o,c)&&Object.defineProperty(o,c,{enumerable:!0,get:l[c]})},a.o=(o,l)=>Object.prototype.hasOwnProperty.call(o,l);var i={};return(()=>{a.d(i,{default:()=>I});const o=A=>!!A&&typeof A=="object"&&!Array.isArray(A);function l(A,..._){if(!_.length)return A;const P=_.shift();return P!==void 0&&o(A)&&o(P)?(A=Object.assign({},A),Object.keys(P).forEach(O=>{const E=A[O],D=P[O];Array.isArray(E)&&Array.isArray(D)?A[O]=D:o(E)&&o(D)?A[O]=l(Object.assign({},E),D):A[O]=D}),l(A,..._)):A}function c(A,_){const P=document.createElement("a");P.download=_,P.href=A,document.body.appendChild(P),P.click(),document.body.removeChild(P)}const u={L:.07,M:.15,Q:.25,H:.3};class d{constructor({svg:_,type:P,window:O}){this._svg=_,this._type=P,this._window=O}draw(_,P,O,E){let D;switch(this._type){case"dots":D=this._drawDot;break;case"classy":D=this._drawClassy;break;case"classy-rounded":D=this._drawClassyRounded;break;case"rounded":D=this._drawRounded;break;case"extra-rounded":D=this._drawExtraRounded;break;default:D=this._drawSquare}D.call(this,{x:_,y:P,size:O,getNeighbor:E})}_rotateFigure({x:_,y:P,size:O,rotation:E=0,draw:D}){var F;const W=_+O/2,z=P+O/2;D(),(F=this._element)===null||F===void 0||F.setAttribute("transform",`rotate(${180*E/Math.PI},${W},${z})`)}_basicDot(_){const{size:P,x:O,y:E}=_;this._rotateFigure(Object.assign(Object.assign({},_),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(O+P/2)),this._element.setAttribute("cy",String(E+P/2)),this._element.setAttribute("r",String(P/2))}}))}_basicSquare(_){const{size:P,x:O,y:E}=_;this._rotateFigure(Object.assign(Object.assign({},_),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(O)),this._element.setAttribute("y",String(E)),this._element.setAttribute("width",String(P)),this._element.setAttribute("height",String(P))}}))}_basicSideRounded(_){const{size:P,x:O,y:E}=_;this._rotateFigure(Object.assign(Object.assign({},_),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${O} ${E}v ${P}h `+P/2+`a ${P/2} ${P/2}, 0, 0, 0, 0 ${-P}`)}}))}_basicCornerRounded(_){const{size:P,x:O,y:E}=_;this._rotateFigure(Object.assign(Object.assign({},_),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${O} ${E}v ${P}h ${P}v `+-P/2+`a ${P/2} ${P/2}, 0, 0, 0, ${-P/2} ${-P/2}`)}}))}_basicCornerExtraRounded(_){const{size:P,x:O,y:E}=_;this._rotateFigure(Object.assign(Object.assign({},_),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${O} ${E}v ${P}h ${P}a ${P} ${P}, 0, 0, 0, ${-P} ${-P}`)}}))}_basicCornersRounded(_){const{size:P,x:O,y:E}=_;this._rotateFigure(Object.assign(Object.assign({},_),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${O} ${E}v `+P/2+`a ${P/2} ${P/2}, 0, 0, 0, ${P/2} ${P/2}h `+P/2+"v "+-P/2+`a ${P/2} ${P/2}, 0, 0, 0, ${-P/2} ${-P/2}`)}}))}_drawDot({x:_,y:P,size:O}){this._basicDot({x:_,y:P,size:O,rotation:0})}_drawSquare({x:_,y:P,size:O}){this._basicSquare({x:_,y:P,size:O,rotation:0})}_drawRounded({x:_,y:P,size:O,getNeighbor:E}){const D=E?+E(-1,0):0,F=E?+E(1,0):0,W=E?+E(0,-1):0,z=E?+E(0,1):0,K=D+F+W+z;if(K!==0)if(K>2||D&&F||W&&z)this._basicSquare({x:_,y:P,size:O,rotation:0});else{if(K===2){let Y=0;return D&&W?Y=Math.PI/2:W&&F?Y=Math.PI:F&&z&&(Y=-Math.PI/2),void this._basicCornerRounded({x:_,y:P,size:O,rotation:Y})}if(K===1){let Y=0;return W?Y=Math.PI/2:F?Y=Math.PI:z&&(Y=-Math.PI/2),void this._basicSideRounded({x:_,y:P,size:O,rotation:Y})}}else this._basicDot({x:_,y:P,size:O,rotation:0})}_drawExtraRounded({x:_,y:P,size:O,getNeighbor:E}){const D=E?+E(-1,0):0,F=E?+E(1,0):0,W=E?+E(0,-1):0,z=E?+E(0,1):0,K=D+F+W+z;if(K!==0)if(K>2||D&&F||W&&z)this._basicSquare({x:_,y:P,size:O,rotation:0});else{if(K===2){let Y=0;return D&&W?Y=Math.PI/2:W&&F?Y=Math.PI:F&&z&&(Y=-Math.PI/2),void this._basicCornerExtraRounded({x:_,y:P,size:O,rotation:Y})}if(K===1){let Y=0;return W?Y=Math.PI/2:F?Y=Math.PI:z&&(Y=-Math.PI/2),void this._basicSideRounded({x:_,y:P,size:O,rotation:Y})}}else this._basicDot({x:_,y:P,size:O,rotation:0})}_drawClassy({x:_,y:P,size:O,getNeighbor:E}){const D=E?+E(-1,0):0,F=E?+E(1,0):0,W=E?+E(0,-1):0,z=E?+E(0,1):0;D+F+W+z!==0?D||W?F||z?this._basicSquare({x:_,y:P,size:O,rotation:0}):this._basicCornerRounded({x:_,y:P,size:O,rotation:Math.PI/2}):this._basicCornerRounded({x:_,y:P,size:O,rotation:-Math.PI/2}):this._basicCornersRounded({x:_,y:P,size:O,rotation:Math.PI/2})}_drawClassyRounded({x:_,y:P,size:O,getNeighbor:E}){const D=E?+E(-1,0):0,F=E?+E(1,0):0,W=E?+E(0,-1):0,z=E?+E(0,1):0;D+F+W+z!==0?D||W?F||z?this._basicSquare({x:_,y:P,size:O,rotation:0}):this._basicCornerExtraRounded({x:_,y:P,size:O,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:_,y:P,size:O,rotation:-Math.PI/2}):this._basicCornersRounded({x:_,y:P,size:O,rotation:Math.PI/2})}}const f={dot:"dot",square:"square",extraRounded:"extra-rounded"},h=Object.values(f);class p{constructor({svg:_,type:P,window:O}){this._svg=_,this._type=P,this._window=O}draw(_,P,O,E){let D;switch(this._type){case f.square:D=this._drawSquare;break;case f.extraRounded:D=this._drawExtraRounded;break;default:D=this._drawDot}D.call(this,{x:_,y:P,size:O,rotation:E})}_rotateFigure({x:_,y:P,size:O,rotation:E=0,draw:D}){var F;const W=_+O/2,z=P+O/2;D(),(F=this._element)===null||F===void 0||F.setAttribute("transform",`rotate(${180*E/Math.PI},${W},${z})`)}_basicDot(_){const{size:P,x:O,y:E}=_,D=P/7;this._rotateFigure(Object.assign(Object.assign({},_),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${O+P/2} ${E}a ${P/2} ${P/2} 0 1 0 0.1 0zm 0 ${D}a ${P/2-D} ${P/2-D} 0 1 1 -0.1 0Z`)}}))}_basicSquare(_){const{size:P,x:O,y:E}=_,D=P/7;this._rotateFigure(Object.assign(Object.assign({},_),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${O} ${E}v ${P}h ${P}v `+-P+`zM ${O+D} ${E+D}h `+(P-2*D)+"v "+(P-2*D)+"h "+(2*D-P)+"z")}}))}_basicExtraRounded(_){const{size:P,x:O,y:E}=_,D=P/7;this._rotateFigure(Object.assign(Object.assign({},_),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${O} ${E+2.5*D}v `+2*D+`a ${2.5*D} ${2.5*D}, 0, 0, 0, ${2.5*D} ${2.5*D}h `+2*D+`a ${2.5*D} ${2.5*D}, 0, 0, 0, ${2.5*D} ${2.5*-D}v `+-2*D+`a ${2.5*D} ${2.5*D}, 0, 0, 0, ${2.5*-D} ${2.5*-D}h `+-2*D+`a ${2.5*D} ${2.5*D}, 0, 0, 0, ${2.5*-D} ${2.5*D}M ${O+2.5*D} ${E+D}h `+2*D+`a ${1.5*D} ${1.5*D}, 0, 0, 1, ${1.5*D} ${1.5*D}v `+2*D+`a ${1.5*D} ${1.5*D}, 0, 0, 1, ${1.5*-D} ${1.5*D}h `+-2*D+`a ${1.5*D} ${1.5*D}, 0, 0, 1, ${1.5*-D} ${1.5*-D}v `+-2*D+`a ${1.5*D} ${1.5*D}, 0, 0, 1, ${1.5*D} ${1.5*-D}`)}}))}_drawDot({x:_,y:P,size:O,rotation:E}){this._basicDot({x:_,y:P,size:O,rotation:E})}_drawSquare({x:_,y:P,size:O,rotation:E}){this._basicSquare({x:_,y:P,size:O,rotation:E})}_drawExtraRounded({x:_,y:P,size:O,rotation:E}){this._basicExtraRounded({x:_,y:P,size:O,rotation:E})}}const m={dot:"dot",square:"square"},g=Object.values(m);class v{constructor({svg:_,type:P,window:O}){this._svg=_,this._type=P,this._window=O}draw(_,P,O,E){let D;D=this._type===m.square?this._drawSquare:this._drawDot,D.call(this,{x:_,y:P,size:O,rotation:E})}_rotateFigure({x:_,y:P,size:O,rotation:E=0,draw:D}){var F;const W=_+O/2,z=P+O/2;D(),(F=this._element)===null||F===void 0||F.setAttribute("transform",`rotate(${180*E/Math.PI},${W},${z})`)}_basicDot(_){const{size:P,x:O,y:E}=_;this._rotateFigure(Object.assign(Object.assign({},_),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(O+P/2)),this._element.setAttribute("cy",String(E+P/2)),this._element.setAttribute("r",String(P/2))}}))}_basicSquare(_){const{size:P,x:O,y:E}=_;this._rotateFigure(Object.assign(Object.assign({},_),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(O)),this._element.setAttribute("y",String(E)),this._element.setAttribute("width",String(P)),this._element.setAttribute("height",String(P))}}))}_drawDot({x:_,y:P,size:O,rotation:E}){this._basicDot({x:_,y:P,size:O,rotation:E})}_drawSquare({x:_,y:P,size:O,rotation:E}){this._basicSquare({x:_,y:P,size:O,rotation:E})}}const y="circle",b=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],x=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];class S{constructor(_,P){this._roundSize=O=>this._options.dotsOptions.roundSize?Math.floor(O):O,this._window=P,this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(_.width)),this._element.setAttribute("height",String(_.height)),this._element.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),_.dotsOptions.roundSize||this._element.setAttribute("shape-rendering","crispEdges"),this._element.setAttribute("viewBox",`0 0 ${_.width} ${_.height}`),this._defs=this._window.document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._imageUri=_.image,this._instanceId=S.instanceCount++,this._options=_}get width(){return this._options.width}get height(){return this._options.height}getElement(){return this._element}async drawQR(_){const P=_.getModuleCount(),O=Math.min(this._options.width,this._options.height)-2*this._options.margin,E=this._options.shape===y?O/Math.sqrt(2):O,D=this._roundSize(E/P);let F={hideXDots:0,hideYDots:0,width:0,height:0};if(this._qr=_,this._options.image){if(await this.loadImage(),!this._image)return;const{imageOptions:W,qrOptions:z}=this._options,K=W.imageSize*u[z.errorCorrectionLevel],Y=Math.floor(K*P*P);F=function({originalHeight:J,originalWidth:Z,maxHiddenDots:X,maxHiddenAxisDots:ne,dotSize:te}){const L={x:0,y:0},V={x:0,y:0};if(J<=0||Z<=0||X<=0||te<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};const q=J/Z;return L.x=Math.floor(Math.sqrt(X/q)),L.x<=0&&(L.x=1),ne&&ne<L.x&&(L.x=ne),L.x%2==0&&L.x--,V.x=L.x*te,L.y=1+2*Math.ceil((L.x*q-1)/2),V.y=Math.round(V.x*q),(L.y*L.x>X||ne&&ne<L.y)&&(ne&&ne<L.y?(L.y=ne,L.y%2==0&&L.x--):L.y-=2,V.y=L.y*te,L.x=1+2*Math.ceil((L.y/q-1)/2),V.x=Math.round(V.y/q)),{height:V.y,width:V.x,hideYDots:L.y,hideXDots:L.x}}({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:Y,maxHiddenAxisDots:P-14,dotSize:D})}this.drawBackground(),this.drawDots((W,z)=>{var K,Y,J,Z,X,ne;return!(this._options.imageOptions.hideBackgroundDots&&W>=(P-F.hideYDots)/2&&W<(P+F.hideYDots)/2&&z>=(P-F.hideXDots)/2&&z<(P+F.hideXDots)/2||!((K=b[W])===null||K===void 0)&&K[z]||!((Y=b[W-P+7])===null||Y===void 0)&&Y[z]||!((J=b[W])===null||J===void 0)&&J[z-P+7]||!((Z=x[W])===null||Z===void 0)&&Z[z]||!((X=x[W-P+7])===null||X===void 0)&&X[z]||!((ne=x[W])===null||ne===void 0)&&ne[z-P+7])}),this.drawCorners(),this._options.image&&await this.drawImage({width:F.width,height:F.height,count:P,dotSize:D})}drawBackground(){var _,P,O;const E=this._element,D=this._options;if(E){const F=(_=D.backgroundOptions)===null||_===void 0?void 0:_.gradient,W=(P=D.backgroundOptions)===null||P===void 0?void 0:P.color;let z=D.height,K=D.width;if(F||W){const Y=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id",`clip-path-background-color-${this._instanceId}`),this._defs.appendChild(this._backgroundClipPath),!((O=D.backgroundOptions)===null||O===void 0)&&O.round&&(z=K=Math.min(D.width,D.height),Y.setAttribute("rx",String(z/2*D.backgroundOptions.round))),Y.setAttribute("x",String(this._roundSize((D.width-K)/2))),Y.setAttribute("y",String(this._roundSize((D.height-z)/2))),Y.setAttribute("width",String(K)),Y.setAttribute("height",String(z)),this._backgroundClipPath.appendChild(Y),this._createColor({options:F,color:W,additionalRotation:0,x:0,y:0,height:D.height,width:D.width,name:`background-color-${this._instanceId}`})}}}drawDots(_){var P,O;if(!this._qr)throw"QR code is not defined";const E=this._options,D=this._qr.getModuleCount();if(D>E.width||D>E.height)throw"The canvas is too small.";const F=Math.min(E.width,E.height)-2*E.margin,W=E.shape===y?F/Math.sqrt(2):F,z=this._roundSize(W/D),K=this._roundSize((E.width-D*z)/2),Y=this._roundSize((E.height-D*z)/2),J=new d({svg:this._element,type:E.dotsOptions.type,window:this._window});this._dotsClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id",`clip-path-dot-color-${this._instanceId}`),this._defs.appendChild(this._dotsClipPath),this._createColor({options:(P=E.dotsOptions)===null||P===void 0?void 0:P.gradient,color:E.dotsOptions.color,additionalRotation:0,x:0,y:0,height:E.height,width:E.width,name:`dot-color-${this._instanceId}`});for(let Z=0;Z<D;Z++)for(let X=0;X<D;X++)_&&!_(Z,X)||!((O=this._qr)===null||O===void 0)&&O.isDark(Z,X)&&(J.draw(K+X*z,Y+Z*z,z,(ne,te)=>!(X+ne<0||Z+te<0||X+ne>=D||Z+te>=D)&&!(_&&!_(Z+te,X+ne))&&!!this._qr&&this._qr.isDark(Z+te,X+ne)),J._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(J._element));if(E.shape===y){const Z=this._roundSize((F/z-D)/2),X=D+2*Z,ne=K-Z*z,te=Y-Z*z,L=[],V=this._roundSize(X/2);for(let q=0;q<X;q++){L[q]=[];for(let Q=0;Q<X;Q++)q>=Z-1&&q<=X-Z&&Q>=Z-1&&Q<=X-Z||Math.sqrt((q-V)*(q-V)+(Q-V)*(Q-V))>V?L[q][Q]=0:L[q][Q]=this._qr.isDark(Q-2*Z<0?Q:Q>=D?Q-2*Z:Q-Z,q-2*Z<0?q:q>=D?q-2*Z:q-Z)?1:0}for(let q=0;q<X;q++)for(let Q=0;Q<X;Q++)L[q][Q]&&(J.draw(ne+Q*z,te+q*z,z,(H,ae)=>{var se;return!!(!((se=L[q+ae])===null||se===void 0)&&se[Q+H])}),J._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(J._element))}}drawCorners(){if(!this._qr)throw"QR code is not defined";const _=this._element,P=this._options;if(!_)throw"Element code is not defined";const O=this._qr.getModuleCount(),E=Math.min(P.width,P.height)-2*P.margin,D=P.shape===y?E/Math.sqrt(2):E,F=this._roundSize(D/O),W=7*F,z=3*F,K=this._roundSize((P.width-O*F)/2),Y=this._roundSize((P.height-O*F)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(([J,Z,X])=>{var ne,te,L,V,q,Q,H,ae,se,he,xe,re,le,de;const fe=K+J*F*(O-7),ge=Y+Z*F*(O-7);let be=this._dotsClipPath,oe=this._dotsClipPath;if((!((ne=P.cornersSquareOptions)===null||ne===void 0)&&ne.gradient||!((te=P.cornersSquareOptions)===null||te===void 0)&&te.color)&&(be=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),be.setAttribute("id",`clip-path-corners-square-color-${J}-${Z}-${this._instanceId}`),this._defs.appendChild(be),this._cornersSquareClipPath=this._cornersDotClipPath=oe=be,this._createColor({options:(L=P.cornersSquareOptions)===null||L===void 0?void 0:L.gradient,color:(V=P.cornersSquareOptions)===null||V===void 0?void 0:V.color,additionalRotation:X,x:fe,y:ge,height:W,width:W,name:`corners-square-color-${J}-${Z}-${this._instanceId}`})),((q=P.cornersSquareOptions)===null||q===void 0?void 0:q.type)&&h.includes(P.cornersSquareOptions.type)){const _e=new p({svg:this._element,type:P.cornersSquareOptions.type,window:this._window});_e.draw(fe,ge,W,X),_e._element&&be&&be.appendChild(_e._element)}else{const _e=new d({svg:this._element,type:((Q=P.cornersSquareOptions)===null||Q===void 0?void 0:Q.type)||P.dotsOptions.type,window:this._window});for(let Ee=0;Ee<b.length;Ee++)for(let ye=0;ye<b[Ee].length;ye++)!((H=b[Ee])===null||H===void 0)&&H[ye]&&(_e.draw(fe+ye*F,ge+Ee*F,F,(Se,Ie)=>{var Fe;return!!(!((Fe=b[Ee+Ie])===null||Fe===void 0)&&Fe[ye+Se])}),_e._element&&be&&be.appendChild(_e._element))}if((!((ae=P.cornersDotOptions)===null||ae===void 0)&&ae.gradient||!((se=P.cornersDotOptions)===null||se===void 0)&&se.color)&&(oe=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),oe.setAttribute("id",`clip-path-corners-dot-color-${J}-${Z}-${this._instanceId}`),this._defs.appendChild(oe),this._cornersDotClipPath=oe,this._createColor({options:(he=P.cornersDotOptions)===null||he===void 0?void 0:he.gradient,color:(xe=P.cornersDotOptions)===null||xe===void 0?void 0:xe.color,additionalRotation:X,x:fe+2*F,y:ge+2*F,height:z,width:z,name:`corners-dot-color-${J}-${Z}-${this._instanceId}`})),((re=P.cornersDotOptions)===null||re===void 0?void 0:re.type)&&g.includes(P.cornersDotOptions.type)){const _e=new v({svg:this._element,type:P.cornersDotOptions.type,window:this._window});_e.draw(fe+2*F,ge+2*F,z,X),_e._element&&oe&&oe.appendChild(_e._element)}else{const _e=new d({svg:this._element,type:((le=P.cornersDotOptions)===null||le===void 0?void 0:le.type)||P.dotsOptions.type,window:this._window});for(let Ee=0;Ee<x.length;Ee++)for(let ye=0;ye<x[Ee].length;ye++)!((de=x[Ee])===null||de===void 0)&&de[ye]&&(_e.draw(fe+ye*F,ge+Ee*F,F,(Se,Ie)=>{var Fe;return!!(!((Fe=x[Ee+Ie])===null||Fe===void 0)&&Fe[ye+Se])}),_e._element&&oe&&oe.appendChild(_e._element))}})}loadImage(){return new Promise((_,P)=>{var O;const E=this._options;if(!E.image)return P("Image is not defined");if(!((O=E.nodeCanvas)===null||O===void 0)&&O.loadImage)E.nodeCanvas.loadImage(E.image).then(D=>{var F,W;if(this._image=D,this._options.imageOptions.saveAsBlob){const z=(F=E.nodeCanvas)===null||F===void 0?void 0:F.createCanvas(this._image.width,this._image.height);(W=z==null?void 0:z.getContext("2d"))===null||W===void 0||W.drawImage(D,0,0),this._imageUri=z==null?void 0:z.toDataURL()}_()}).catch(P);else{const D=new this._window.Image;typeof E.imageOptions.crossOrigin=="string"&&(D.crossOrigin=E.imageOptions.crossOrigin),this._image=D,D.onload=async()=>{this._options.imageOptions.saveAsBlob&&(this._imageUri=await async function(F,W){return new Promise(z=>{const K=new W.XMLHttpRequest;K.onload=function(){const Y=new W.FileReader;Y.onloadend=function(){z(Y.result)},Y.readAsDataURL(K.response)},K.open("GET",F),K.responseType="blob",K.send()})}(E.image||"",this._window)),_()},D.src=E.image}})}async drawImage({width:_,height:P,count:O,dotSize:E}){const D=this._options,F=this._roundSize((D.width-O*E)/2),W=this._roundSize((D.height-O*E)/2),z=F+this._roundSize(D.imageOptions.margin+(O*E-_)/2),K=W+this._roundSize(D.imageOptions.margin+(O*E-P)/2),Y=_-2*D.imageOptions.margin,J=P-2*D.imageOptions.margin,Z=this._window.document.createElementNS("http://www.w3.org/2000/svg","image");Z.setAttribute("href",this._imageUri||""),Z.setAttribute("xlink:href",this._imageUri||""),Z.setAttribute("x",String(z)),Z.setAttribute("y",String(K)),Z.setAttribute("width",`${Y}px`),Z.setAttribute("height",`${J}px`),this._element.appendChild(Z)}_createColor({options:_,color:P,additionalRotation:O,x:E,y:D,height:F,width:W,name:z}){const K=W>F?W:F,Y=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");if(Y.setAttribute("x",String(E)),Y.setAttribute("y",String(D)),Y.setAttribute("height",String(F)),Y.setAttribute("width",String(W)),Y.setAttribute("clip-path",`url('#clip-path-${z}')`),_){let J;if(_.type==="radial")J=this._window.document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),J.setAttribute("id",z),J.setAttribute("gradientUnits","userSpaceOnUse"),J.setAttribute("fx",String(E+W/2)),J.setAttribute("fy",String(D+F/2)),J.setAttribute("cx",String(E+W/2)),J.setAttribute("cy",String(D+F/2)),J.setAttribute("r",String(K/2));else{const Z=((_.rotation||0)+O)%(2*Math.PI),X=(Z+2*Math.PI)%(2*Math.PI);let ne=E+W/2,te=D+F/2,L=E+W/2,V=D+F/2;X>=0&&X<=.25*Math.PI||X>1.75*Math.PI&&X<=2*Math.PI?(ne-=W/2,te-=F/2*Math.tan(Z),L+=W/2,V+=F/2*Math.tan(Z)):X>.25*Math.PI&&X<=.75*Math.PI?(te-=F/2,ne-=W/2/Math.tan(Z),V+=F/2,L+=W/2/Math.tan(Z)):X>.75*Math.PI&&X<=1.25*Math.PI?(ne+=W/2,te+=F/2*Math.tan(Z),L-=W/2,V-=F/2*Math.tan(Z)):X>1.25*Math.PI&&X<=1.75*Math.PI&&(te+=F/2,ne+=W/2/Math.tan(Z),V-=F/2,L-=W/2/Math.tan(Z)),J=this._window.document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),J.setAttribute("id",z),J.setAttribute("gradientUnits","userSpaceOnUse"),J.setAttribute("x1",String(Math.round(ne))),J.setAttribute("y1",String(Math.round(te))),J.setAttribute("x2",String(Math.round(L))),J.setAttribute("y2",String(Math.round(V)))}_.colorStops.forEach(({offset:Z,color:X})=>{const ne=this._window.document.createElementNS("http://www.w3.org/2000/svg","stop");ne.setAttribute("offset",100*Z+"%"),ne.setAttribute("stop-color",X),J.appendChild(ne)}),Y.setAttribute("fill",`url('#${z}')`),this._defs.appendChild(J)}else P&&Y.setAttribute("fill",P);this._element.appendChild(Y)}}S.instanceCount=0;const j=S,w="canvas",C={};for(let A=0;A<=40;A++)C[A]=A;const k={type:w,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:C[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{saveAsBlob:!0,hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000",roundSize:!0},backgroundOptions:{round:0,color:"#fff"}};function N(A){const _=Object.assign({},A);if(!_.colorStops||!_.colorStops.length)throw"Field 'colorStops' is required in gradient";return _.rotation?_.rotation=Number(_.rotation):_.rotation=0,_.colorStops=_.colorStops.map(P=>Object.assign(Object.assign({},P),{offset:Number(P.offset)})),_}function M(A){const _=Object.assign({},A);return _.width=Number(_.width),_.height=Number(_.height),_.margin=Number(_.margin),_.imageOptions=Object.assign(Object.assign({},_.imageOptions),{hideBackgroundDots:!!_.imageOptions.hideBackgroundDots,imageSize:Number(_.imageOptions.imageSize),margin:Number(_.imageOptions.margin)}),_.margin>Math.min(_.width,_.height)&&(_.margin=Math.min(_.width,_.height)),_.dotsOptions=Object.assign({},_.dotsOptions),_.dotsOptions.gradient&&(_.dotsOptions.gradient=N(_.dotsOptions.gradient)),_.cornersSquareOptions&&(_.cornersSquareOptions=Object.assign({},_.cornersSquareOptions),_.cornersSquareOptions.gradient&&(_.cornersSquareOptions.gradient=N(_.cornersSquareOptions.gradient))),_.cornersDotOptions&&(_.cornersDotOptions=Object.assign({},_.cornersDotOptions),_.cornersDotOptions.gradient&&(_.cornersDotOptions.gradient=N(_.cornersDotOptions.gradient))),_.backgroundOptions&&(_.backgroundOptions=Object.assign({},_.backgroundOptions),_.backgroundOptions.gradient&&(_.backgroundOptions.gradient=N(_.backgroundOptions.gradient))),_}var R=a(873),B=a.n(R);function U(A){if(!A)throw new Error("Extension must be defined");A[0]==="."&&(A=A.substring(1));const _={bmp:"image/bmp",gif:"image/gif",ico:"image/vnd.microsoft.icon",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",tif:"image/tiff",tiff:"image/tiff",webp:"image/webp",pdf:"application/pdf"}[A.toLowerCase()];if(!_)throw new Error(`Extension "${A}" is not supported`);return _}class ${constructor(_){_!=null&&_.jsdom?this._window=new _.jsdom("",{resources:"usable"}).window:this._window=window,this._options=_?M(l(k,_)):k,this.update()}static _clearContainer(_){_&&(_.innerHTML="")}_setupSvg(){if(!this._qr)return;const _=new j(this._options,this._window);this._svg=_.getElement(),this._svgDrawingPromise=_.drawQR(this._qr).then(()=>{var P;this._svg&&((P=this._extension)===null||P===void 0||P.call(this,_.getElement(),this._options))})}_setupCanvas(){var _,P;this._qr&&(!((_=this._options.nodeCanvas)===null||_===void 0)&&_.createCanvas?(this._nodeCanvas=this._options.nodeCanvas.createCanvas(this._options.width,this._options.height),this._nodeCanvas.width=this._options.width,this._nodeCanvas.height=this._options.height):(this._domCanvas=document.createElement("canvas"),this._domCanvas.width=this._options.width,this._domCanvas.height=this._options.height),this._setupSvg(),this._canvasDrawingPromise=(P=this._svgDrawingPromise)===null||P===void 0?void 0:P.then(()=>{var O;if(!this._svg)return;const E=this._svg,D=new this._window.XMLSerializer().serializeToString(E),F=btoa(D),W=`data:${U("svg")};base64,${F}`;if(!((O=this._options.nodeCanvas)===null||O===void 0)&&O.loadImage)return this._options.nodeCanvas.loadImage(W).then(z=>{var K,Y;z.width=this._options.width,z.height=this._options.height,(Y=(K=this._nodeCanvas)===null||K===void 0?void 0:K.getContext("2d"))===null||Y===void 0||Y.drawImage(z,0,0)});{const z=new this._window.Image;return new Promise(K=>{z.onload=()=>{var Y,J;(J=(Y=this._domCanvas)===null||Y===void 0?void 0:Y.getContext("2d"))===null||J===void 0||J.drawImage(z,0,0),K()},z.src=W})}}))}async _getElement(_="png"){if(!this._qr)throw"QR code is empty";return _.toLowerCase()==="svg"?(this._svg&&this._svgDrawingPromise||this._setupSvg(),await this._svgDrawingPromise,this._svg):((this._domCanvas||this._nodeCanvas)&&this._canvasDrawingPromise||this._setupCanvas(),await this._canvasDrawingPromise,this._domCanvas||this._nodeCanvas)}update(_){$._clearContainer(this._container),this._options=_?M(l(this._options,_)):this._options,this._options.data&&(this._qr=B()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||function(P){switch(!0){case/^[0-9]*$/.test(P):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(P):return"Alphanumeric";default:return"Byte"}}(this._options.data)),this._qr.make(),this._options.type===w?this._setupCanvas():this._setupSvg(),this.append(this._container))}append(_){if(_){if(typeof _.appendChild!="function")throw"Container should be a single DOM node";this._options.type===w?this._domCanvas&&_.appendChild(this._domCanvas):this._svg&&_.appendChild(this._svg),this._container=_}}applyExtension(_){if(!_)throw"Extension function should be defined.";this._extension=_,this.update()}deleteExtension(){this._extension=void 0,this.update()}async getRawData(_="png"){if(!this._qr)throw"QR code is empty";const P=await this._getElement(_),O=U(_);if(!P)return null;if(_.toLowerCase()==="svg"){const E=`<?xml version="1.0" standalone="no"?>\r
${new this._window.XMLSerializer().serializeToString(P)}`;return typeof Blob>"u"||this._options.jsdom?Buffer.from(E):new Blob([E],{type:O})}return new Promise(E=>{const D=P;if("toBuffer"in D)if(O==="image/png")E(D.toBuffer(O));else if(O==="image/jpeg")E(D.toBuffer(O));else{if(O!=="application/pdf")throw Error("Unsupported extension");E(D.toBuffer(O))}else"toBlob"in D&&D.toBlob(E,O,1)})}async download(_){if(!this._qr)throw"QR code is empty";if(typeof Blob>"u")throw"Cannot download in Node.js, call getRawData instead.";let P="png",O="qr";typeof _=="string"?(P=_,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):typeof _=="object"&&_!==null&&(_.name&&(O=_.name),_.extension&&(P=_.extension));const E=await this._getElement(P);if(E)if(P.toLowerCase()==="svg"){let D=new XMLSerializer().serializeToString(E);D=`<?xml version="1.0" standalone="no"?>\r
`+D,c(`data:${U(P)};charset=utf-8,${encodeURIComponent(D)}`,`${O}.svg`)}else c(E.toDataURL(U(P)),`${O}.${P}`)}}const I=$})(),i.default})())})(oO);var aie=oO.exports;const Qy=De(aie);function iie(){const{t:e}=qt(),t=Rr(),{userRole:r,effectiveUserId:n}=ze(),[a,i]=T.useState(null),[o,l]=T.useState({totalVisits:0,todayVisits:0,weekVisits:0,monthVisits:0,sourceBreakdown:{},trendData:[]}),[c,u]=T.useState(!0),[d,f]=T.useState("30"),h=T.useRef(null),p=T.useRef(null);T.useEffect(()=>{const M=new URLSearchParams(t.search).get("impersonate");M&&(r==="admin"||r==="reseller")&&(localStorage.setItem("impersonating_user_id",M),window.location.href="/dashboard")},[t.search,r]),T.useEffect(()=>{n&&g()},[n,d]),T.useEffect(()=>{a!=null&&a.slug&&m()},[a]);const m=()=>{if(!(a!=null&&a.slug)||!h.current)return;const N=`${window.location.origin}/${a.slug}?ref=QR`;p.current?p.current.update({data:N}):(p.current=new Qy({width:220,height:220,data:N,margin:5,qrOptions:{typeNumber:0,mode:"Byte",errorCorrectionLevel:"H"},dotsOptions:{color:"#000000",type:"rounded"},backgroundOptions:{color:"#ffffff"},cornersSquareOptions:{type:"extra-rounded"},cornersDotOptions:{type:"dot"}}),p.current.append(h.current))},g=async()=>{if(n)try{const{data:N}=await ee.from("restaurants").select("*").eq("user_id",n).maybeSingle();if(!N){u(!1);return}i(N);const M=new Date,R=M.toISOString().split("T")[0],U=new Date(M.getTime()-parseInt(d)*24*60*60*1e3).toISOString().split("T")[0],{data:$}=await ee.from("restaurant_analytics_daily").select("date, total_visits, source_breakdown").eq("restaurant_id",N.id).gte("date",U).order("date",{ascending:!0}),{data:I}=await ee.from("restaurant_analytics_daily").select("total_visits").eq("restaurant_id",N.id),A=(I==null?void 0:I.reduce((F,W)=>F+W.total_visits,0))||0,_=$==null?void 0:$.find(F=>F.date===R),P=(_==null?void 0:_.total_visits)||0,O=($==null?void 0:$.reduce((F,W)=>F+W.total_visits,0))||0,E={};$==null||$.forEach(F=>{const W=F.source_breakdown;Object.entries(W).forEach(([z,K])=>{E[z]=(E[z]||0)+K})});const D=($==null?void 0:$.map(F=>({date:F.date,visits:F.total_visits,sources:F.source_breakdown})))||[];l({totalVisits:A,todayVisits:P,weekVisits:O,monthVisits:O,sourceBreakdown:E,trendData:D})}catch(N){console.error("Error loading analytics:",N)}finally{u(!1)}},v=o.sourceBreakdown.QR||0,y=o.sourceBreakdown.GMB||0,b=o.sourceBreakdown.FB||0,x=o.sourceBreakdown.IG||0,S=o.sourceBreakdown.LI||0,j=o.sourceBreakdown.TT||0,w=o.weekVisits,C=N=>({QR:"#3b82f6",GMB:"#10b981",FB:"#1877f2",IG:"#e4405f",LI:"#0077b5",TT:"#000000"})[N]||"#6b7280",k=N=>e.dashboard.sourceLabels[N]||N;return s.jsx(_t,{children:s.jsxs("div",{className:"max-w-7xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:e.dashboard.welcomeTitle}),s.jsx("p",{className:"text-gray-600",children:e.dashboard.welcomeDescription})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:v}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.dashboard.qrScans}),s.jsx("p",{className:"text-xs text-blue-600 mt-2",children:(()=>{const N=o.trendData.filter(M=>new Date(M.date).toDateString()===new Date().toDateString()).reduce((M,R)=>M+(R.sources.QR||0),0);return N>0?`${N} ${N>1?e.dashboard.scansToday:e.dashboard.scanToday}`:e.dashboard.noScanToday})()})]}),s.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:"#dbeafe"},children:s.jsx(sk,{className:"w-6 h-6",style:{color:"#3b82f6"}})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:y}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.dashboard.gmbVisits}),s.jsx("p",{className:"text-xs mt-2",style:{color:"#10b981"},children:(()=>{const N=o.trendData.filter(M=>new Date(M.date).toDateString()===new Date().toDateString()).reduce((M,R)=>M+(R.sources.GMB||0),0);return N>0?`${N} ${e.dashboard.visitsGmbToday}`:e.dashboard.noVisitGmbToday})()})]}),s.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:"#d1fae5"},children:s.jsx(Jf,{className:"w-6 h-6",style:{color:"#10b981"}})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:b}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.dashboard.fbShares}),s.jsx("p",{className:"text-xs mt-2",style:{color:"#1877f2"},children:(()=>{const N=o.trendData.filter(M=>new Date(M.date).toDateString()===new Date().toDateString()).reduce((M,R)=>M+(R.sources.FB||0),0);return N>0?`${N} ${N>1?e.dashboard.sharesToday:e.dashboard.shareToday}`:e.dashboard.noShareToday})()})]}),s.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:"#dbeefe"},children:s.jsx(Yf,{className:"w-6 h-6",style:{color:"#1877f2"}})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:x}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.dashboard.igShares}),s.jsx("p",{className:"text-xs mt-2",style:{color:"#e4405f"},children:(()=>{const N=o.trendData.filter(M=>new Date(M.date).toDateString()===new Date().toDateString()).reduce((M,R)=>M+(R.sources.IG||0),0);return N>0?`${N} ${N>1?e.dashboard.sharesToday:e.dashboard.shareToday}`:e.dashboard.noShareToday})()})]}),s.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:"#fce7f3"},children:s.jsx(Rl,{className:"w-6 h-6",style:{color:"#e4405f"}})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:S}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.dashboard.liShares}),s.jsx("p",{className:"text-xs mt-2",style:{color:"#0077b5"},children:(()=>{const N=o.trendData.filter(M=>new Date(M.date).toDateString()===new Date().toDateString()).reduce((M,R)=>M+(R.sources.LI||0),0);return N>0?`${N} ${N>1?e.dashboard.sharesToday:e.dashboard.shareToday}`:e.dashboard.noShareToday})()})]}),s.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:"#dbeafe"},children:s.jsx(Xf,{className:"w-6 h-6",style:{color:"#0077b5"}})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:j}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.dashboard.ttShares}),s.jsx("p",{className:"text-xs mt-2",style:{color:"#000000"},children:(()=>{const N=o.trendData.filter(M=>new Date(M.date).toDateString()===new Date().toDateString()).reduce((M,R)=>M+(R.sources.TT||0),0);return N>0?`${N} ${N>1?e.dashboard.sharesToday:e.dashboard.shareToday}`:e.dashboard.noShareToday})()})]}),s.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:"#e5e7eb"},children:s.jsx("div",{className:"w-6 h-6 flex items-center justify-center text-xs font-bold",style:{color:"#000000"},children:"TT"})})]})})]})}),s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-200 flex flex-col items-center justify-center",children:[s.jsx("div",{ref:h,className:"mb-6"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold text-gray-900 mb-2",children:w}),s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:e.dashboard.totalViews}),s.jsxs("div",{className:"text-xs text-gray-500",children:[v+y+b+x+S+j," ",e.dashboard.visitsThisMonthCount]})]})]})]}),s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-200 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e.dashboard.visitsEvolution}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.dashboard.comparisonByAccess})]}),s.jsxs("select",{value:d,onChange:N=>f(N.target.value),className:"px-4 py-2.5 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors cursor-pointer",children:[s.jsx("option",{value:"7",children:e.dashboard.last7Days}),s.jsx("option",{value:"30",children:e.dashboard.last30Days}),s.jsx("option",{value:"90",children:e.dashboard.last90Days||"Last 90 Days"}),s.jsx("option",{value:"180",children:e.dashboard.last180Days||"Last 6 Months"}),s.jsx("option",{value:"365",children:e.dashboard.last365Days||"Last Year"})]})]}),c?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):o.trendData.length>0?s.jsx(nie,{trendData:o.trendData,getSourceColor:C,getSourceLabel:k}):s.jsx("div",{className:"flex items-center justify-center h-96 text-gray-500",children:e.dashboard.noData||"No data available"})]})]})})}function oie({restaurantName:e,logoUrl:t,heroBackgroundColor:r,primaryColor:n,secondaryColor:a,footerBgColor:i,footerTextPrimary:o,footerTextSecondary:l,currencySymbol:c,currencyPosition:u,menuItems:d=[]}){const f=h=>{const p=h.toFixed(2);return u==="right"?`${p}${c}`:`${c}${p}`};return s.jsxs("div",{className:"relative w-[280px] h-[570px] mx-auto",children:[s.jsx("div",{className:"absolute inset-0 bg-gray-900 rounded-[50px] shadow-2xl p-3",children:s.jsxs("div",{className:"w-full h-full bg-white rounded-[42px] overflow-hidden relative",children:[s.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-32 h-6 bg-gray-900 rounded-b-3xl z-50"}),s.jsxs("div",{className:"h-full overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"bg-white px-3 py-2 flex items-center justify-between border-b border-gray-200",children:[s.jsx("h1",{className:"text-xs font-bold text-gray-900 truncate",children:e||"Restaurant"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-4 h-4 rounded bg-gray-200"}),s.jsx("div",{className:"w-4 h-4 rounded bg-gray-200"})]})]}),s.jsx("div",{className:"h-32 flex items-center justify-center transition-colors duration-300",style:{backgroundColor:r},children:t?s.jsx("img",{src:t,alt:e,className:"h-16 w-auto object-contain"}):s.jsx("h1",{className:"text-base font-bold px-4 text-center",style:{color:r==="#ffffff"||r==="#fff"?"#000000":"#ffffff"},children:e||"Restaurant"})}),s.jsx("div",{className:"flex-1 bg-gray-50 px-3 py-4 overflow-y-auto",children:s.jsxs("div",{className:"space-y-3",children:[d.length>0?d.slice(0,2).map(h=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3 flex gap-2",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded flex-shrink-0 flex items-center justify-center overflow-hidden",children:h.photo_url?s.jsx("img",{src:h.photo_url,alt:h.name,className:"w-full h-full object-cover",onError:p=>{p.currentTarget.style.display="none";const m=p.currentTarget.parentElement;m&&(m.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 text-gray-400"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></svg>')}}):s.jsx(ja,{className:"w-6 h-6 text-gray-400"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-xs font-semibold text-gray-900 mb-1 line-clamp-1",children:h.name}),s.jsx("p",{className:"text-[9px] text-gray-600 mb-1.5 line-clamp-2",children:h.description||"Delicious menu item"}),s.jsx("span",{className:"text-xs font-bold transition-colors duration-300",style:{color:n},children:f(h.price)})]})]},h.id)):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3 flex gap-2",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded flex-shrink-0 flex items-center justify-center",children:s.jsx(ja,{className:"w-6 h-6 text-gray-400"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-xs font-semibold text-gray-900 mb-1",children:"Menu Item"}),s.jsx("p",{className:"text-[9px] text-gray-600 mb-1.5 line-clamp-2",children:"Sample description for this delicious menu item"}),s.jsx("span",{className:"text-xs font-bold transition-colors duration-300",style:{color:n},children:f(12.99)})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3 flex gap-2",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded flex-shrink-0 flex items-center justify-center",children:s.jsx(ja,{className:"w-6 h-6 text-gray-400"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-xs font-semibold text-gray-900 mb-1",children:"Special Dish"}),s.jsx("p",{className:"text-[9px] text-gray-600 mb-1.5 line-clamp-2",children:"Another tasty option with amazing flavors"}),s.jsx("span",{className:"text-xs font-bold transition-colors duration-300",style:{color:n},children:f(15.5)})]})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 py-2 rounded-lg text-[10px] font-medium text-white transition-colors duration-300",style:{backgroundColor:n},children:"Primary"}),s.jsx("button",{className:"flex-1 py-2 rounded-lg text-[10px] font-medium text-white transition-colors duration-300",style:{backgroundColor:a},children:"Secondary"})]})]})}),s.jsxs("div",{className:"px-3 py-3 transition-colors duration-300",style:{backgroundColor:i},children:[s.jsx("div",{className:"text-[9px] font-semibold mb-1 transition-colors duration-300",style:{color:o},children:e||"Restaurant Name"}),s.jsx("div",{className:"text-[8px] transition-colors duration-300",style:{color:l},children:"Contact info and details"})]})]})]})}),s.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-24 h-1 bg-gray-800 rounded-full"})]})}function sie(e,t){return t.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(n){if(n!=="default"&&!(n in e)){var a=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,a.get?a:{enumerable:!0,get:function(){return r[n]}})}})}),Object.freeze(e)}function sO(e,t){return new Promise(function(r,n){let a;return lie(e).then(function(i){try{return a=i,r(new Blob([t.slice(0,2),a,t.slice(2)],{type:"image/jpeg"}))}catch(o){return n(o)}},n)})}const lie=e=>new Promise((t,r)=>{const n=new FileReader;n.addEventListener("load",({target:{result:a}})=>{const i=new DataView(a);let o=0;if(i.getUint16(o)!==65496)return r("not a valid JPEG");for(o+=2;;){const l=i.getUint16(o);if(l===65498)break;const c=i.getUint16(o+2);if(l===65505&&i.getUint32(o+4)===1165519206){const u=o+10;let d;switch(i.getUint16(u)){case 18761:d=!0;break;case 19789:d=!1;break;default:return r("TIFF header contains invalid endian")}if(i.getUint16(u+2,d)!==42)return r("TIFF header contains invalid version");const f=i.getUint32(u+4,d),h=u+f+2+12*i.getUint16(u+f,d);for(let p=u+f+2;p<h;p+=12)if(i.getUint16(p,d)==274){if(i.getUint16(p+2,d)!==3)return r("Orientation data type is invalid");if(i.getUint32(p+4,d)!==1)return r("Orientation data count is invalid");i.setUint16(p+8,1,d);break}return t(a.slice(o,o+2+c))}o+=2+c}return t(new Blob)}),n.readAsArrayBuffer(e)});var bf={},cie={get exports(){return bf},set exports(e){bf=e}};(function(e){var t,r,n={};cie.exports=n,n.parse=function(a,i){for(var o=n.bin.readUshort,l=n.bin.readUint,c=0,u={},d=new Uint8Array(a),f=d.length-4;l(d,f)!=101010256;)f--;c=f,c+=4;var h=o(d,c+=4);o(d,c+=2);var p=l(d,c+=2),m=l(d,c+=4);c+=4,c=m;for(var g=0;g<h;g++){l(d,c),c+=4,c+=4,c+=4,l(d,c+=4),p=l(d,c+=4);var v=l(d,c+=4),y=o(d,c+=4),b=o(d,c+2),x=o(d,c+4);c+=6;var S=l(d,c+=8);c+=4,c+=y+b+x,n._readLocal(d,S,u,p,v,i)}return u},n._readLocal=function(a,i,o,l,c,u){var d=n.bin.readUshort,f=n.bin.readUint;f(a,i),d(a,i+=4),d(a,i+=2);var h=d(a,i+=2);f(a,i+=2),f(a,i+=4),i+=4;var p=d(a,i+=8),m=d(a,i+=2);i+=2;var g=n.bin.readUTF8(a,i,p);if(i+=p,i+=m,u)o[g]={size:c,csize:l};else{var v=new Uint8Array(a.buffer,i);if(h==0)o[g]=new Uint8Array(v.buffer.slice(i,i+l));else{if(h!=8)throw"unknown compression method: "+h;var y=new Uint8Array(c);n.inflateRaw(v,y),o[g]=y}}},n.inflateRaw=function(a,i){return n.F.inflate(a,i)},n.inflate=function(a,i){return a[0],a[1],n.inflateRaw(new Uint8Array(a.buffer,a.byteOffset+2,a.length-6),i)},n.deflate=function(a,i){i==null&&(i={level:6});var o=0,l=new Uint8Array(50+Math.floor(1.1*a.length));l[o]=120,l[o+1]=156,o+=2,o=n.F.deflateRaw(a,l,o,i.level);var c=n.adler(a,0,a.length);return l[o+0]=c>>>24&255,l[o+1]=c>>>16&255,l[o+2]=c>>>8&255,l[o+3]=c>>>0&255,new Uint8Array(l.buffer,0,o+4)},n.deflateRaw=function(a,i){i==null&&(i={level:6});var o=new Uint8Array(50+Math.floor(1.1*a.length)),l=n.F.deflateRaw(a,o,l,i.level);return new Uint8Array(o.buffer,0,l)},n.encode=function(a,i){i==null&&(i=!1);var o=0,l=n.bin.writeUint,c=n.bin.writeUshort,u={};for(var d in a){var f=!n._noNeed(d)&&!i,h=a[d],p=n.crc.crc(h,0,h.length);u[d]={cpr:f,usize:h.length,crc:p,file:f?n.deflateRaw(h):h}}for(var d in u)o+=u[d].file.length+30+46+2*n.bin.sizeUTF8(d);o+=22;var m=new Uint8Array(o),g=0,v=[];for(var d in u){var y=u[d];v.push(g),g=n._writeHeader(m,g,d,y,0)}var b=0,x=g;for(var d in u)y=u[d],v.push(g),g=n._writeHeader(m,g,d,y,1,v[b++]);var S=g-x;return l(m,g,101010256),g+=4,c(m,g+=4,b),c(m,g+=2,b),l(m,g+=2,S),l(m,g+=4,x),g+=4,g+=2,m.buffer},n._noNeed=function(a){var i=a.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(i)!=-1},n._writeHeader=function(a,i,o,l,c,u){var d=n.bin.writeUint,f=n.bin.writeUshort,h=l.file;return d(a,i,c==0?67324752:33639248),i+=4,c==1&&(i+=2),f(a,i,20),f(a,i+=2,0),f(a,i+=2,l.cpr?8:0),d(a,i+=2,0),d(a,i+=4,l.crc),d(a,i+=4,h.length),d(a,i+=4,l.usize),f(a,i+=4,n.bin.sizeUTF8(o)),f(a,i+=2,0),i+=2,c==1&&(i+=2,i+=2,d(a,i+=6,u),i+=4),i+=n.bin.writeUTF8(a,i,o),c==0&&(a.set(h,i),i+=h.length),i},n.crc={table:function(){for(var a=new Uint32Array(256),i=0;i<256;i++){for(var o=i,l=0;l<8;l++)1&o?o=3988292384^o>>>1:o>>>=1;a[i]=o}return a}(),update:function(a,i,o,l){for(var c=0;c<l;c++)a=n.crc.table[255&(a^i[o+c])]^a>>>8;return a},crc:function(a,i,o){return 4294967295^n.crc.update(4294967295,a,i,o)}},n.adler=function(a,i,o){for(var l=1,c=0,u=i,d=i+o;u<d;){for(var f=Math.min(u+5552,d);u<f;)c+=l+=a[u++];l%=65521,c%=65521}return c<<16|l},n.bin={readUshort:function(a,i){return a[i]|a[i+1]<<8},writeUshort:function(a,i,o){a[i]=255&o,a[i+1]=o>>8&255},readUint:function(a,i){return 16777216*a[i+3]+(a[i+2]<<16|a[i+1]<<8|a[i])},writeUint:function(a,i,o){a[i]=255&o,a[i+1]=o>>8&255,a[i+2]=o>>16&255,a[i+3]=o>>24&255},readASCII:function(a,i,o){for(var l="",c=0;c<o;c++)l+=String.fromCharCode(a[i+c]);return l},writeASCII:function(a,i,o){for(var l=0;l<o.length;l++)a[i+l]=o.charCodeAt(l)},pad:function(a){return a.length<2?"0"+a:a},readUTF8:function(a,i,o){for(var l,c="",u=0;u<o;u++)c+="%"+n.bin.pad(a[i+u].toString(16));try{l=decodeURIComponent(c)}catch{return n.bin.readASCII(a,i,o)}return l},writeUTF8:function(a,i,o){for(var l=o.length,c=0,u=0;u<l;u++){var d=o.charCodeAt(u);if(!(4294967168&d))a[i+c]=d,c++;else if(!(4294965248&d))a[i+c]=192|d>>6,a[i+c+1]=128|d>>0&63,c+=2;else if(!(4294901760&d))a[i+c]=224|d>>12,a[i+c+1]=128|d>>6&63,a[i+c+2]=128|d>>0&63,c+=3;else{if(4292870144&d)throw"e";a[i+c]=240|d>>18,a[i+c+1]=128|d>>12&63,a[i+c+2]=128|d>>6&63,a[i+c+3]=128|d>>0&63,c+=4}}return c},sizeUTF8:function(a){for(var i=a.length,o=0,l=0;l<i;l++){var c=a.charCodeAt(l);if(!(4294967168&c))o++;else if(!(4294965248&c))o+=2;else if(!(4294901760&c))o+=3;else{if(4292870144&c)throw"e";o+=4}}return o}},n.F={},n.F.deflateRaw=function(a,i,o,l){var c=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][l],u=n.F.U,d=n.F._goodIndex;n.F._hash;var f=n.F._putsE,h=0,p=o<<3,m=0,g=a.length;if(l==0){for(;h<g;)f(i,p,h+(R=Math.min(65535,g-h))==g?1:0),p=n.F._copyExact(a,h,R,i,p+8),h+=R;return p>>>3}var v=u.lits,y=u.strt,b=u.prev,x=0,S=0,j=0,w=0,C=0,k=0;for(g>2&&(y[k=n.F._hash(a,0)]=0),h=0;h<g;h++){if(C=k,h+1<g-2){k=n.F._hash(a,h+1);var N=h+1&32767;b[N]=y[k],y[k]=N}if(m<=h){(x>14e3||S>26697)&&g-h>100&&(m<h&&(v[x]=h-m,x+=2,m=h),p=n.F._writeBlock(h==g-1||m==g?1:0,v,x,w,a,j,h-j,i,p),x=S=w=0,j=h);var M=0;h<g-2&&(M=n.F._bestMatch(a,h,b,C,Math.min(c[2],g-h),c[3]));var R=M>>>16,B=65535&M;if(M!=0){B=65535&M;var U=d(R=M>>>16,u.of0);u.lhst[257+U]++;var $=d(B,u.df0);u.dhst[$]++,w+=u.exb[U]+u.dxb[$],v[x]=R<<23|h-m,v[x+1]=B<<16|U<<8|$,x+=2,m=h+R}else u.lhst[a[h]]++;S++}}for(j==h&&a.length!=0||(m<h&&(v[x]=h-m,x+=2,m=h),p=n.F._writeBlock(1,v,x,w,a,j,h-j,i,p),x=0,S=0,x=S=w=0,j=h);7&p;)p++;return p>>>3},n.F._bestMatch=function(a,i,o,l,c,u){var d=32767&i,f=o[d],h=d-f+32768&32767;if(f==d||l!=n.F._hash(a,i-h))return 0;for(var p=0,m=0,g=Math.min(32767,i);h<=g&&--u!=0&&f!=d;){if(p==0||a[i+p]==a[i+p-h]){var v=n.F._howLong(a,i,h);if(v>p){if(m=h,(p=v)>=c)break;h+2<v&&(v=h+2);for(var y=0,b=0;b<v-2;b++){var x=i-h+b+32768&32767,S=x-o[x]+32768&32767;S>y&&(y=S,f=x)}}}h+=(d=f)-(f=o[d])+32768&32767}return p<<16|m},n.F._howLong=function(a,i,o){if(a[i]!=a[i-o]||a[i+1]!=a[i+1-o]||a[i+2]!=a[i+2-o])return 0;var l=i,c=Math.min(a.length,i+258);for(i+=3;i<c&&a[i]==a[i-o];)i++;return i-l},n.F._hash=function(a,i){return(a[i]<<8|a[i+1])+(a[i+2]<<4)&65535},n.saved=0,n.F._writeBlock=function(a,i,o,l,c,u,d,f,h){var p,m,g,v,y,b,x,S,j,w=n.F.U,C=n.F._putsF,k=n.F._putsE;w.lhst[256]++,m=(p=n.F.getTrees())[0],g=p[1],v=p[2],y=p[3],b=p[4],x=p[5],S=p[6],j=p[7];var N=32+(h+3&7?8-(h+3&7):0)+(d<<3),M=l+n.F.contSize(w.fltree,w.lhst)+n.F.contSize(w.fdtree,w.dhst),R=l+n.F.contSize(w.ltree,w.lhst)+n.F.contSize(w.dtree,w.dhst);R+=14+3*x+n.F.contSize(w.itree,w.ihst)+(2*w.ihst[16]+3*w.ihst[17]+7*w.ihst[18]);for(var B=0;B<286;B++)w.lhst[B]=0;for(B=0;B<30;B++)w.dhst[B]=0;for(B=0;B<19;B++)w.ihst[B]=0;var U=N<M&&N<R?0:M<R?1:2;if(C(f,h,a),C(f,h+1,U),h+=3,U==0){for(;7&h;)h++;h=n.F._copyExact(c,u,d,f,h)}else{var $,I;if(U==1&&($=w.fltree,I=w.fdtree),U==2){n.F.makeCodes(w.ltree,m),n.F.revCodes(w.ltree,m),n.F.makeCodes(w.dtree,g),n.F.revCodes(w.dtree,g),n.F.makeCodes(w.itree,v),n.F.revCodes(w.itree,v),$=w.ltree,I=w.dtree,k(f,h,y-257),k(f,h+=5,b-1),k(f,h+=5,x-4),h+=4;for(var A=0;A<x;A++)k(f,h+3*A,w.itree[1+(w.ordr[A]<<1)]);h+=3*x,h=n.F._codeTiny(S,w.itree,f,h),h=n.F._codeTiny(j,w.itree,f,h)}for(var _=u,P=0;P<o;P+=2){for(var O=i[P],E=O>>>23,D=_+(8388607&O);_<D;)h=n.F._writeLit(c[_++],$,f,h);if(E!=0){var F=i[P+1],W=F>>16,z=F>>8&255,K=255&F;k(f,h=n.F._writeLit(257+z,$,f,h),E-w.of0[z]),h+=w.exb[z],C(f,h=n.F._writeLit(K,I,f,h),W-w.df0[K]),h+=w.dxb[K],_+=E}}h=n.F._writeLit(256,$,f,h)}return h},n.F._copyExact=function(a,i,o,l,c){var u=c>>>3;return l[u]=o,l[u+1]=o>>>8,l[u+2]=255-l[u],l[u+3]=255-l[u+1],u+=4,l.set(new Uint8Array(a.buffer,i,o),u),c+(o+4<<3)},n.F.getTrees=function(){for(var a=n.F.U,i=n.F._hufTree(a.lhst,a.ltree,15),o=n.F._hufTree(a.dhst,a.dtree,15),l=[],c=n.F._lenCodes(a.ltree,l),u=[],d=n.F._lenCodes(a.dtree,u),f=0;f<l.length;f+=2)a.ihst[l[f]]++;for(f=0;f<u.length;f+=2)a.ihst[u[f]]++;for(var h=n.F._hufTree(a.ihst,a.itree,7),p=19;p>4&&a.itree[1+(a.ordr[p-1]<<1)]==0;)p--;return[i,o,h,c,d,p,l,u]},n.F.getSecond=function(a){for(var i=[],o=0;o<a.length;o+=2)i.push(a[o+1]);return i},n.F.nonZero=function(a){for(var i="",o=0;o<a.length;o+=2)a[o+1]!=0&&(i+=(o>>1)+",");return i},n.F.contSize=function(a,i){for(var o=0,l=0;l<i.length;l++)o+=i[l]*a[1+(l<<1)];return o},n.F._codeTiny=function(a,i,o,l){for(var c=0;c<a.length;c+=2){var u=a[c],d=a[c+1];l=n.F._writeLit(u,i,o,l);var f=u==16?2:u==17?3:7;u>15&&(n.F._putsE(o,l,d,f),l+=f)}return l},n.F._lenCodes=function(a,i){for(var o=a.length;o!=2&&a[o-1]==0;)o-=2;for(var l=0;l<o;l+=2){var c=a[l+1],u=l+3<o?a[l+3]:-1,d=l+5<o?a[l+5]:-1,f=l==0?-1:a[l-1];if(c==0&&u==c&&d==c){for(var h=l+5;h+2<o&&a[h+2]==c;)h+=2;(p=Math.min(h+1-l>>>1,138))<11?i.push(17,p-3):i.push(18,p-11),l+=2*p-2}else if(c==f&&u==c&&d==c){for(h=l+5;h+2<o&&a[h+2]==c;)h+=2;var p=Math.min(h+1-l>>>1,6);i.push(16,p-3),l+=2*p-2}else i.push(c,0)}return o>>>1},n.F._hufTree=function(a,i,o){var l=[],c=a.length,u=i.length,d=0;for(d=0;d<u;d+=2)i[d]=0,i[d+1]=0;for(d=0;d<c;d++)a[d]!=0&&l.push({lit:d,f:a[d]});var f=l.length,h=l.slice(0);if(f==0)return 0;if(f==1){var p=l[0].lit;return h=p==0?1:0,i[1+(p<<1)]=1,i[1+(h<<1)]=1,1}l.sort(function(S,j){return S.f-j.f});var m=l[0],g=l[1],v=0,y=1,b=2;for(l[0]={lit:-1,f:m.f+g.f,l:m,r:g,d:0};y!=f-1;)m=v!=y&&(b==f||l[v].f<l[b].f)?l[v++]:l[b++],g=v!=y&&(b==f||l[v].f<l[b].f)?l[v++]:l[b++],l[y++]={lit:-1,f:m.f+g.f,l:m,r:g};var x=n.F.setDepth(l[y-1],0);for(x>o&&(n.F.restrictDepth(h,o,x),x=o),d=0;d<f;d++)i[1+(h[d].lit<<1)]=h[d].d;return x},n.F.setDepth=function(a,i){return a.lit!=-1?(a.d=i,i):Math.max(n.F.setDepth(a.l,i+1),n.F.setDepth(a.r,i+1))},n.F.restrictDepth=function(a,i,o){var l=0,c=1<<o-i,u=0;for(a.sort(function(f,h){return h.d==f.d?f.f-h.f:h.d-f.d}),l=0;l<a.length&&a[l].d>i;l++){var d=a[l].d;a[l].d=i,u+=c-(1<<o-d)}for(u>>>=o-i;u>0;)(d=a[l].d)<i?(a[l].d++,u-=1<<i-d-1):l++;for(;l>=0;l--)a[l].d==i&&u<0&&(a[l].d--,u++);u!=0&&console.log("debt left")},n.F._goodIndex=function(a,i){var o=0;return i[16|o]<=a&&(o|=16),i[8|o]<=a&&(o|=8),i[4|o]<=a&&(o|=4),i[2|o]<=a&&(o|=2),i[1|o]<=a&&(o|=1),o},n.F._writeLit=function(a,i,o,l){return n.F._putsF(o,l,i[a<<1]),l+i[1+(a<<1)]},n.F.inflate=function(a,i){var o=Uint8Array;if(a[0]==3&&a[1]==0)return i||new o(0);var l=n.F,c=l._bitsF,u=l._bitsE,d=l._decodeTiny,f=l.makeCodes,h=l.codes2map,p=l._get17,m=l.U,g=i==null;g&&(i=new o(a.length>>>2<<3));for(var v,y,b=0,x=0,S=0,j=0,w=0,C=0,k=0,N=0,M=0;b==0;)if(b=c(a,M,1),x=c(a,M+1,2),M+=3,x!=0){if(g&&(i=n.F._check(i,N+(1<<17))),x==1&&(v=m.flmap,y=m.fdmap,C=511,k=31),x==2){S=u(a,M,5)+257,j=u(a,M+5,5)+1,w=u(a,M+10,4)+4,M+=14;for(var R=0;R<38;R+=2)m.itree[R]=0,m.itree[R+1]=0;var B=1;for(R=0;R<w;R++){var U=u(a,M+3*R,3);m.itree[1+(m.ordr[R]<<1)]=U,U>B&&(B=U)}M+=3*w,f(m.itree,B),h(m.itree,B,m.imap),v=m.lmap,y=m.dmap,M=d(m.imap,(1<<B)-1,S+j,a,M,m.ttree);var $=l._copyOut(m.ttree,0,S,m.ltree);C=(1<<$)-1;var I=l._copyOut(m.ttree,S,j,m.dtree);k=(1<<I)-1,f(m.ltree,$),h(m.ltree,$,v),f(m.dtree,I),h(m.dtree,I,y)}for(;;){var A=v[p(a,M)&C];M+=15&A;var _=A>>>4;if(!(_>>>8))i[N++]=_;else{if(_==256)break;var P=N+_-254;if(_>264){var O=m.ldef[_-257];P=N+(O>>>3)+u(a,M,7&O),M+=7&O}var E=y[p(a,M)&k];M+=15&E;var D=E>>>4,F=m.ddef[D],W=(F>>>4)+c(a,M,15&F);for(M+=15&F,g&&(i=n.F._check(i,N+(1<<17)));N<P;)i[N]=i[N++-W],i[N]=i[N++-W],i[N]=i[N++-W],i[N]=i[N++-W];N=P}}}else{7&M&&(M+=8-(7&M));var z=4+(M>>>3),K=a[z-4]|a[z-3]<<8;g&&(i=n.F._check(i,N+K)),i.set(new o(a.buffer,a.byteOffset+z,K),N),M=z+K<<3,N+=K}return i.length==N?i:i.slice(0,N)},n.F._check=function(a,i){var o=a.length;if(i<=o)return a;var l=new Uint8Array(Math.max(o<<1,i));return l.set(a,0),l},n.F._decodeTiny=function(a,i,o,l,c,u){for(var d=n.F._bitsE,f=n.F._get17,h=0;h<o;){var p=a[f(l,c)&i];c+=15&p;var m=p>>>4;if(m<=15)u[h]=m,h++;else{var g=0,v=0;m==16?(v=3+d(l,c,2),c+=2,g=u[h-1]):m==17?(v=3+d(l,c,3),c+=3):m==18&&(v=11+d(l,c,7),c+=7);for(var y=h+v;h<y;)u[h]=g,h++}}return c},n.F._copyOut=function(a,i,o,l){for(var c=0,u=0,d=l.length>>>1;u<o;){var f=a[u+i];l[u<<1]=0,l[1+(u<<1)]=f,f>c&&(c=f),u++}for(;u<d;)l[u<<1]=0,l[1+(u<<1)]=0,u++;return c},n.F.makeCodes=function(a,i){for(var o,l,c,u,d=n.F.U,f=a.length,h=d.bl_count,p=0;p<=i;p++)h[p]=0;for(p=1;p<f;p+=2)h[a[p]]++;var m=d.next_code;for(o=0,h[0]=0,l=1;l<=i;l++)o=o+h[l-1]<<1,m[l]=o;for(c=0;c<f;c+=2)(u=a[c+1])!=0&&(a[c]=m[u],m[u]++)},n.F.codes2map=function(a,i,o){for(var l=a.length,c=n.F.U.rev15,u=0;u<l;u+=2)if(a[u+1]!=0)for(var d=u>>1,f=a[u+1],h=d<<4|f,p=i-f,m=a[u]<<p,g=m+(1<<p);m!=g;)o[c[m]>>>15-i]=h,m++},n.F.revCodes=function(a,i){for(var o=n.F.U.rev15,l=15-i,c=0;c<a.length;c+=2){var u=a[c]<<i-a[c+1];a[c]=o[u]>>>l}},n.F._putsE=function(a,i,o){o<<=7&i;var l=i>>>3;a[l]|=o,a[l+1]|=o>>>8},n.F._putsF=function(a,i,o){o<<=7&i;var l=i>>>3;a[l]|=o,a[l+1]|=o>>>8,a[l+2]|=o>>>16},n.F._bitsE=function(a,i,o){return(a[i>>>3]|a[1+(i>>>3)]<<8)>>>(7&i)&(1<<o)-1},n.F._bitsF=function(a,i,o){return(a[i>>>3]|a[1+(i>>>3)]<<8|a[2+(i>>>3)]<<16)>>>(7&i)&(1<<o)-1},n.F._get17=function(a,i){return(a[i>>>3]|a[1+(i>>>3)]<<8|a[2+(i>>>3)]<<16)>>>(7&i)},n.F._get25=function(a,i){return(a[i>>>3]|a[1+(i>>>3)]<<8|a[2+(i>>>3)]<<16|a[3+(i>>>3)]<<24)>>>(7&i)},n.F.U=(t=Uint16Array,r=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new r(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new r(286),dhst:new r(30),ihst:new r(19),lits:new r(15e3),strt:new t(65536),prev:new t(32768)}),function(){for(var a=n.F.U,i=0;i<32768;i++){var o=i;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,a.rev15[i]=(o>>>16|o<<16)>>>17}function l(c,u,d){for(;u--!=0;)c.push(0,d)}for(i=0;i<32;i++)a.ldef[i]=a.of0[i]<<3|a.exb[i],a.ddef[i]=a.df0[i]<<4|a.dxb[i];l(a.fltree,144,8),l(a.fltree,112,9),l(a.fltree,24,7),l(a.fltree,8,8),n.F.makeCodes(a.fltree,9),n.F.codes2map(a.fltree,9,a.flmap),n.F.revCodes(a.fltree,9),l(a.fdtree,32,5),n.F.makeCodes(a.fdtree,5),n.F.codes2map(a.fdtree,5,a.fdmap),n.F.revCodes(a.fdtree,5),l(a.itree,19,0),l(a.ltree,286,0),l(a.dtree,30,0),l(a.ttree,320,0)}()})();var uie=sie({__proto__:null,default:bf},[bf]);const zr=function(){var e={nextZero(d,f){for(;d[f]!=0;)f++;return f},readUshort:(d,f)=>d[f]<<8|d[f+1],writeUshort(d,f,h){d[f]=h>>8&255,d[f+1]=255&h},readUint:(d,f)=>16777216*d[f]+(d[f+1]<<16|d[f+2]<<8|d[f+3]),writeUint(d,f,h){d[f]=h>>24&255,d[f+1]=h>>16&255,d[f+2]=h>>8&255,d[f+3]=255&h},readASCII(d,f,h){let p="";for(let m=0;m<h;m++)p+=String.fromCharCode(d[f+m]);return p},writeASCII(d,f,h){for(let p=0;p<h.length;p++)d[f+p]=h.charCodeAt(p)},readBytes(d,f,h){const p=[];for(let m=0;m<h;m++)p.push(d[f+m]);return p},pad:d=>d.length<2?`0${d}`:d,readUTF8(d,f,h){let p,m="";for(let g=0;g<h;g++)m+=`%${e.pad(d[f+g].toString(16))}`;try{p=decodeURIComponent(m)}catch{return e.readASCII(d,f,h)}return p}};function t(d,f,h,p){const m=f*h,g=i(p),v=Math.ceil(f*g/8),y=new Uint8Array(4*m),b=new Uint32Array(y.buffer),{ctype:x}=p,{depth:S}=p,j=e.readUshort;if(x==6){const O=m<<2;if(S==8)for(var w=0;w<O;w+=4)y[w]=d[w],y[w+1]=d[w+1],y[w+2]=d[w+2],y[w+3]=d[w+3];if(S==16)for(w=0;w<O;w++)y[w]=d[w<<1]}else if(x==2){const O=p.tabs.tRNS;if(O==null){if(S==8)for(w=0;w<m;w++){var C=3*w;b[w]=255<<24|d[C+2]<<16|d[C+1]<<8|d[C]}if(S==16)for(w=0;w<m;w++)C=6*w,b[w]=255<<24|d[C+4]<<16|d[C+2]<<8|d[C]}else{var k=O[0];const E=O[1],D=O[2];if(S==8)for(w=0;w<m;w++){var N=w<<2;C=3*w,b[w]=255<<24|d[C+2]<<16|d[C+1]<<8|d[C],d[C]==k&&d[C+1]==E&&d[C+2]==D&&(y[N+3]=0)}if(S==16)for(w=0;w<m;w++)N=w<<2,C=6*w,b[w]=255<<24|d[C+4]<<16|d[C+2]<<8|d[C],j(d,C)==k&&j(d,C+2)==E&&j(d,C+4)==D&&(y[N+3]=0)}}else if(x==3){const O=p.tabs.PLTE,E=p.tabs.tRNS,D=E?E.length:0;if(S==1)for(var M=0;M<h;M++){var R=M*v,B=M*f;for(w=0;w<f;w++){N=B+w<<2;var U=3*($=d[R+(w>>3)]>>7-((7&w)<<0)&1);y[N]=O[U],y[N+1]=O[U+1],y[N+2]=O[U+2],y[N+3]=$<D?E[$]:255}}if(S==2)for(M=0;M<h;M++)for(R=M*v,B=M*f,w=0;w<f;w++)N=B+w<<2,U=3*($=d[R+(w>>2)]>>6-((3&w)<<1)&3),y[N]=O[U],y[N+1]=O[U+1],y[N+2]=O[U+2],y[N+3]=$<D?E[$]:255;if(S==4)for(M=0;M<h;M++)for(R=M*v,B=M*f,w=0;w<f;w++)N=B+w<<2,U=3*($=d[R+(w>>1)]>>4-((1&w)<<2)&15),y[N]=O[U],y[N+1]=O[U+1],y[N+2]=O[U+2],y[N+3]=$<D?E[$]:255;if(S==8)for(w=0;w<m;w++){var $;N=w<<2,U=3*($=d[w]),y[N]=O[U],y[N+1]=O[U+1],y[N+2]=O[U+2],y[N+3]=$<D?E[$]:255}}else if(x==4){if(S==8)for(w=0;w<m;w++){N=w<<2;var I=d[A=w<<1];y[N]=I,y[N+1]=I,y[N+2]=I,y[N+3]=d[A+1]}if(S==16)for(w=0;w<m;w++){var A;N=w<<2,I=d[A=w<<2],y[N]=I,y[N+1]=I,y[N+2]=I,y[N+3]=d[A+2]}}else if(x==0)for(k=p.tabs.tRNS?p.tabs.tRNS:-1,M=0;M<h;M++){const O=M*v,E=M*f;if(S==1)for(var _=0;_<f;_++){var P=(I=255*(d[O+(_>>>3)]>>>7-(7&_)&1))==255*k?0:255;b[E+_]=P<<24|I<<16|I<<8|I}else if(S==2)for(_=0;_<f;_++)P=(I=85*(d[O+(_>>>2)]>>>6-((3&_)<<1)&3))==85*k?0:255,b[E+_]=P<<24|I<<16|I<<8|I;else if(S==4)for(_=0;_<f;_++)P=(I=17*(d[O+(_>>>1)]>>>4-((1&_)<<2)&15))==17*k?0:255,b[E+_]=P<<24|I<<16|I<<8|I;else if(S==8)for(_=0;_<f;_++)P=(I=d[O+_])==k?0:255,b[E+_]=P<<24|I<<16|I<<8|I;else if(S==16)for(_=0;_<f;_++)I=d[O+(_<<1)],P=j(d,O+(_<<1))==k?0:255,b[E+_]=P<<24|I<<16|I<<8|I}return y}function r(d,f,h,p){const m=i(d),g=Math.ceil(h*m/8),v=new Uint8Array((g+1+d.interlace)*p);return f=d.tabs.CgBI?a(f,v):n(f,v),d.interlace==0?f=o(f,d,0,h,p):d.interlace==1&&(f=function(b,x){const S=x.width,j=x.height,w=i(x),C=w>>3,k=Math.ceil(S*w/8),N=new Uint8Array(j*k);let M=0;const R=[0,0,4,0,2,0,1],B=[0,4,0,2,0,1,0],U=[8,8,8,4,4,2,2],$=[8,8,4,4,2,2,1];let I=0;for(;I<7;){const _=U[I],P=$[I];let O=0,E=0,D=R[I];for(;D<j;)D+=_,E++;let F=B[I];for(;F<S;)F+=P,O++;const W=Math.ceil(O*w/8);o(b,x,M,O,E);let z=0,K=R[I];for(;K<j;){let Y=B[I],J=M+z*W<<3;for(;Y<S;){var A;if(w==1&&(A=(A=b[J>>3])>>7-(7&J)&1,N[K*k+(Y>>3)]|=A<<7-((7&Y)<<0)),w==2&&(A=(A=b[J>>3])>>6-(7&J)&3,N[K*k+(Y>>2)]|=A<<6-((3&Y)<<1)),w==4&&(A=(A=b[J>>3])>>4-(7&J)&15,N[K*k+(Y>>1)]|=A<<4-((1&Y)<<2)),w>=8){const Z=K*k+Y*C;for(let X=0;X<C;X++)N[Z+X]=b[(J>>3)+X]}J+=w,Y+=P}z++,K+=_}O*E!=0&&(M+=E*(1+W)),I+=1}return N}(f,d)),f}function n(d,f){return a(new Uint8Array(d.buffer,2,d.length-6),f)}var a=function(){const d={H:{}};return d.H.N=function(f,h){const p=Uint8Array;let m,g,v=0,y=0,b=0,x=0,S=0,j=0,w=0,C=0,k=0;if(f[0]==3&&f[1]==0)return h||new p(0);const N=d.H,M=N.b,R=N.e,B=N.R,U=N.n,$=N.A,I=N.Z,A=N.m,_=h==null;for(_&&(h=new p(f.length>>>2<<5));v==0;)if(v=M(f,k,1),y=M(f,k+1,2),k+=3,y!=0){if(_&&(h=d.H.W(h,C+(1<<17))),y==1&&(m=A.J,g=A.h,j=511,w=31),y==2){b=R(f,k,5)+257,x=R(f,k+5,5)+1,S=R(f,k+10,4)+4,k+=14;let O=1;for(var P=0;P<38;P+=2)A.Q[P]=0,A.Q[P+1]=0;for(P=0;P<S;P++){const F=R(f,k+3*P,3);A.Q[1+(A.X[P]<<1)]=F,F>O&&(O=F)}k+=3*S,U(A.Q,O),$(A.Q,O,A.u),m=A.w,g=A.d,k=B(A.u,(1<<O)-1,b+x,f,k,A.v);const E=N.V(A.v,0,b,A.C);j=(1<<E)-1;const D=N.V(A.v,b,x,A.D);w=(1<<D)-1,U(A.C,E),$(A.C,E,m),U(A.D,D),$(A.D,D,g)}for(;;){const O=m[I(f,k)&j];k+=15&O;const E=O>>>4;if(!(E>>>8))h[C++]=E;else{if(E==256)break;{let D=C+E-254;if(E>264){const Y=A.q[E-257];D=C+(Y>>>3)+R(f,k,7&Y),k+=7&Y}const F=g[I(f,k)&w];k+=15&F;const W=F>>>4,z=A.c[W],K=(z>>>4)+M(f,k,15&z);for(k+=15&z;C<D;)h[C]=h[C++-K],h[C]=h[C++-K],h[C]=h[C++-K],h[C]=h[C++-K];C=D}}}}else{7&k&&(k+=8-(7&k));const O=4+(k>>>3),E=f[O-4]|f[O-3]<<8;_&&(h=d.H.W(h,C+E)),h.set(new p(f.buffer,f.byteOffset+O,E),C),k=O+E<<3,C+=E}return h.length==C?h:h.slice(0,C)},d.H.W=function(f,h){const p=f.length;if(h<=p)return f;const m=new Uint8Array(p<<1);return m.set(f,0),m},d.H.R=function(f,h,p,m,g,v){const y=d.H.e,b=d.H.Z;let x=0;for(;x<p;){const S=f[b(m,g)&h];g+=15&S;const j=S>>>4;if(j<=15)v[x]=j,x++;else{let w=0,C=0;j==16?(C=3+y(m,g,2),g+=2,w=v[x-1]):j==17?(C=3+y(m,g,3),g+=3):j==18&&(C=11+y(m,g,7),g+=7);const k=x+C;for(;x<k;)v[x]=w,x++}}return g},d.H.V=function(f,h,p,m){let g=0,v=0;const y=m.length>>>1;for(;v<p;){const b=f[v+h];m[v<<1]=0,m[1+(v<<1)]=b,b>g&&(g=b),v++}for(;v<y;)m[v<<1]=0,m[1+(v<<1)]=0,v++;return g},d.H.n=function(f,h){const p=d.H.m,m=f.length;let g,v,y,b;const x=p.j;for(var S=0;S<=h;S++)x[S]=0;for(S=1;S<m;S+=2)x[f[S]]++;const j=p.K;for(g=0,x[0]=0,v=1;v<=h;v++)g=g+x[v-1]<<1,j[v]=g;for(y=0;y<m;y+=2)b=f[y+1],b!=0&&(f[y]=j[b],j[b]++)},d.H.A=function(f,h,p){const m=f.length,g=d.H.m.r;for(let v=0;v<m;v+=2)if(f[v+1]!=0){const y=v>>1,b=f[v+1],x=y<<4|b,S=h-b;let j=f[v]<<S;const w=j+(1<<S);for(;j!=w;)p[g[j]>>>15-h]=x,j++}},d.H.l=function(f,h){const p=d.H.m.r,m=15-h;for(let g=0;g<f.length;g+=2){const v=f[g]<<h-f[g+1];f[g]=p[v]>>>m}},d.H.M=function(f,h,p){p<<=7&h;const m=h>>>3;f[m]|=p,f[m+1]|=p>>>8},d.H.I=function(f,h,p){p<<=7&h;const m=h>>>3;f[m]|=p,f[m+1]|=p>>>8,f[m+2]|=p>>>16},d.H.e=function(f,h,p){return(f[h>>>3]|f[1+(h>>>3)]<<8)>>>(7&h)&(1<<p)-1},d.H.b=function(f,h,p){return(f[h>>>3]|f[1+(h>>>3)]<<8|f[2+(h>>>3)]<<16)>>>(7&h)&(1<<p)-1},d.H.Z=function(f,h){return(f[h>>>3]|f[1+(h>>>3)]<<8|f[2+(h>>>3)]<<16)>>>(7&h)},d.H.i=function(f,h){return(f[h>>>3]|f[1+(h>>>3)]<<8|f[2+(h>>>3)]<<16|f[3+(h>>>3)]<<24)>>>(7&h)},d.H.m=function(){const f=Uint16Array,h=Uint32Array;return{K:new f(16),j:new f(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new f(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new h(32),J:new f(512),_:[],h:new f(32),$:[],w:new f(32768),C:[],v:[],d:new f(32768),D:[],u:new f(512),Q:[],r:new f(32768),s:new h(286),Y:new h(30),a:new h(19),t:new h(15e3),k:new f(65536),g:new f(32768)}}(),function(){const f=d.H.m;for(var h=0;h<32768;h++){let m=h;m=(2863311530&m)>>>1|(1431655765&m)<<1,m=(3435973836&m)>>>2|(858993459&m)<<2,m=(4042322160&m)>>>4|(252645135&m)<<4,m=(4278255360&m)>>>8|(16711935&m)<<8,f.r[h]=(m>>>16|m<<16)>>>17}function p(m,g,v){for(;g--!=0;)m.push(0,v)}for(h=0;h<32;h++)f.q[h]=f.S[h]<<3|f.T[h],f.c[h]=f.p[h]<<4|f.z[h];p(f._,144,8),p(f._,112,9),p(f._,24,7),p(f._,8,8),d.H.n(f._,9),d.H.A(f._,9,f.J),d.H.l(f._,9),p(f.$,32,5),d.H.n(f.$,5),d.H.A(f.$,5,f.h),d.H.l(f.$,5),p(f.Q,19,0),p(f.C,286,0),p(f.D,30,0),p(f.v,320,0)}(),d.H.N}();function i(d){return[1,null,3,1,2,null,4][d.ctype]*d.depth}function o(d,f,h,p,m){let g=i(f);const v=Math.ceil(p*g/8);let y,b;g=Math.ceil(g/8);let x=d[h],S=0;if(x>1&&(d[h]=[0,0,1][x-2]),x==3)for(S=g;S<v;S++)d[S+1]=d[S+1]+(d[S+1-g]>>>1)&255;for(let j=0;j<m;j++)if(y=h+j*v,b=y+j+1,x=d[b-1],S=0,x==0)for(;S<v;S++)d[y+S]=d[b+S];else if(x==1){for(;S<g;S++)d[y+S]=d[b+S];for(;S<v;S++)d[y+S]=d[b+S]+d[y+S-g]}else if(x==2)for(;S<v;S++)d[y+S]=d[b+S]+d[y+S-v];else if(x==3){for(;S<g;S++)d[y+S]=d[b+S]+(d[y+S-v]>>>1);for(;S<v;S++)d[y+S]=d[b+S]+(d[y+S-v]+d[y+S-g]>>>1)}else{for(;S<g;S++)d[y+S]=d[b+S]+l(0,d[y+S-v],0);for(;S<v;S++)d[y+S]=d[b+S]+l(d[y+S-g],d[y+S-v],d[y+S-g-v])}return d}function l(d,f,h){const p=d+f-h,m=p-d,g=p-f,v=p-h;return m*m<=g*g&&m*m<=v*v?d:g*g<=v*v?f:h}function c(d,f,h){h.width=e.readUint(d,f),f+=4,h.height=e.readUint(d,f),f+=4,h.depth=d[f],f++,h.ctype=d[f],f++,h.compress=d[f],f++,h.filter=d[f],f++,h.interlace=d[f],f++}function u(d,f,h,p,m,g,v,y,b){const x=Math.min(f,m),S=Math.min(h,g);let j=0,w=0;for(let I=0;I<S;I++)for(let A=0;A<x;A++)if(v>=0&&y>=0?(j=I*f+A<<2,w=(y+I)*m+v+A<<2):(j=(-y+I)*f-v+A<<2,w=I*m+A<<2),b==0)p[w]=d[j],p[w+1]=d[j+1],p[w+2]=d[j+2],p[w+3]=d[j+3];else if(b==1){var C=d[j+3]*.00392156862745098,k=d[j]*C,N=d[j+1]*C,M=d[j+2]*C,R=p[w+3]*(1/255),B=p[w]*R,U=p[w+1]*R,$=p[w+2]*R;const _=1-C,P=C+R*_,O=P==0?0:1/P;p[w+3]=255*P,p[w+0]=(k+B*_)*O,p[w+1]=(N+U*_)*O,p[w+2]=(M+$*_)*O}else if(b==2)C=d[j+3],k=d[j],N=d[j+1],M=d[j+2],R=p[w+3],B=p[w],U=p[w+1],$=p[w+2],C==R&&k==B&&N==U&&M==$?(p[w]=0,p[w+1]=0,p[w+2]=0,p[w+3]=0):(p[w]=k,p[w+1]=N,p[w+2]=M,p[w+3]=C);else if(b==3){if(C=d[j+3],k=d[j],N=d[j+1],M=d[j+2],R=p[w+3],B=p[w],U=p[w+1],$=p[w+2],C==R&&k==B&&N==U&&M==$)continue;if(C<220&&R>20)return!1}return!0}return{decode:function(f){const h=new Uint8Array(f);let p=8;const m=e,g=m.readUshort,v=m.readUint,y={tabs:{},frames:[]},b=new Uint8Array(h.length);let x,S=0,j=0;const w=[137,80,78,71,13,10,26,10];for(var C=0;C<8;C++)if(h[C]!=w[C])throw"The input is not a PNG file!";for(;p<h.length;){const I=m.readUint(h,p);p+=4;const A=m.readASCII(h,p,4);if(p+=4,A=="IHDR")c(h,p,y);else if(A=="iCCP"){for(var k=p;h[k]!=0;)k++;m.readASCII(h,p,k-p),h[k+1];const _=h.slice(k+2,p+I);let P=null;try{P=n(_)}catch{P=a(_)}y.tabs[A]=P}else if(A=="CgBI")y.tabs[A]=h.slice(p,p+4);else if(A=="IDAT"){for(C=0;C<I;C++)b[S+C]=h[p+C];S+=I}else if(A=="acTL")y.tabs[A]={num_frames:v(h,p),num_plays:v(h,p+4)},x=new Uint8Array(h.length);else if(A=="fcTL"){j!=0&&(($=y.frames[y.frames.length-1]).data=r(y,x.slice(0,j),$.rect.width,$.rect.height),j=0);const _={x:v(h,p+12),y:v(h,p+16),width:v(h,p+4),height:v(h,p+8)};let P=g(h,p+22);P=g(h,p+20)/(P==0?100:P);const O={rect:_,delay:Math.round(1e3*P),dispose:h[p+24],blend:h[p+25]};y.frames.push(O)}else if(A=="fdAT"){for(C=0;C<I-4;C++)x[j+C]=h[p+C+4];j+=I-4}else if(A=="pHYs")y.tabs[A]=[m.readUint(h,p),m.readUint(h,p+4),h[p+8]];else if(A=="cHRM")for(y.tabs[A]=[],C=0;C<8;C++)y.tabs[A].push(m.readUint(h,p+4*C));else if(A=="tEXt"||A=="zTXt"){y.tabs[A]==null&&(y.tabs[A]={});var N=m.nextZero(h,p),M=m.readASCII(h,p,N-p),R=p+I-N-1;if(A=="tEXt")U=m.readASCII(h,N+1,R);else{var B=n(h.slice(N+2,N+2+R));U=m.readUTF8(B,0,B.length)}y.tabs[A][M]=U}else if(A=="iTXt"){y.tabs[A]==null&&(y.tabs[A]={}),N=0,k=p,N=m.nextZero(h,k),M=m.readASCII(h,k,N-k);const _=h[k=N+1];var U;h[k+1],k+=2,N=m.nextZero(h,k),m.readASCII(h,k,N-k),k=N+1,N=m.nextZero(h,k),m.readUTF8(h,k,N-k),R=I-((k=N+1)-p),_==0?U=m.readUTF8(h,k,R):(B=n(h.slice(k,k+R)),U=m.readUTF8(B,0,B.length)),y.tabs[A][M]=U}else if(A=="PLTE")y.tabs[A]=m.readBytes(h,p,I);else if(A=="hIST"){const _=y.tabs.PLTE.length/3;for(y.tabs[A]=[],C=0;C<_;C++)y.tabs[A].push(g(h,p+2*C))}else if(A=="tRNS")y.ctype==3?y.tabs[A]=m.readBytes(h,p,I):y.ctype==0?y.tabs[A]=g(h,p):y.ctype==2&&(y.tabs[A]=[g(h,p),g(h,p+2),g(h,p+4)]);else if(A=="gAMA")y.tabs[A]=m.readUint(h,p)/1e5;else if(A=="sRGB")y.tabs[A]=h[p];else if(A=="bKGD")y.ctype==0||y.ctype==4?y.tabs[A]=[g(h,p)]:y.ctype==2||y.ctype==6?y.tabs[A]=[g(h,p),g(h,p+2),g(h,p+4)]:y.ctype==3&&(y.tabs[A]=h[p]);else if(A=="IEND")break;p+=I,m.readUint(h,p),p+=4}var $;return j!=0&&(($=y.frames[y.frames.length-1]).data=r(y,x.slice(0,j),$.rect.width,$.rect.height)),y.data=r(y,b,y.width,y.height),delete y.compress,delete y.interlace,delete y.filter,y},toRGBA8:function(f){const h=f.width,p=f.height;if(f.tabs.acTL==null)return[t(f.data,h,p,f).buffer];const m=[];f.frames[0].data==null&&(f.frames[0].data=f.data);const g=h*p*4,v=new Uint8Array(g),y=new Uint8Array(g),b=new Uint8Array(g);for(let S=0;S<f.frames.length;S++){const j=f.frames[S],w=j.rect.x,C=j.rect.y,k=j.rect.width,N=j.rect.height,M=t(j.data,k,N,f);if(S!=0)for(var x=0;x<g;x++)b[x]=v[x];if(j.blend==0?u(M,k,N,v,h,p,w,C,0):j.blend==1&&u(M,k,N,v,h,p,w,C,1),m.push(v.buffer.slice(0)),j.dispose!=0){if(j.dispose==1)u(y,k,N,v,h,p,w,C,0);else if(j.dispose==2)for(x=0;x<g;x++)v[x]=b[x]}}return m},_paeth:l,_copyTile:u,_bin:e}}();(function(){const{_copyTile:e}=zr,{_bin:t}=zr,r=zr._paeth;var n={table:function(){const k=new Uint32Array(256);for(let N=0;N<256;N++){let M=N;for(let R=0;R<8;R++)1&M?M=3988292384^M>>>1:M>>>=1;k[N]=M}return k}(),update(k,N,M,R){for(let B=0;B<R;B++)k=n.table[255&(k^N[M+B])]^k>>>8;return k},crc:(k,N,M)=>4294967295^n.update(4294967295,k,N,M)};function a(k,N,M,R){N[M]+=k[0]*R>>4,N[M+1]+=k[1]*R>>4,N[M+2]+=k[2]*R>>4,N[M+3]+=k[3]*R>>4}function i(k){return Math.max(0,Math.min(255,k))}function o(k,N){const M=k[0]-N[0],R=k[1]-N[1],B=k[2]-N[2],U=k[3]-N[3];return M*M+R*R+B*B+U*U}function l(k,N,M,R,B,U,$){$==null&&($=1);const I=R.length,A=[];for(var _=0;_<I;_++){const K=R[_];A.push([K>>>0&255,K>>>8&255,K>>>16&255,K>>>24&255])}for(_=0;_<I;_++){let K=4294967295;for(var P=0,O=0;O<I;O++){var E=o(A[_],A[O]);O!=_&&E<K&&(K=E,P=O)}}const D=new Uint32Array(B.buffer),F=new Int16Array(N*M*4),W=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(_=0;_<W.length;_++)W[_]=255*((W[_]+.5)/16-.5);for(let K=0;K<M;K++)for(let Y=0;Y<N;Y++){var z;_=4*(K*N+Y),$!=2?z=[i(k[_]+F[_]),i(k[_+1]+F[_+1]),i(k[_+2]+F[_+2]),i(k[_+3]+F[_+3])]:(E=W[4*(3&K)+(3&Y)],z=[i(k[_]+E),i(k[_+1]+E),i(k[_+2]+E),i(k[_+3]+E)]),P=0;let J=16777215;for(O=0;O<I;O++){const ne=o(z,A[O]);ne<J&&(J=ne,P=O)}const Z=A[P],X=[z[0]-Z[0],z[1]-Z[1],z[2]-Z[2],z[3]-Z[3]];$==1&&(Y!=N-1&&a(X,F,_+4,7),K!=M-1&&(Y!=0&&a(X,F,_+4*N-4,3),a(X,F,_+4*N,5),Y!=N-1&&a(X,F,_+4*N+4,1))),U[_>>2]=P,D[_>>2]=R[P]}}function c(k,N,M,R,B){B==null&&(B={});const{crc:U}=n,$=t.writeUint,I=t.writeUshort,A=t.writeASCII;let _=8;const P=k.frames.length>1;let O,E=!1,D=33+(P?20:0);if(B.sRGB!=null&&(D+=13),B.pHYs!=null&&(D+=21),B.iCCP!=null&&(O=pako.deflate(B.iCCP),D+=21+O.length+4),k.ctype==3){for(var F=k.plte.length,W=0;W<F;W++)k.plte[W]>>>24!=255&&(E=!0);D+=8+3*F+4+(E?8+1*F+4:0)}for(var z=0;z<k.frames.length;z++)P&&(D+=38),D+=(Z=k.frames[z]).cimg.length+12,z!=0&&(D+=4);D+=12;const K=new Uint8Array(D),Y=[137,80,78,71,13,10,26,10];for(W=0;W<8;W++)K[W]=Y[W];if($(K,_,13),_+=4,A(K,_,"IHDR"),_+=4,$(K,_,N),_+=4,$(K,_,M),_+=4,K[_]=k.depth,_++,K[_]=k.ctype,_++,K[_]=0,_++,K[_]=0,_++,K[_]=0,_++,$(K,_,U(K,_-17,17)),_+=4,B.sRGB!=null&&($(K,_,1),_+=4,A(K,_,"sRGB"),_+=4,K[_]=B.sRGB,_++,$(K,_,U(K,_-5,5)),_+=4),B.iCCP!=null){const X=13+O.length;$(K,_,X),_+=4,A(K,_,"iCCP"),_+=4,A(K,_,"ICC profile"),_+=11,_+=2,K.set(O,_),_+=O.length,$(K,_,U(K,_-(X+4),X+4)),_+=4}if(B.pHYs!=null&&($(K,_,9),_+=4,A(K,_,"pHYs"),_+=4,$(K,_,B.pHYs[0]),_+=4,$(K,_,B.pHYs[1]),_+=4,K[_]=B.pHYs[2],_++,$(K,_,U(K,_-13,13)),_+=4),P&&($(K,_,8),_+=4,A(K,_,"acTL"),_+=4,$(K,_,k.frames.length),_+=4,$(K,_,B.loop!=null?B.loop:0),_+=4,$(K,_,U(K,_-12,12)),_+=4),k.ctype==3){for($(K,_,3*(F=k.plte.length)),_+=4,A(K,_,"PLTE"),_+=4,W=0;W<F;W++){const X=3*W,ne=k.plte[W],te=255&ne,L=ne>>>8&255,V=ne>>>16&255;K[_+X+0]=te,K[_+X+1]=L,K[_+X+2]=V}if(_+=3*F,$(K,_,U(K,_-3*F-4,3*F+4)),_+=4,E){for($(K,_,F),_+=4,A(K,_,"tRNS"),_+=4,W=0;W<F;W++)K[_+W]=k.plte[W]>>>24&255;_+=F,$(K,_,U(K,_-F-4,F+4)),_+=4}}let J=0;for(z=0;z<k.frames.length;z++){var Z=k.frames[z];P&&($(K,_,26),_+=4,A(K,_,"fcTL"),_+=4,$(K,_,J++),_+=4,$(K,_,Z.rect.width),_+=4,$(K,_,Z.rect.height),_+=4,$(K,_,Z.rect.x),_+=4,$(K,_,Z.rect.y),_+=4,I(K,_,R[z]),_+=2,I(K,_,1e3),_+=2,K[_]=Z.dispose,_++,K[_]=Z.blend,_++,$(K,_,U(K,_-30,30)),_+=4);const X=Z.cimg;$(K,_,(F=X.length)+(z==0?0:4)),_+=4;const ne=_;A(K,_,z==0?"IDAT":"fdAT"),_+=4,z!=0&&($(K,_,J++),_+=4),K.set(X,_),_+=F,$(K,_,U(K,ne,_-ne)),_+=4}return $(K,_,0),_+=4,A(K,_,"IEND"),_+=4,$(K,_,U(K,_-4,4)),_+=4,K.buffer}function u(k,N,M){for(let R=0;R<k.frames.length;R++){const B=k.frames[R];B.rect.width;const U=B.rect.height,$=new Uint8Array(U*B.bpl+U);B.cimg=p(B.img,U,B.bpp,B.bpl,$,N,M)}}function d(k,N,M,R,B){const U=B[0],$=B[1],I=B[2],A=B[3],_=B[4],P=B[5];let O=6,E=8,D=255;for(var F=0;F<k.length;F++){const H=new Uint8Array(k[F]);for(var W=H.length,z=0;z<W;z+=4)D&=H[z+3]}const K=D!=255,Y=function(ae,se,he,xe,re,le){const de=[];for(var fe=0;fe<ae.length;fe++){const ye=new Uint8Array(ae[fe]),Se=new Uint32Array(ye.buffer);var ge;let Ie=0,Fe=0,At=se,lr=he,Wt=xe?1:0;if(fe!=0){const kO=le||xe||fe==1||de[fe-2].dispose!=0?1:2;let Jh=0,vx=1e9;for(let _s=0;_s<kO;_s++){var be=new Uint8Array(ae[fe-1-_s]);const PO=new Uint32Array(ae[fe-1-_s]);let ea=se,ta=he,$i=-1,js=-1;for(let Ia=0;Ia<he;Ia++)for(let Ra=0;Ra<se;Ra++)Se[_e=Ia*se+Ra]!=PO[_e]&&(Ra<ea&&(ea=Ra),Ra>$i&&($i=Ra),Ia<ta&&(ta=Ia),Ia>js&&(js=Ia));$i==-1&&(ea=ta=$i=js=0),re&&((1&ea)==1&&ea--,(1&ta)==1&&ta--);const xx=($i-ea+1)*(js-ta+1);xx<vx&&(vx=xx,Jh=_s,Ie=ea,Fe=ta,At=$i-ea+1,lr=js-ta+1)}be=new Uint8Array(ae[fe-1-Jh]),Jh==1&&(de[fe-1].dispose=2),ge=new Uint8Array(At*lr*4),e(be,se,he,ge,At,lr,-Ie,-Fe,0),Wt=e(ye,se,he,ge,At,lr,-Ie,-Fe,3)?1:0,Wt==1?h(ye,se,he,ge,{x:Ie,y:Fe,width:At,height:lr}):e(ye,se,he,ge,At,lr,-Ie,-Fe,0)}else ge=ye.slice(0);de.push({rect:{x:Ie,y:Fe,width:At,height:lr},img:ge,blend:Wt,dispose:0})}if(xe)for(fe=0;fe<de.length;fe++){if((Ee=de[fe]).blend==1)continue;const ye=Ee.rect,Se=de[fe-1].rect,Ie=Math.min(ye.x,Se.x),Fe=Math.min(ye.y,Se.y),At={x:Ie,y:Fe,width:Math.max(ye.x+ye.width,Se.x+Se.width)-Ie,height:Math.max(ye.y+ye.height,Se.y+Se.height)-Fe};de[fe-1].dispose=1,fe-1!=0&&f(ae,se,he,de,fe-1,At,re),f(ae,se,he,de,fe,At,re)}let oe=0;if(ae.length!=1)for(var _e=0;_e<de.length;_e++){var Ee;oe+=(Ee=de[_e]).rect.width*Ee.rect.height}return de}(k,N,M,U,$,I),J={},Z=[],X=[];if(R!=0){const H=[];for(z=0;z<Y.length;z++)H.push(Y[z].img.buffer);const ae=function(re){let le=0;for(var de=0;de<re.length;de++)le+=re[de].byteLength;const fe=new Uint8Array(le);let ge=0;for(de=0;de<re.length;de++){const be=new Uint8Array(re[de]),oe=be.length;for(let _e=0;_e<oe;_e+=4){let Ee=be[_e],ye=be[_e+1],Se=be[_e+2];const Ie=be[_e+3];Ie==0&&(Ee=ye=Se=0),fe[ge+_e]=Ee,fe[ge+_e+1]=ye,fe[ge+_e+2]=Se,fe[ge+_e+3]=Ie}ge+=oe}return fe.buffer}(H),se=g(ae,R);for(z=0;z<se.plte.length;z++)Z.push(se.plte[z].est.rgba);let he=0;for(z=0;z<Y.length;z++){const xe=(te=Y[z]).img.length;var ne=new Uint8Array(se.inds.buffer,he>>2,xe>>2);X.push(ne);const re=new Uint8Array(se.abuf,he,xe);P&&l(te.img,te.rect.width,te.rect.height,Z,re,ne),te.img.set(re),he+=xe}}else for(F=0;F<Y.length;F++){var te=Y[F];const H=new Uint32Array(te.img.buffer);var L=te.rect.width;for(W=H.length,ne=new Uint8Array(W),X.push(ne),z=0;z<W;z++){const ae=H[z];if(z!=0&&ae==H[z-1])ne[z]=ne[z-1];else if(z>L&&ae==H[z-L])ne[z]=ne[z-L];else{let se=J[ae];if(se==null&&(J[ae]=se=Z.length,Z.push(ae),Z.length>=300))break;ne[z]=se}}}const V=Z.length;for(V<=256&&_==0&&(E=V<=2?1:V<=4?2:V<=16?4:8,E=Math.max(E,A)),F=0;F<Y.length;F++){(te=Y[F]).rect.x,te.rect.y,L=te.rect.width;const H=te.rect.height;let ae=te.img;new Uint32Array(ae.buffer);let se=4*L,he=4;if(V<=256&&_==0){se=Math.ceil(E*L/8);var q=new Uint8Array(se*H);const xe=X[F];for(let re=0;re<H;re++){z=re*se;const le=re*L;if(E==8)for(var Q=0;Q<L;Q++)q[z+Q]=xe[le+Q];else if(E==4)for(Q=0;Q<L;Q++)q[z+(Q>>1)]|=xe[le+Q]<<4-4*(1&Q);else if(E==2)for(Q=0;Q<L;Q++)q[z+(Q>>2)]|=xe[le+Q]<<6-2*(3&Q);else if(E==1)for(Q=0;Q<L;Q++)q[z+(Q>>3)]|=xe[le+Q]<<7-1*(7&Q)}ae=q,O=3,he=1}else if(K==0&&Y.length==1){q=new Uint8Array(L*H*3);const xe=L*H;for(z=0;z<xe;z++){const re=3*z,le=4*z;q[re]=ae[le],q[re+1]=ae[le+1],q[re+2]=ae[le+2]}ae=q,O=2,he=3,se=3*L}te.img=ae,te.bpl=se,te.bpp=he}return{ctype:O,depth:E,plte:Z,frames:Y}}function f(k,N,M,R,B,U,$){const I=Uint8Array,A=Uint32Array,_=new I(k[B-1]),P=new A(k[B-1]),O=B+1<k.length?new I(k[B+1]):null,E=new I(k[B]),D=new A(E.buffer);let F=N,W=M,z=-1,K=-1;for(let J=0;J<U.height;J++)for(let Z=0;Z<U.width;Z++){const X=U.x+Z,ne=U.y+J,te=ne*N+X,L=D[te];L==0||R[B-1].dispose==0&&P[te]==L&&(O==null||O[4*te+3]!=0)||(X<F&&(F=X),X>z&&(z=X),ne<W&&(W=ne),ne>K&&(K=ne))}z==-1&&(F=W=z=K=0),$&&((1&F)==1&&F--,(1&W)==1&&W--),U={x:F,y:W,width:z-F+1,height:K-W+1};const Y=R[B];Y.rect=U,Y.blend=1,Y.img=new Uint8Array(U.width*U.height*4),R[B-1].dispose==0?(e(_,N,M,Y.img,U.width,U.height,-U.x,-U.y,0),h(E,N,M,Y.img,U)):e(E,N,M,Y.img,U.width,U.height,-U.x,-U.y,0)}function h(k,N,M,R,B){e(k,N,M,R,B.width,B.height,-B.x,-B.y,2)}function p(k,N,M,R,B,U,$){const I=[];let A,_=[0,1,2,3,4];U!=-1?_=[U]:(N*R>5e5||M==1)&&(_=[0]),$&&(A={level:0});const P=uie;for(var O=0;O<_.length;O++){for(let F=0;F<N;F++)m(B,k,F,R,M,_[O]);I.push(P.deflate(B,A))}let E,D=1e9;for(O=0;O<I.length;O++)I[O].length<D&&(E=O,D=I[O].length);return I[E]}function m(k,N,M,R,B,U){const $=M*R;let I=$+M;if(k[I]=U,I++,U==0)if(R<500)for(var A=0;A<R;A++)k[I+A]=N[$+A];else k.set(new Uint8Array(N.buffer,$,R),I);else if(U==1){for(A=0;A<B;A++)k[I+A]=N[$+A];for(A=B;A<R;A++)k[I+A]=N[$+A]-N[$+A-B]+256&255}else if(M==0){for(A=0;A<B;A++)k[I+A]=N[$+A];if(U==2)for(A=B;A<R;A++)k[I+A]=N[$+A];if(U==3)for(A=B;A<R;A++)k[I+A]=N[$+A]-(N[$+A-B]>>1)+256&255;if(U==4)for(A=B;A<R;A++)k[I+A]=N[$+A]-r(N[$+A-B],0,0)+256&255}else{if(U==2)for(A=0;A<R;A++)k[I+A]=N[$+A]+256-N[$+A-R]&255;if(U==3){for(A=0;A<B;A++)k[I+A]=N[$+A]+256-(N[$+A-R]>>1)&255;for(A=B;A<R;A++)k[I+A]=N[$+A]+256-(N[$+A-R]+N[$+A-B]>>1)&255}if(U==4){for(A=0;A<B;A++)k[I+A]=N[$+A]+256-r(0,N[$+A-R],0)&255;for(A=B;A<R;A++)k[I+A]=N[$+A]+256-r(N[$+A-B],N[$+A-R],N[$+A-B-R])&255}}}function g(k,N){const M=new Uint8Array(k),R=M.slice(0),B=new Uint32Array(R.buffer),U=v(R,N),$=U[0],I=U[1],A=M.length,_=new Uint8Array(A>>2);let P;if(M.length<2e7)for(var O=0;O<A;O+=4)P=y($,E=M[O]*(1/255),D=M[O+1]*(1/255),F=M[O+2]*(1/255),W=M[O+3]*(1/255)),_[O>>2]=P.ind,B[O>>2]=P.est.rgba;else for(O=0;O<A;O+=4){var E=M[O]*.00392156862745098,D=M[O+1]*(1/255),F=M[O+2]*(1/255),W=M[O+3]*(1/255);for(P=$;P.left;)P=b(P.est,E,D,F,W)<=0?P.left:P.right;_[O>>2]=P.ind,B[O>>2]=P.est.rgba}return{abuf:R.buffer,inds:_,plte:I}}function v(k,N,M){M==null&&(M=1e-4);const R=new Uint32Array(k.buffer),B={i0:0,i1:k.length,bst:null,est:null,tdst:0,left:null,right:null};B.bst=j(k,B.i0,B.i1),B.est=w(B.bst);const U=[B];for(;U.length<N;){let I=0,A=0;for(var $=0;$<U.length;$++)U[$].est.L>I&&(I=U[$].est.L,A=$);if(I<M)break;const _=U[A],P=x(k,R,_.i0,_.i1,_.est.e,_.est.eMq255);if(_.i0>=P||_.i1<=P){_.est.L=0;continue}const O={i0:_.i0,i1:P,bst:null,est:null,tdst:0,left:null,right:null};O.bst=j(k,O.i0,O.i1),O.est=w(O.bst);const E={i0:P,i1:_.i1,bst:null,est:null,tdst:0,left:null,right:null};for(E.bst={R:[],m:[],N:_.bst.N-O.bst.N},$=0;$<16;$++)E.bst.R[$]=_.bst.R[$]-O.bst.R[$];for($=0;$<4;$++)E.bst.m[$]=_.bst.m[$]-O.bst.m[$];E.est=w(E.bst),_.left=O,_.right=E,U[A]=O,U.push(E)}for(U.sort((I,A)=>A.bst.N-I.bst.N),$=0;$<U.length;$++)U[$].ind=$;return[B,U]}function y(k,N,M,R,B){if(k.left==null)return k.tdst=function(O,E,D,F,W){const z=E-O[0],K=D-O[1],Y=F-O[2],J=W-O[3];return z*z+K*K+Y*Y+J*J}(k.est.q,N,M,R,B),k;const U=b(k.est,N,M,R,B);let $=k.left,I=k.right;U>0&&($=k.right,I=k.left);const A=y($,N,M,R,B);if(A.tdst<=U*U)return A;const _=y(I,N,M,R,B);return _.tdst<A.tdst?_:A}function b(k,N,M,R,B){const{e:U}=k;return U[0]*N+U[1]*M+U[2]*R+U[3]*B-k.eMq}function x(k,N,M,R,B,U){for(R-=4;M<R;){for(;S(k,M,B)<=U;)M+=4;for(;S(k,R,B)>U;)R-=4;if(M>=R)break;const $=N[M>>2];N[M>>2]=N[R>>2],N[R>>2]=$,M+=4,R-=4}for(;S(k,M,B)>U;)M-=4;return M+4}function S(k,N,M){return k[N]*M[0]+k[N+1]*M[1]+k[N+2]*M[2]+k[N+3]*M[3]}function j(k,N,M){const R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B=[0,0,0,0],U=M-N>>2;for(let $=N;$<M;$+=4){const I=k[$]*.00392156862745098,A=k[$+1]*(1/255),_=k[$+2]*(1/255),P=k[$+3]*(1/255);B[0]+=I,B[1]+=A,B[2]+=_,B[3]+=P,R[0]+=I*I,R[1]+=I*A,R[2]+=I*_,R[3]+=I*P,R[5]+=A*A,R[6]+=A*_,R[7]+=A*P,R[10]+=_*_,R[11]+=_*P,R[15]+=P*P}return R[4]=R[1],R[8]=R[2],R[9]=R[6],R[12]=R[3],R[13]=R[7],R[14]=R[11],{R,m:B,N:U}}function w(k){const{R:N}=k,{m:M}=k,{N:R}=k,B=M[0],U=M[1],$=M[2],I=M[3],A=R==0?0:1/R,_=[N[0]-B*B*A,N[1]-B*U*A,N[2]-B*$*A,N[3]-B*I*A,N[4]-U*B*A,N[5]-U*U*A,N[6]-U*$*A,N[7]-U*I*A,N[8]-$*B*A,N[9]-$*U*A,N[10]-$*$*A,N[11]-$*I*A,N[12]-I*B*A,N[13]-I*U*A,N[14]-I*$*A,N[15]-I*I*A],P=_,O=C;let E=[Math.random(),Math.random(),Math.random(),Math.random()],D=0,F=0;if(R!=0)for(let z=0;z<16&&(E=O.multVec(P,E),F=Math.sqrt(O.dot(E,E)),E=O.sml(1/F,E),!(z!=0&&Math.abs(F-D)<1e-9));z++)D=F;const W=[B*A,U*A,$*A,I*A];return{Cov:_,q:W,e:E,L:D,eMq255:O.dot(O.sml(255,W),E),eMq:O.dot(E,W),rgba:(Math.round(255*W[3])<<24|Math.round(255*W[2])<<16|Math.round(255*W[1])<<8|Math.round(255*W[0])<<0)>>>0}}var C={multVec:(k,N)=>[k[0]*N[0]+k[1]*N[1]+k[2]*N[2]+k[3]*N[3],k[4]*N[0]+k[5]*N[1]+k[6]*N[2]+k[7]*N[3],k[8]*N[0]+k[9]*N[1]+k[10]*N[2]+k[11]*N[3],k[12]*N[0]+k[13]*N[1]+k[14]*N[2]+k[15]*N[3]],dot:(k,N)=>k[0]*N[0]+k[1]*N[1]+k[2]*N[2]+k[3]*N[3],sml:(k,N)=>[k*N[0],k*N[1],k*N[2],k*N[3]]};zr.encode=function(N,M,R,B,U,$,I){B==null&&(B=0),I==null&&(I=!1);const A=d(N,M,R,B,[!1,!1,!1,0,I,!1]);return u(A,-1),c(A,M,R,U,$)},zr.encodeLL=function(N,M,R,B,U,$,I,A){const _={ctype:0+(B==1?0:2)+(U==0?0:4),depth:$,frames:[]},P=(B+U)*$,O=P*M;for(let E=0;E<N.length;E++)_.frames.push({rect:{x:0,y:0,width:M,height:R},img:new Uint8Array(N[E]),blend:0,dispose:1,bpp:Math.ceil(P/8),bpl:Math.ceil(O/8)});return u(_,0,!0),c(_,M,R,I,A)},zr.encode.compress=d,zr.encode.dither=l,zr.quantize=g,zr.quantize.getKDtree=v,zr.quantize.getNearest=y})();const lO={toArrayBuffer(e,t){const r=e.width,n=e.height,a=r<<2,i=e.getContext("2d").getImageData(0,0,r,n),o=new Uint32Array(i.data.buffer),l=(32*r+31)/32<<2,c=l*n,u=122+c,d=new ArrayBuffer(u),f=new DataView(d),h=1<<20;let p,m,g,v,y=h,b=0,x=0,S=0;function j(k){f.setUint16(x,k,!0),x+=2}function w(k){f.setUint32(x,k,!0),x+=4}function C(k){x+=k}j(19778),w(u),C(4),w(122),w(108),w(r),w(-n>>>0),j(1),j(32),w(3),w(c),w(2835),w(2835),C(8),w(16711680),w(65280),w(255),w(4278190080),w(1466527264),function k(){for(;b<n&&y>0;){for(v=122+b*l,p=0;p<a;)y--,m=o[S++],g=m>>>24,f.setUint32(v+p,m<<8|g),p+=4;b++}S<o.length?(y=h,setTimeout(k,lO._dly)):t(d)}()},toBlob(e,t){this.toArrayBuffer(e,r=>{t(new Blob([r],{type:"image/bmp"}))})},_dly:9};var tr={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},die={[tr.CHROME]:16384,[tr.FIREFOX]:11180,[tr.DESKTOP_SAFARI]:16384,[tr.IE]:8192,[tr.IOS]:4096,[tr.ETC]:8192};const gx=typeof window<"u",cO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,wf=gx&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),fie=(gx||cO)&&(wf&&wf.getOriginalSymbol(window,"File")||typeof File<"u"&&File),uO=(gx||cO)&&(wf&&wf.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function yx(e,t,r=Date.now()){return new Promise(n=>{const a=e.split(","),i=a[0].match(/:(.*?);/)[1],o=globalThis.atob(a[1]);let l=o.length;const c=new Uint8Array(l);for(;l--;)c[l]=o.charCodeAt(l);const u=new Blob([c],{type:i});u.name=t,u.lastModified=r,n(u)})}function dO(e){return new Promise((t,r)=>{const n=new uO;n.onload=()=>t(n.result),n.onerror=a=>r(a),n.readAsDataURL(e)})}function fO(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>t(n),n.onerror=a=>r(a),n.src=e})}function si(){if(si.cachedResult!==void 0)return si.cachedResult;let e=tr.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=tr.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=tr.IOS:/Safari/i.test(t)?e=tr.DESKTOP_SAFARI:/Firefox/i.test(t)?e=tr.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(e=tr.IE),si.cachedResult=e,si.cachedResult}function hO(e,t){const r=si(),n=die[r];let a=e,i=t,o=a*i;const l=a>i?i/a:a/i;for(;o>n*n;){const c=(n+a)/2,u=(n+i)/2;c<u?(i=u,a=u*l):(i=c*l,a=c),o=a*i}return{width:a,height:i}}function Xh(e,t){let r,n;try{if(r=new OffscreenCanvas(e,t),n=r.getContext("2d"),n===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{r=document.createElement("canvas"),n=r.getContext("2d")}return r.width=e,r.height=t,[r,n]}function pO(e,t){const{width:r,height:n}=hO(e.width,e.height),[a,i]=Xh(r,n);return t&&/jpe?g/.test(t)&&(i.fillStyle="white",i.fillRect(0,0,a.width,a.height)),i.drawImage(e,0,0,a.width,a.height),a}function Wu(){return Wu.cachedResult!==void 0||(Wu.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Wu.cachedResult}function _f(e,t={}){return new Promise(function(r,n){let a,i;var o=function(){try{return i=pO(a,t.fileType||e.type),r([a,i])}catch(c){return n(c)}},l=function(c){try{var u=function(d){try{throw d}catch(f){return n(f)}};try{let d;return dO(e).then(function(f){try{return d=f,fO(d).then(function(h){try{return a=h,function(){try{return o()}catch(p){return n(p)}}()}catch(p){return u(p)}},u)}catch(h){return u(h)}},u)}catch(d){u(d)}}catch(d){return n(d)}};try{if(Wu()||[tr.DESKTOP_SAFARI,tr.MOBILE_SAFARI].includes(si()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(c){try{return a=c,o()}catch{return l()}},l)}catch{l()}})}function jf(e,t,r,n,a=1){return new Promise(function(i,o){let l;if(t==="image/png"){let f,h,p;return f=e.getContext("2d"),{data:h}=f.getImageData(0,0,e.width,e.height),p=zr.encode([h.buffer],e.width,e.height,4096*a),l=new Blob([p],{type:t}),l.name=r,l.lastModified=n,c.call(this)}{let f=function(){return c.call(this)};var u=f;if(t==="image/bmp")return new Promise(h=>lO.toBlob(e,h)).then((function(h){try{return l=h,l.name=r,l.lastModified=n,f.call(this)}catch(p){return o(p)}}).bind(this),o);{let h=function(){return f.call(this)};var d=h;if(typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:a}).then((function(p){try{return l=p,l.name=r,l.lastModified=n,h.call(this)}catch(m){return o(m)}}).bind(this),o);{let p;return p=e.toDataURL(t,a),yx(p,r,n).then((function(m){try{return l=m,h.call(this)}catch(g){return o(g)}}).bind(this),o)}}}function c(){return i(l)}})}function dn(e){e.width=0,e.height=0}function co(){return new Promise(function(e,t){let r,n,a,i;return co.cachedResult!==void 0?e(co.cachedResult):yx("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return r=o,_f(r).then(function(l){try{return n=l[1],jf(n,r.type,r.name,r.lastModified).then(function(c){try{return a=c,dn(n),_f(a).then(function(u){try{return i=u[0],co.cachedResult=i.width===1&&i.height===2,e(co.cachedResult)}catch(d){return t(d)}},t)}catch(u){return t(u)}},t)}catch(c){return t(c)}},t)}catch(l){return t(l)}},t)})}function mO(e){return new Promise((t,r)=>{const n=new uO;n.onload=a=>{const i=new DataView(a.target.result);if(i.getUint16(0,!1)!=65496)return t(-2);const o=i.byteLength;let l=2;for(;l<o;){if(i.getUint16(l+2,!1)<=8)return t(-1);const c=i.getUint16(l,!1);if(l+=2,c==65505){if(i.getUint32(l+=2,!1)!=1165519206)return t(-1);const u=i.getUint16(l+=6,!1)==18761;l+=i.getUint32(l+4,u);const d=i.getUint16(l,u);l+=2;for(let f=0;f<d;f++)if(i.getUint16(l+12*f,u)==274)return t(i.getUint16(l+12*f+8,u))}else{if((65280&c)!=65280)break;l+=i.getUint16(l,!1)}}return t(-1)},n.onerror=a=>r(a),n.readAsArrayBuffer(e)})}function gO(e,t){const{width:r}=e,{height:n}=e,{maxWidthOrHeight:a}=t;let i,o=e;return isFinite(a)&&(r>a||n>a)&&([o,i]=Xh(r,n),r>n?(o.width=a,o.height=n/r*a):(o.width=r/n*a,o.height=a),i.drawImage(e,0,0,o.width,o.height),dn(e)),o}function yO(e,t){const{width:r}=e,{height:n}=e,[a,i]=Xh(r,n);switch(t>4&&t<9?(a.width=n,a.height=r):(a.width=r,a.height=n),t){case 2:i.transform(-1,0,0,1,r,0);break;case 3:i.transform(-1,0,0,-1,r,n);break;case 4:i.transform(1,0,0,-1,0,n);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,n,0);break;case 7:i.transform(0,-1,-1,0,n,r);break;case 8:i.transform(0,-1,1,0,0,r)}return i.drawImage(e,0,0,r,n),dn(e),a}function tj(e,t,r=0){return new Promise(function(n,a){let i,o,l,c,u,d,f,h,p,m,g,v,y,b,x,S,j,w,C,k;function N(R=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;i+=R,t.onProgress(Math.min(i,100))}function M(R){if(t.signal&&t.signal.aborted)throw t.signal.reason;i=Math.min(Math.max(R,i),100),t.onProgress(i)}return i=r,o=t.maxIteration||10,l=1024*t.maxSizeMB*1024,N(),_f(e,t).then((function(R){try{return[,c]=R,N(),u=gO(c,t),N(),new Promise(function(B,U){var $;if(!($=t.exifOrientation))return mO(e).then((function(A){try{return $=A,I.call(this)}catch(_){return U(_)}}).bind(this),U);function I(){return B($)}return I.call(this)}).then((function(B){try{return d=B,N(),co().then((function(U){try{return f=U?u:yO(u,d),N(),h=t.initialQuality||1,p=t.fileType||e.type,jf(f,p,e.name,e.lastModified,h).then((function($){try{{let P=function(){if(o--&&(x>l||x>y)){let E,D;return E=k?.95*C.width:C.width,D=k?.95*C.height:C.height,[j,w]=Xh(E,D),w.drawImage(C,0,0,E,D),h*=p==="image/png"?.85:.95,jf(j,p,e.name,e.lastModified,h).then(function(F){try{return S=F,dn(C),C=j,x=S.size,M(Math.min(99,Math.floor((b-x)/(b-l)*100))),P}catch(W){return a(W)}},a)}return[1]},O=function(){return dn(C),dn(j),dn(u),dn(f),dn(c),M(100),n(S)};var A=P,_=O;if(m=$,N(),g=m.size>l,v=m.size>e.size,!g&&!v)return M(100),n(m);var I;return y=e.size,b=m.size,x=b,C=f,k=!t.alwaysKeepResolution&&g,(I=(function(E){for(;E;){if(E.then)return void E.then(I,a);try{if(E.pop){if(E.length)return E.pop()?O.call(this):E;E=P}else E=E.call(this)}catch(D){return a(D)}}}).bind(this))(P)}}catch(P){return a(P)}}).bind(this),a)}catch($){return a($)}}).bind(this),a)}catch(U){return a(U)}}).bind(this),a)}catch(B){return a(B)}}).bind(this),a)})}const hie=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let cm;function pie(e,t){return new Promise((r,n)=>{cm||(cm=function(o){const l=[];return l.push(o),URL.createObjectURL(new Blob(l))}(hie));const a=new Worker(cm);a.addEventListener("message",function(o){if(t.signal&&t.signal.aborted)a.terminate();else if(o.data.progress===void 0){if(o.data.error)return n(new Error(o.data.error)),void a.terminate();r(o.data.file),a.terminate()}else t.onProgress(o.data.progress)}),a.addEventListener("error",n),t.signal&&t.signal.addEventListener("abort",()=>{n(t.signal.reason),a.terminate()}),a.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})})}function Dt(e,t){return new Promise(function(r,n){let a,i,o,l,c,u;if(a={...t},o=0,{onProgress:l}=a,a.maxSizeMB=a.maxSizeMB||Number.POSITIVE_INFINITY,c=typeof a.useWebWorker!="boolean"||a.useWebWorker,delete a.useWebWorker,a.onProgress=p=>{o=p,typeof l=="function"&&l(o)},!(e instanceof Blob||e instanceof fie))return n(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return n(new Error("The file given is not an image"));if(u=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!c||typeof Worker!="function"||u)return tj(e,a).then((function(p){try{return i=p,h.call(this)}catch(m){return n(m)}}).bind(this),n);var d=(function(){try{return h.call(this)}catch(p){return n(p)}}).bind(this),f=function(p){try{return tj(e,a).then(function(m){try{return i=m,d()}catch(g){return n(g)}},n)}catch(m){return n(m)}};try{return a.libURL=a.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",pie(e,a).then(function(p){try{return i=p,d()}catch{return f()}},f)}catch{f()}function h(){try{i.name=e.name,i.lastModified=e.lastModified}catch{}try{a.preserveExif&&e.type==="image/jpeg"&&(!a.fileType||a.fileType&&a.fileType===e.type)&&(i=sO(e,i))}catch{}return r(i)}})}Dt.getDataUrlFromFile=dO,Dt.getFilefromDataUrl=yx,Dt.loadImage=fO,Dt.drawImageInCanvas=pO,Dt.drawFileInCanvas=_f,Dt.canvasToFile=jf,Dt.getExifOrientation=mO,Dt.handleMaxWidthOrHeight=gO,Dt.followExifOrientation=yO,Dt.cleanupCanvasMemory=dn,Dt.isAutoOrientationInBrowser=co,Dt.approximateBelowMaximumCanvasSizeOfBrowser=hO,Dt.copyExifWithoutOrientation=sO,Dt.getBrowserName=si,Dt.version="2.0.2";const vO=async(e,t,r,n=.85)=>{try{const a={maxSizeMB:1,maxWidthOrHeight:Math.max(t,r),useWebWorker:!0,fileType:"image/webp",initialQuality:n},i=await Dt(e,a),o=document.createElement("canvas"),l=o.getContext("2d");if(!l)throw new Error("Failed to get canvas context");const c=await createImageBitmap(i),u=c.width/c.height,d=t/r;let f=0,h=0,p=c.width,m=c.height;return u>d?(p=c.height*d,f=(c.width-p)/2):(m=c.width/d,h=(c.height-m)/2),o.width=t,o.height=r,l.drawImage(c,f,h,p,m,0,0,t,r),new Promise((g,v)=>{o.toBlob(y=>{if(!y){v(new Error("Failed to create blob"));return}const b=new File([y],e.name.replace(/\.[^.]+$/,".webp"),{type:"image/webp"});g(b)},"image/webp",n)})}catch(a){throw console.error("Error in resizeAndConvertToWebP:",a),a}},mie=async e=>vO(e,80,80,.75),gie=async e=>vO(e,300,300,.85),yie=async e=>{try{const[t,r]=await Promise.all([gie(e),mie(e)]);return{optimized:t,thumbnail:r}}catch(t){throw console.error("Error optimizing menu item image:",t),t}},vie=async(e,t)=>{try{const r=e.name.split(".").pop(),n=`${t}/${Date.now()}-${Math.random().toString(36).substring(7)}.${r}`,{data:a,error:i}=await ee.storage.from("menu-items").upload(n,e,{cacheControl:"3600",upsert:!1});if(i)return console.error("Error uploading photo:",i),null;const{data:{publicUrl:o}}=ee.storage.from("menu-items").getPublicUrl(a.path);return o}catch(r){return console.error("Error uploading photo:",r),null}},rj=async(e,t)=>{try{const{optimized:r,thumbnail:n}=await yie(e),a=Date.now(),i=Math.random().toString(36).substring(7),o=`${t}/optimized/${a}-${i}.webp`,l=`${t}/thumbnails/${a}-${i}.webp`,[c,u]=await Promise.all([ee.storage.from("menu-items").upload(o,r,{cacheControl:"3600",upsert:!1,contentType:"image/webp"}),ee.storage.from("menu-items").upload(l,n,{cacheControl:"3600",upsert:!1,contentType:"image/webp"})]);if(c.error)return console.error("Error uploading optimized photo:",c.error),null;if(u.error)return console.error("Error uploading thumbnail:",u.error),await ee.storage.from("menu-items").remove([o]),null;const{data:{publicUrl:d}}=ee.storage.from("menu-items").getPublicUrl(c.data.path),{data:{publicUrl:f}}=ee.storage.from("menu-items").getPublicUrl(u.data.path);return{photoUrl:d,thumbnailUrl:f}}catch(r){return console.error("Error uploading optimized menu item photo:",r),null}},Sf=async(e,t)=>{try{if(!e)return!0;const r=[],a=new URL(e).pathname.split("/menu-items/");if(a.length>=2&&r.push(a[1]),t){const l=new URL(t).pathname.split("/menu-items/");l.length>=2&&r.push(l[1])}if(r.length===0)return!1;const{error:i}=await ee.storage.from("menu-items").remove(r);return i?(console.error("Error deleting photos:",i),!1):!0}catch(r){return console.error("Error deleting photos:",r),!1}},xie=async(e,t,r)=>{const n=e.name.split(".").pop(),a=`${r}/${Date.now()}-${Math.random().toString(36).substring(7)}.${n}`,{data:i,error:o}=await ee.storage.from(t).upload(a,e,{cacheControl:"3600",upsert:!1});if(o)throw new Error(`Failed to upload file: ${o.message}`);const{data:{publicUrl:l}}=ee.storage.from(t).getPublicUrl(i.path);return l},bie=[{name:"lgance Sombre",hero_background_color:"#1a1a1a",primary_color:"#d4af37",secondary_color:"#b8941e",footer_bg_color:"#0f0f0f",footer_text_primary:"#ffffff",footer_text_secondary:"#d4af37"},{name:"Classique Neutre",hero_background_color:"#ecf0f1",primary_color:"#2c3e50",secondary_color:"#34495e",footer_bg_color:"#2c3e50",footer_text_primary:"#ffffff",footer_text_secondary:"#bdc3c7"},{name:"Chaleur Terracotta",hero_background_color:"#f4f1de",primary_color:"#e07a5f",secondary_color:"#c86e56",footer_bg_color:"#3d405b",footer_text_primary:"#f4f1de",footer_text_secondary:"#e07a5f"},{name:"Fort Moderne",hero_background_color:"#d8f3dc",primary_color:"#2d6a4f",secondary_color:"#1b4332",footer_bg_color:"#1b4332",footer_text_primary:"#ffffff",footer_text_secondary:"#95d5b2"},{name:"Ocan Profond",hero_background_color:"#caf0f8",primary_color:"#0077b6",secondary_color:"#023e8a",footer_bg_color:"#03045e",footer_text_primary:"#ffffff",footer_text_secondary:"#90e0ef"},{name:"Luxe Bordeaux",hero_background_color:"#f8e8e8",primary_color:"#9d0208",secondary_color:"#6a040f",footer_bg_color:"#370617",footer_text_primary:"#ffffff",footer_text_secondary:"#dc2f02"},{name:"Minimaliste Clair",hero_background_color:"#ffffff",primary_color:"#495057",secondary_color:"#343a40",footer_bg_color:"#f8f9fa",footer_text_primary:"#212529",footer_text_secondary:"#6c757d"},{name:"Sunset Tropical",hero_background_color:"#ffe66d",primary_color:"#ff6b6b",secondary_color:"#ee5a6f",footer_bg_color:"#4ecdc4",footer_text_primary:"#ffffff",footer_text_secondary:"#ffe66d"},{name:"Caf Crme",hero_background_color:"#f5deb3",primary_color:"#8b4513",secondary_color:"#654321",footer_bg_color:"#3e2723",footer_text_primary:"#f5deb3",footer_text_secondary:"#d7ccc8"},{name:"Nature Zen",hero_background_color:"#f1f8e9",primary_color:"#7cb342",secondary_color:"#558b2f",footer_bg_color:"#33691e",footer_text_primary:"#ffffff",footer_text_secondary:"#aed581"},{name:"Mtropolitain",hero_background_color:"#cfd8dc",primary_color:"#546e7a",secondary_color:"#37474f",footer_bg_color:"#263238",footer_text_primary:"#ffffff",footer_text_secondary:"#b0bec5"},{name:"Corail Moderne",hero_background_color:"#fff5f3",primary_color:"#ff6b6b",secondary_color:"#ff8787",footer_bg_color:"#2d3748",footer_text_primary:"#ffffff",footer_text_secondary:"#ff8787"},{name:"Menthe Frache",hero_background_color:"#f0fdf4",primary_color:"#10b981",secondary_color:"#059669",footer_bg_color:"#064e3b",footer_text_primary:"#ffffff",footer_text_secondary:"#6ee7b7"},{name:"Lavande Douce",hero_background_color:"#faf5ff",primary_color:"#8b5cf6",secondary_color:"#7c3aed",footer_bg_color:"#4c1d95",footer_text_primary:"#ffffff",footer_text_secondary:"#c4b5fd"},{name:"Ambre Chaud",hero_background_color:"#fef3c7",primary_color:"#f59e0b",secondary_color:"#d97706",footer_bg_color:"#78350f",footer_text_primary:"#ffffff",footer_text_secondary:"#fbbf24"},{name:"Ardoise Urbain",hero_background_color:"#f1f5f9",primary_color:"#475569",secondary_color:"#334155",footer_bg_color:"#0f172a",footer_text_primary:"#ffffff",footer_text_secondary:"#94a3b8"}];function wie(){const{t:e}=qt(),{user:t,effectiveUserId:r}=ze(),[n,a]=T.useState(null),[i,o]=T.useState(!0),[l,c]=T.useState(!1),[u,d]=T.useState(!1),[f,h]=T.useState([]),[p,m]=T.useState(!1),[g,v]=T.useState({name:"",slug:"",primary_color:"#2563eb",secondary_color:"#1e40af",description_en:"",description_fr:"",currency_symbol:"$",currency_position:"left",logo_url:"",hero_background_color:"#1a1a1a",footer_bg_color:"#1a1a1a",footer_text_primary:"#ffffff",footer_text_secondary:"#9ca3af"});T.useEffect(()=>{r&&y()},[r]);const y=async()=>{if(!r)return;const{data:C,error:k}=await ee.from("restaurants").select("*").eq("user_id",r).maybeSingle();!k&&C&&(a(C),v({name:C.name,slug:C.slug,primary_color:C.primary_color,secondary_color:C.secondary_color,description_en:C.description_en||"",description_fr:C.description_fr||"",currency_symbol:C.currency_symbol||"$",footer_bg_color:C.footer_bg_color||"#1a1a1a",footer_text_primary:C.footer_text_primary||"#ffffff",footer_text_secondary:C.footer_text_secondary||"#9ca3af",currency_position:C.currency_position||"left",logo_url:C.logo_url||"",hero_background_color:C.hero_background_color||"#1a1a1a"}),b(C.id)),o(!1)},b=async C=>{const{data:k,error:N}=await ee.from("menus").select("id").eq("restaurant_id",C).limit(1).maybeSingle();if(N){console.error("Error loading menu:",N);return}if(k){const{data:M,error:R}=await ee.from("menu_categories").select("id").eq("menu_id",k.id).limit(1).maybeSingle();if(R){console.error("Error loading categories:",R);return}if(M){const{data:B,error:U}=await ee.from("menu_items").select("id, name, description, price, photo_url").eq("category_id",M.id).order("display_order",{ascending:!0}).limit(2);if(U){console.error("Error loading menu items:",U);return}B&&B.length>0&&h(B)}}},x=async()=>{if(r){c(!0);try{if(n){const{error:C}=await ee.from("restaurants").update(g).eq("id",n.id);if(C)throw C}else{const{error:C}=await ee.from("restaurants").insert({...g,user_id:r});if(C)throw C}await y(),alert(e.visualIdentity.saved)}catch(C){alert(e.visualIdentity.error),console.error(C)}finally{c(!1)}}},S=()=>{const C=`${window.location.origin}/${g.slug}`;navigator.clipboard.writeText(C),d(!0),setTimeout(()=>d(!1),2e3)},j=async C=>{var N;const k=(N=C.target.files)==null?void 0:N[0];if(!(!k||!r)){m(!0);try{const M=await xie(k,"logos",r);v({...g,logo_url:M})}catch(M){console.error("Error uploading logo:",M);const R=M instanceof Error?M.message:"Failed to upload logo";alert(R)}finally{m(!1)}}},w=()=>{v({...g,logo_url:""})};return i?s.jsx(_t,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:e.common.loading})]})})}):s.jsx(_t,{children:s.jsxs("div",{className:"max-w-7xl",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:e.visualIdentity.title}),s.jsxs("div",{className:"flex flex-col xl:flex-row gap-8",children:[s.jsxs("div",{className:"flex-1 space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl shadow-sm border border-blue-200 p-6",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(lM,{className:"w-5 h-5 text-blue-600"}),e.visualIdentity.predefinedPalettes]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:e.visualIdentity.predefinedPalettesDescription}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:bie.map(C=>s.jsxs("button",{onClick:()=>{v({...g,primary_color:C.primary_color,secondary_color:C.secondary_color,hero_background_color:C.hero_background_color,footer_bg_color:C.footer_bg_color,footer_text_primary:C.footer_text_primary,footer_text_secondary:C.footer_text_secondary})},className:"flex items-center gap-3 p-3 border-2 border-gray-200 rounded-lg hover:border-orange-500 transition-colors",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:C.hero_background_color}}),s.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:C.primary_color}}),s.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:C.secondary_color}})]}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:C.name})]},C.name))})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 space-y-8",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e.visualIdentity.restaurantName}),s.jsx("input",{type:"text",value:g.name,onChange:C=>{const k=C.target.value,N=k.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"");v({...g,name:k,slug:n!=null&&n.slug_locked?g.slug:N})},disabled:n==null?void 0:n.slug_locked,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${n!=null&&n.slug_locked?"bg-gray-100 cursor-not-allowed":""}`,placeholder:e.visualIdentity.restaurantNamePlaceholder}),g.slug&&s.jsxs("div",{className:"mt-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e.visualIdentity.publicMenuUrl}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:`${window.location.origin}/${g.slug}`,readOnly:!0,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-sm"}),s.jsxs("button",{onClick:S,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors flex items-center gap-2",children:[u?s.jsx(Yr,{className:"w-4 h-4 text-green-600"}):s.jsx(Va,{className:"w-4 h-4"}),u?e.visualIdentity.urlCopied:e.visualIdentity.copyUrl]})]}),n!=null&&n.slug_locked?s.jsxs("p",{className:"text-sm text-amber-600 mt-2 flex items-center gap-1",children:[s.jsx("span",{className:"font-semibold",children:""})," ",e.visualIdentity.slugLocked]}):s.jsxs("p",{className:"text-sm text-amber-600 mt-2 flex items-center gap-1",children:[s.jsx("span",{className:"font-semibold",children:""})," ",e.visualIdentity.slugLocked]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e.visualIdentity.logo}),g.logo_url?s.jsxs("div",{className:"relative inline-block",children:[s.jsx("img",{src:g.logo_url,alt:"Restaurant Logo",className:"h-24 w-auto rounded-lg border-2 border-gray-200"}),s.jsx("button",{onClick:w,className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:s.jsx(_n,{className:"w-4 h-4"})})]}):s.jsxs("label",{className:"flex items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-gray-400 transition-colors",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(ui,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),s.jsx("p",{className:"text-sm text-gray-600",children:e.visualIdentity.uploadLogo}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG (5MB max)"})]}),s.jsx("input",{type:"file",accept:"image/*",onChange:j,disabled:p||!t,className:"hidden"})]}),p&&s.jsx("p",{className:"text-sm text-blue-600 mt-2",children:e.visualIdentity.saving})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e.visualIdentity.heroBackground}),s.jsx("input",{type:"color",value:g.hero_background_color,onChange:C=>v({...g,hero_background_color:C.target.value}),className:"w-full h-12 border border-gray-300 rounded-lg cursor-pointer"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e.visualIdentity.primaryColor}),s.jsx("input",{type:"color",value:g.primary_color,onChange:C=>v({...g,primary_color:C.target.value}),className:"w-full h-12 border border-gray-300 rounded-lg cursor-pointer"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e.visualIdentity.secondaryColor}),s.jsx("input",{type:"color",value:g.secondary_color,onChange:C=>v({...g,secondary_color:C.target.value}),className:"w-full h-12 border border-gray-300 rounded-lg cursor-pointer"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e.visualIdentity.descriptionEn}),s.jsx("textarea",{value:g.description_en,onChange:C=>v({...g,description_en:C.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:e.visualIdentity.descriptionPlaceholder})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e.visualIdentity.descriptionFr}),s.jsx("textarea",{value:g.description_fr,onChange:C=>v({...g,description_fr:C.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:e.visualIdentity.descriptionPlaceholder})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:e.visualIdentity.currencySettings}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e.visualIdentity.currencySymbol}),s.jsx("input",{type:"text",value:g.currency_symbol,onChange:C=>v({...g,currency_symbol:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"$",maxLength:3}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.visualIdentity.currencySymbolHint})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e.visualIdentity.currencyPosition}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("button",{type:"button",onClick:()=>v({...g,currency_position:"left"}),className:`px-4 py-3 border-2 rounded-lg font-medium transition-colors ${g.currency_position==="left"?"border-blue-600 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"}`,children:[g.currency_symbol,"10.00"]}),s.jsxs("button",{type:"button",onClick:()=>v({...g,currency_position:"right"}),className:`px-4 py-3 border-2 rounded-lg font-medium transition-colors ${g.currency_position==="right"?"border-blue-600 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"}`,children:["10.00",g.currency_symbol]})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:e.visualIdentity.footerColors}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e.visualIdentity.background}),s.jsx("input",{type:"color",value:g.footer_bg_color,onChange:C=>v({...g,footer_bg_color:C.target.value}),className:"w-full h-12 border border-gray-300 rounded-lg cursor-pointer"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e.visualIdentity.primaryText}),s.jsx("input",{type:"color",value:g.footer_text_primary,onChange:C=>v({...g,footer_text_primary:C.target.value}),className:"w-full h-12 border border-gray-300 rounded-lg cursor-pointer"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e.visualIdentity.secondaryText}),s.jsx("input",{type:"color",value:g.footer_text_secondary,onChange:C=>v({...g,footer_text_secondary:C.target.value}),className:"w-full h-12 border border-gray-300 rounded-lg cursor-pointer"})]})]}),s.jsxs("div",{className:"mt-4 p-4 rounded-lg border border-gray-200",style:{backgroundColor:g.footer_bg_color},children:[s.jsx("div",{className:"text-sm font-semibold mb-2",style:{color:g.footer_text_primary},children:e.visualIdentity.footerPreview}),s.jsx("div",{className:"text-xs",style:{color:g.footer_text_secondary},children:e.visualIdentity.footerPreviewSecondary})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:x,disabled:l||!g.name||!g.slug,className:"px-6 py-2.5 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:l||!g.name||!g.slug?"#9ca3af":"#ea580c"},onMouseEnter:C=>!l&&g.name&&g.slug&&(C.currentTarget.style.backgroundColor="#c2410c"),onMouseLeave:C=>!l&&g.name&&g.slug&&(C.currentTarget.style.backgroundColor="#ea580c"),children:l?e.visualIdentity.saving:e.visualIdentity.save})})]})]}),s.jsx("div",{className:"hidden xl:block xl:w-[320px]",children:s.jsx("div",{className:"sticky top-8",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4 text-center",children:e.visualIdentity.livePreview}),s.jsx(oie,{restaurantName:g.name,logoUrl:g.logo_url,heroBackgroundColor:g.hero_background_color,primaryColor:g.primary_color,secondaryColor:g.secondary_color,footerBgColor:g.footer_bg_color,footerTextPrimary:g.footer_text_primary,footerTextSecondary:g.footer_text_secondary,currencySymbol:g.currency_symbol,currencyPosition:g.currency_position,menuItems:f}),s.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:e.visualIdentity.changesApplyRealTime})]})})})]})]})})}const _ie=()=>s.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"})});function jie(){const{t:e}=qt(),{user:t,effectiveUserId:r}=ze(),[n,a]=T.useState(null),[i,o]=T.useState(!0),[l,c]=T.useState(!1),[u,d]=T.useState({phone:"",email:"",address:"",instagram_url:"",facebook_url:"",tiktok_url:"",linkedin_url:"",google_maps_url:""});T.useEffect(()=>{r&&f()},[r]);const f=async()=>{if(!r)return;const{data:p}=await ee.from("restaurants").select("*").eq("user_id",r).maybeSingle();p&&(a(p),d({phone:p.phone||"",email:p.email||"",address:p.address||"",instagram_url:p.instagram_url||"",facebook_url:p.facebook_url||"",tiktok_url:p.tiktok_url||"",linkedin_url:p.linkedin_url||"",google_maps_url:p.google_maps_url||""})),o(!1)},h=async()=>{if(n){c(!0);try{const{error:p}=await ee.from("restaurants").update({phone:u.phone||null,email:u.email||null,address:u.address||null,instagram_url:u.instagram_url||null,facebook_url:u.facebook_url||null,tiktok_url:u.tiktok_url||null,linkedin_url:u.linkedin_url||null,google_maps_url:u.google_maps_url||null}).eq("id",n.id);if(p)throw p;alert("Informations de contact enregistres avec succs !")}catch(p){console.error("Error saving contact info:",p),alert("Erreur lors de la sauvegarde")}finally{c(!1)}}};return i?s.jsx(_t,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Dl,{className:"w-8 h-8 animate-spin text-orange-600"})})}):s.jsx(_t,{children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:e.contactInfo.title}),s.jsx("p",{className:"text-gray-600",children:"Grez vos coordonnes et liens de rseaux sociaux"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx(Co,{className:"w-5 h-5 text-orange-600"}),e.contactInfo.contactDetails]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Co,{className:"w-4 h-4"}),e.contactInfo.phone]}),s.jsx("input",{type:"tel",value:u.phone,onChange:p=>d({...u,phone:p.target.value}),placeholder:"+33 1 23 45 67 89",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Tc,{className:"w-4 h-4"}),"Email"]}),s.jsx("input",{type:"email",value:u.email,onChange:p=>d({...u,email:p.target.value}),placeholder:"contact@restaurant.fr",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Jf,{className:"w-4 h-4"}),"Adresse"]}),s.jsx("textarea",{value:u.address,onChange:p=>d({...u,address:p.target.value}),placeholder:"123 Rue de la Paix, 75001 Paris",rows:3,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx(Rl,{className:"w-5 h-5 text-orange-600"}),e.contactInfo.socialMedia]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Rl,{className:"w-4 h-4"}),"Instagram"]}),s.jsx("input",{type:"url",value:u.instagram_url,onChange:p=>d({...u,instagram_url:p.target.value}),placeholder:"https://instagram.com/votre-restaurant",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Yf,{className:"w-4 h-4"}),"Facebook"]}),s.jsx("input",{type:"url",value:u.facebook_url,onChange:p=>d({...u,facebook_url:p.target.value}),placeholder:"https://facebook.com/votre-restaurant",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[s.jsx(_ie,{}),"TikTok"]}),s.jsx("input",{type:"url",value:u.tiktok_url,onChange:p=>d({...u,tiktok_url:p.target.value}),placeholder:"https://tiktok.com/@votre-restaurant",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Xf,{className:"w-4 h-4"}),"LinkedIn"]}),s.jsx("input",{type:"url",value:u.linkedin_url,onChange:p=>d({...u,linkedin_url:p.target.value}),placeholder:"https://linkedin.com/company/votre-restaurant",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[s.jsx(ik,{className:"w-4 h-4"}),"Google Maps URL"]}),s.jsx("input",{type:"url",value:u.google_maps_url,onChange:p=>d({...u,google_maps_url:p.target.value}),placeholder:"https://maps.google.com/?q=votre+restaurant",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Copiez le lien de partage depuis Google Maps"})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:h,disabled:l,className:"flex items-center gap-2 px-6 py-3 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Dl,{className:"w-5 h-5 animate-spin"}),"Enregistrement..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ck,{className:"w-5 h-5"}),"Enregistrer"]})})})]})})}function Sie(){const{t:e}=qt(),{effectiveUserId:t}=ze(),[r,n]=T.useState(null),[a,i]=T.useState(!0),[o,l]=T.useState(null),[c,u]=T.useState("#000000"),[d,f]=T.useState("#ffffff"),[h,p]=T.useState(null),m=T.useRef(null),g=T.useRef(null),v=[{nameKey:"classicBlack",color:"#000000",bg:"#ffffff"},{nameKey:"navyBlue",color:"#1e3a8a",bg:"#eff6ff"},{nameKey:"darkGreen",color:"#14532d",bg:"#f0fdf4"},{nameKey:"burgundy",color:"#7f1d1d",bg:"#fef2f2"},{nameKey:"purple",color:"#581c87",bg:"#faf5ff"},{nameKey:"orange",color:"#9a3412",bg:"#fff7ed"}];T.useEffect(()=>{t&&y()},[t]),T.useEffect(()=>{r!=null&&r.slug&&b()},[r,c,d,h]);const y=async()=>{if(!t)return;const{data:$}=await ee.from("restaurants").select("*").eq("user_id",t).maybeSingle();$&&(n($),$.logo_url&&p($.logo_url)),i(!1)},b=()=>{if(!(r!=null&&r.slug)||!m.current)return;const $=`${window.location.origin}/${r.slug}?ref=QR`;g.current?g.current.update({data:$,dotsOptions:{color:c},backgroundOptions:{color:d},image:h||void 0}):(g.current=new Qy({width:300,height:300,data:$,margin:10,qrOptions:{typeNumber:0,mode:"Byte",errorCorrectionLevel:"H"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,margin:5},dotsOptions:{color:c,type:"rounded"},backgroundOptions:{color:d},image:h||void 0,cornersSquareOptions:{color:c,type:"extra-rounded"},cornersDotOptions:{color:c,type:"dot"}}),m.current.innerHTML="",g.current.append(m.current))},x=$=>{if(!(r!=null&&r.slug))return;const I=`${window.location.origin}/${r.slug}?ref=${$}`;navigator.clipboard.writeText(I),l($),setTimeout(()=>l(null),2e3)},S=()=>{if(!(r!=null&&r.slug))return;const $=`${window.location.origin}/${r.slug}?ref=QR`;new Qy({width:1024,height:1024,data:$,margin:40,qrOptions:{typeNumber:0,mode:"Byte",errorCorrectionLevel:"H"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,margin:20},dotsOptions:{color:c,type:"rounded"},backgroundOptions:{color:d},image:h||void 0,cornersSquareOptions:{color:c,type:"extra-rounded"},cornersDotOptions:{color:c,type:"dot"}}).download({name:`qr-code-${r.slug}`,extension:"png"})},j=$=>{var _;const I=(_=$.target.files)==null?void 0:_[0];if(!I)return;const A=new FileReader;A.onload=P=>{var O;p((O=P.target)==null?void 0:O.result)},A.readAsDataURL(I)},w=()=>{p(null)},C=$=>{u($.color),f($.bg)};if(a)return s.jsx(_t,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-orange-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:e.common.loading})]})})});if(!(r!=null&&r.slug))return s.jsx(_t,{children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-8 text-center",children:[s.jsx(Ec,{className:"w-16 h-16 text-yellow-600 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:e.qrCode.notConfigured}),s.jsx("p",{className:"text-gray-600 mb-6",children:e.qrCode.notConfiguredMessage}),s.jsx("a",{href:"/visual-identity",className:"inline-flex items-center gap-2 px-6 py-3 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-colors",children:e.qrCode.goToVisualIdentity})]})})});const k=`${window.location.origin}/${r.slug}?ref=QR`,N=`${window.location.origin}/${r.slug}?ref=FB`,M=`${window.location.origin}/${r.slug}?ref=IG`,R=`${window.location.origin}/${r.slug}?ref=TT`,B=`${window.location.origin}/${r.slug}?ref=LI`,U=`${window.location.origin}/${r.slug}?ref=GMB`;return s.jsx(_t,{children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:e.qrCode.title}),s.jsx("p",{className:"text-gray-600",children:e.qrCode.subtitle})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:e.qrCode.qrCodeUrl}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:k,readOnly:!0,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-sm"}),s.jsxs("button",{onClick:()=>x("QR"),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors flex items-center gap-2 shrink-0",children:[o==="QR"?s.jsx(Yr,{className:"w-4 h-4 text-green-600"}):s.jsx(Va,{className:"w-4 h-4"}),o==="QR"?e.qrCode.copied:e.qrCode.copy]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:e.qrCode.customization}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:e.qrCode.predefinedColors}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:v.map($=>s.jsxs("button",{onClick:()=>C($),className:"flex items-center gap-3 p-3 border-2 border-gray-200 rounded-lg hover:border-orange-500 transition-colors",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:$.color}}),s.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:$.bg}})]}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:e.qrCode[$.nameKey]})]},$.nameKey))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e.qrCode.qrColor}),s.jsx("input",{type:"color",value:c,onChange:$=>u($.target.value),className:"w-full h-12 border border-gray-300 rounded-lg cursor-pointer"}),s.jsx("input",{type:"text",value:c,onChange:$=>u($.target.value),className:"w-full mt-2 px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"#000000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e.qrCode.backgroundColor}),s.jsx("input",{type:"color",value:d,onChange:$=>f($.target.value),className:"w-full h-12 border border-gray-300 rounded-lg cursor-pointer"}),s.jsx("input",{type:"text",value:d,onChange:$=>f($.target.value),className:"w-full mt-2 px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"#ffffff"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e.qrCode.logoCenter}),h?s.jsxs("div",{className:"relative inline-block",children:[s.jsx("img",{src:h,alt:"Logo",className:"h-20 w-20 rounded-lg border-2 border-gray-200 object-cover"}),s.jsx("button",{onClick:w,className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:s.jsx(_n,{className:"w-4 h-4"})})]}):s.jsxs("label",{className:"flex items-center justify-center w-full h-24 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-gray-400 transition-colors",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(ui,{className:"w-6 h-6 mx-auto mb-1 text-gray-400"}),s.jsx("p",{className:"text-sm text-gray-600",children:e.qrCode.addLogo}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.qrCode.logoFormat})]}),s.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"hidden"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:e.qrCode.socialMediaTitle}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:e.qrCode.socialMediaDescription}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx(Yf,{className:"w-5 h-5 text-blue-600"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.qrCode.facebook}),s.jsx("p",{className:"text-xs text-gray-600 truncate",children:N})]}),s.jsxs("button",{onClick:()=>x("FB"),className:"px-3 py-1.5 bg-white hover:bg-gray-50 rounded-lg transition-colors flex items-center gap-1.5 shrink-0 border border-gray-200",children:[o==="FB"?s.jsx(Yr,{className:"w-3.5 h-3.5 text-green-600"}):s.jsx(Va,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"text-xs font-medium",children:o==="FB"?e.qrCode.copied:e.qrCode.copy})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-pink-50 border border-pink-200 rounded-lg",children:[s.jsx(Rl,{className:"w-5 h-5 text-pink-600"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.qrCode.instagram}),s.jsx("p",{className:"text-xs text-gray-600 truncate",children:M})]}),s.jsxs("button",{onClick:()=>x("IG"),className:"px-3 py-1.5 bg-white hover:bg-gray-50 rounded-lg transition-colors flex items-center gap-1.5 shrink-0 border border-gray-200",children:[o==="IG"?s.jsx(Yr,{className:"w-3.5 h-3.5 text-green-600"}):s.jsx(Va,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"text-xs font-medium",children:o==="IG"?e.qrCode.copied:e.qrCode.copy})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-900 border border-gray-700 rounded-lg",children:[s.jsx("div",{className:"w-5 h-5 bg-white rounded flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-bold",children:"TT"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-white",children:e.qrCode.tiktok}),s.jsx("p",{className:"text-xs text-gray-300 truncate",children:R})]}),s.jsxs("button",{onClick:()=>x("TT"),className:"px-3 py-1.5 bg-white hover:bg-gray-100 rounded-lg transition-colors flex items-center gap-1.5 shrink-0",children:[o==="TT"?s.jsx(Yr,{className:"w-3.5 h-3.5 text-green-600"}):s.jsx(Va,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"text-xs font-medium",children:o==="TT"?e.qrCode.copied:e.qrCode.copy})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 border border-blue-300 rounded-lg",children:[s.jsx(Xf,{className:"w-5 h-5 text-blue-700"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.qrCode.linkedin}),s.jsx("p",{className:"text-xs text-gray-600 truncate",children:B})]}),s.jsxs("button",{onClick:()=>x("LI"),className:"px-3 py-1.5 bg-white hover:bg-gray-50 rounded-lg transition-colors flex items-center gap-1.5 shrink-0 border border-gray-200",children:[o==="LI"?s.jsx(Yr,{className:"w-3.5 h-3.5 text-green-600"}):s.jsx(Va,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"text-xs font-medium",children:o==="LI"?e.qrCode.copied:e.qrCode.copy})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx(Jf,{className:"w-5 h-5 text-green-600"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.qrCode.googleMyBusiness}),s.jsx("p",{className:"text-xs text-gray-600 truncate",children:U})]}),s.jsxs("button",{onClick:()=>x("GMB"),className:"px-3 py-1.5 bg-white hover:bg-gray-50 rounded-lg transition-colors flex items-center gap-1.5 shrink-0 border border-gray-200",children:[o==="GMB"?s.jsx(Yr,{className:"w-3.5 h-3.5 text-green-600"}):s.jsx(Va,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"text-xs font-medium",children:o==="GMB"?e.qrCode.copied:e.qrCode.copy})]})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:e.qrCode.preview}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"bg-gray-50 rounded-xl p-8 mb-4",children:s.jsx("div",{ref:m,className:"flex items-center justify-center"})}),s.jsx("p",{className:"text-sm text-gray-600 text-center mb-4",children:e.qrCode.qrCodeMenu}),s.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-6 py-3 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-colors w-full justify-center",children:[s.jsx(iM,{className:"w-5 h-5"}),e.qrCode.download]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl border border-blue-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[" ",e.qrCode.howToUse]}),s.jsxs("ol",{className:"space-y-4",children:[s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-orange-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),s.jsx("p",{className:"text-gray-700",children:e.qrCode.step1})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-orange-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),s.jsx("p",{className:"text-gray-700",children:e.qrCode.step2})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-orange-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),s.jsx("p",{className:"text-gray-700",children:e.qrCode.step3})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-orange-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"4"}),s.jsx("p",{className:"text-gray-700",children:e.qrCode.step4})]})]})]})]})]})]})})}function Nie(){const{t:e}=qt(),{user:t,effectiveUserId:r}=ze(),n=nt(),[a,i]=T.useState([]),[o,l]=T.useState(!0),[c,u]=T.useState(null),[d,f]=T.useState(null),[h,p]=T.useState(!1),[m,g]=T.useState(""),[v,y]=T.useState(!1);T.useEffect(()=>{r&&b()},[r]);const b=async()=>{if(!r)return;const{data:N}=await ee.from("restaurants").select("id").eq("user_id",r).maybeSingle();N?(u(N.id),x(N.id)):l(!1)},x=async N=>{const{data:M,error:R}=await ee.from("menus").select("*").eq("restaurant_id",N).order("display_order",{ascending:!0});!R&&M&&i(M),l(!1)},S=async()=>{if(!(!c||!m.trim())){y(!0);try{const N=a.length>0?Math.max(...a.map(R=>R.display_order)):-1,{error:M}=await ee.from("menus").insert({restaurant_id:c,name:m.trim(),display_order:N+1});if(M)throw M;await x(c),p(!1),g("")}catch(N){console.error("Error creating menu:",N),alert("Error creating menu")}finally{y(!1)}}},j=async N=>{const{error:M}=await ee.from("menus").update({is_visible:!N.is_visible}).eq("id",N.id);!M&&c&&x(c)},w=N=>{f(N)},C=(N,M)=>{if(N.preventDefault(),d===null||d===M)return;const R=[...a],B=R[d];R.splice(d,1),R.splice(M,0,B),i(R),f(M)},k=async()=>{if(d===null)return;const N=a.map((M,R)=>({id:M.id,display_order:R}));for(const M of N)await ee.from("menus").update({display_order:M.display_order}).eq("id",M.id);f(null)};return o?s.jsx(_t,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:e.common.loading})]})})}):c?s.jsx(_t,{children:s.jsxs("div",{className:"max-w-6xl",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-8",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:e.nav.myMenus}),!h&&s.jsxs("button",{onClick:()=>p(!0),className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors w-full sm:w-auto",children:[s.jsx(ti,{className:"w-5 h-5"}),e.menu.createMenu]})]}),h&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6 mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:e.menu.createNewMenu}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsx("input",{type:"text",value:m,onChange:N=>g(N.target.value),onKeyDown:N=>N.key==="Enter"&&S(),placeholder:e.menu.menuNamePlaceholder,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:S,disabled:v||!m.trim(),className:"flex-1 sm:flex-initial px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:bg-blue-400 disabled:cursor-not-allowed",children:v?e.common.saving:e.common.create}),s.jsx("button",{onClick:()=>{p(!1),g("")},className:"flex-1 sm:flex-initial px-6 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:e.common.cancel})]})]})]}),a.length===0?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[s.jsx(ja,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.menu.noMenus}),s.jsx("p",{className:"text-gray-600 mb-6",children:e.menu.createFirstMenu}),s.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center gap-2 px-6 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[s.jsx(ti,{className:"w-5 h-5"}),e.menu.createMenu]})]}):s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"hidden md:block overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-500 uppercase tracking-wider",children:e.menu.menuName}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-500 uppercase tracking-wider",children:e.menu.status}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-500 uppercase tracking-wider",children:e.menu.visibility})]})}),s.jsx("tbody",{children:a.map((N,M)=>s.jsxs("tr",{draggable:!0,onDragStart:()=>w(M),onDragOver:R=>C(R,M),onDragEnd:k,className:"border-b border-gray-100 hover:bg-gray-50 transition-colors cursor-move",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"cursor-grab active:cursor-grabbing",children:s.jsx(ak,{className:"w-5 h-5 text-gray-400"})}),s.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200 flex-shrink-0 cursor-pointer",onClick:()=>n(`/dashboard/menu/${N.id}`),children:N.photo_url?s.jsx("img",{src:N.photo_url,alt:N.name,className:"w-full h-full object-cover",loading:"lazy"}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(ja,{className:"w-8 h-8 text-gray-400"})})}),s.jsx("button",{onClick:()=>n(`/dashboard/menu/${N.id}`),className:"text-lg font-semibold text-gray-900 hover:text-blue-600 transition-colors text-left",children:N.name})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700",children:e.menu.published})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("button",{onClick:()=>j(N),className:`relative inline-flex h-8 w-16 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${N.is_visible?"bg-green-500":"bg-gray-300"}`,role:"switch","aria-checked":N.is_visible,children:s.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white shadow-lg transition-transform duration-200 flex items-center justify-center ${N.is_visible?"translate-x-9":"translate-x-1"}`,children:N.is_visible&&s.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})})]},N.id))})]})}),s.jsx("div",{className:"md:hidden divide-y divide-gray-100",children:a.map(N=>s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200 flex-shrink-0",onClick:()=>n(`/dashboard/menu/${N.id}`),children:N.photo_url?s.jsx("img",{src:N.photo_url,alt:N.name,className:"w-full h-full object-cover",loading:"lazy"}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(ja,{className:"w-8 h-8 text-gray-400"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("button",{onClick:()=>n(`/dashboard/menu/${N.id}`),className:"text-lg font-semibold text-gray-900 hover:text-blue-600 transition-colors text-left mb-2",children:N.name}),s.jsx("div",{className:"flex items-center gap-3 mb-2",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:e.menu.published})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:e.menu.visibility}),s.jsx("button",{onClick:()=>j(N),className:`relative inline-flex h-6 w-12 items-center rounded-full transition-colors duration-200 ${N.is_visible?"bg-green-500":"bg-gray-300"}`,role:"switch","aria-checked":N.is_visible,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white shadow-lg transition-transform duration-200 ${N.is_visible?"translate-x-7":"translate-x-1"}`})})]})]})]})},N.id))})]})]})}):s.jsx(_t,{children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center py-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:e.menu.noRestaurant}),s.jsx("p",{className:"text-gray-600 mb-6",children:e.menu.createRestaurantFirst}),s.jsx("button",{onClick:()=>n("/dashboard/visual-identity"),className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:e.menu.goToVisualIdentity})]})})}function xO({imageUrl:e,altText:t,onClose:r}){return T.useEffect(()=>{const n=a=>{a.key==="Escape"&&r()};return document.addEventListener("keydown",n),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",n),document.body.style.overflow="unset"}},[r]),s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4 animate-fadeIn",onClick:r,children:s.jsxs("div",{className:"relative max-w-md w-full bg-white rounded-lg shadow-2xl animate-scaleIn",onClick:n=>n.stopPropagation(),children:[s.jsx("button",{onClick:r,className:"absolute -top-10 right-0 p-2 text-white hover:text-gray-300 transition-colors","aria-label":"Close modal",children:s.jsx(_n,{className:"w-6 h-6"})}),s.jsx("div",{className:"p-4",children:s.jsx("img",{src:e,alt:t,className:"w-full h-auto rounded-lg",style:{maxHeight:"80vh",objectFit:"contain"}})})]})})}const kie=[{code:"en",name:"English",flag:""},{code:"es",name:"Espaol",flag:""},{code:"ar",name:"",flag:""},{code:"ja",name:"",flag:""},{code:"de",name:"Deutsch",flag:""},{code:"it",name:"Italiano",flag:""},{code:"pt",name:"Portugus",flag:""},{code:"zh",name:"",flag:""},{code:"ko",name:"",flag:""}];function Pie(){const{menuId:e}=Pi(),{t}=qt(),{user:r,effectiveUserId:n}=ze(),a=nt(),[i,o]=T.useState(null),[l,c]=T.useState(null),[u,d]=T.useState([]),[f,h]=T.useState({}),[p,m]=T.useState(!0),[g,v]=T.useState(!1),[y,b]=T.useState({name:"",description:""}),[x,S]=T.useState(null),[j,w]=T.useState([]),[C,k]=T.useState("fr"),[N,M]=T.useState({}),[R,B]=T.useState({}),[U,$]=T.useState(!1),[I,A]=T.useState({name:"",description:"",price:"",photo:null,photoPreview:null,category_id:""}),[_,P]=T.useState(null),[O,E]=T.useState({}),[D,F]=T.useState(!1),[W,z]=T.useState(!1),[K,Y]=T.useState(null),J=T.useRef(null),Z=re=>{if(!l)return`${re.toFixed(2)} `;const le=re.toFixed(2);return l.currency_position==="left"?`${l.currency_symbol}${le}`:`${le} ${l.currency_symbol}`};T.useEffect(()=>{r&&e&&X()},[r,e]);const X=async()=>{if(!e)return;const{data:re}=await ee.from("menus").select("*").eq("id",e).maybeSingle();if(re){o(re);const{data:le}=await ee.from("restaurants").select("*").eq("id",re.restaurant_id).maybeSingle();le&&c(le),await te(e);const{data:de}=await ee.from("menu_translations").select("language_code").eq("menu_id",e);if(de){const fe=de.map(ge=>ge.language_code);w(fe)}}m(!1)},ne=async re=>{if(!e||re==="fr"){M({}),B({});return}const{data:le}=await ee.from("category_translations").select("*, category_id").eq("language_code",re);if(le){const fe={};le.forEach(ge=>{fe[ge.category_id]=ge}),M(fe)}const{data:de}=await ee.from("item_translations").select("*, item_id").eq("language_code",re);if(de){const fe={};de.forEach(ge=>{fe[ge.item_id]=ge}),B(fe)}};T.useEffect(()=>{ne(C)},[C,e]);const te=async re=>{const{data:le}=await ee.from("menu_categories").select("*").eq("menu_id",re).order("display_order",{ascending:!0});if(le){d(le);for(const de of le)await L(de.id)}},L=async re=>{const{data:le}=await ee.from("menu_items").select("*").eq("category_id",re).order("display_order",{ascending:!0});le&&h(de=>({...de,[re]:le}))},V=async()=>{if(!(!e||!y.name.trim())){F(!0);try{const re=u.length>0?Math.max(...u.map(de=>de.display_order)):-1,{error:le}=await ee.from("menu_categories").insert({menu_id:e,name:y.name.trim(),description:y.description.trim()||null,display_order:re+1});if(le)throw le;await te(e),v(!1),b({name:"",description:""})}catch(re){console.error("Error creating category:",re),alert("Error creating category")}finally{F(!1)}}},q=async re=>{if(!confirm(t.menu.confirmDeleteCategory))return;const{error:le}=await ee.from("menu_categories").delete().eq("id",re);!le&&e&&te(e)},Q=re=>{var de;const le=(de=re.target.files)==null?void 0:de[0];if(le){const fe=new FileReader;fe.onloadend=()=>{A({...I,photo:le,photoPreview:fe.result})},fe.readAsDataURL(le)}},H=(re,le)=>{var fe;const de=(fe=le.target.files)==null?void 0:fe[0];if(de){const ge=new FileReader;ge.onloadend=()=>{E({...O,[re]:{file:de,preview:ge.result}})},ge.readAsDataURL(de)}},ae=async()=>{if(!(!I.name.trim()||!I.price||!I.category_id)){F(!0),z(!0);try{let re=null,le=null;if(I.photo&&n){const be=await rj(I.photo,n);if(!be)throw new Error("Failed to upload photo");re=be.photoUrl,le=be.thumbnailUrl}const de=f[I.category_id]||[],fe=de.length>0?Math.max(...de.map(be=>be.display_order)):-1,{error:ge}=await ee.from("menu_items").insert({category_id:I.category_id,name:I.name.trim(),description:I.description.trim()||null,price:parseFloat(I.price),photo_url:re,thumbnail_url:le,display_order:fe+1});if(ge)throw ge;await L(I.category_id),$(!1),A({name:"",description:"",price:"",photo:null,photoPreview:null,category_id:""})}catch(re){console.error("Error creating item:",re),alert("Error creating item")}finally{F(!1),z(!1)}}},se=async(re,le,de,fe,ge)=>{F(!0),z(!0);try{let be=fe,oe=ge;const _e=O[re];if(_e!=null&&_e.file&&n){fe&&await Sf(fe,ge);const Se=await rj(_e.file,n);if(!Se)throw new Error("Failed to upload photo");be=Se.photoUrl,oe=Se.thumbnailUrl}const Ee={name:de.name.trim(),description:de.description.trim()||null,price:parseFloat(de.price),photo_url:be,thumbnail_url:oe};de.category_id&&de.category_id!==le&&(Ee.category_id=de.category_id);const{error:ye}=await ee.from("menu_items").update(Ee).eq("id",re);if(ye)throw ye;await L(le),de.category_id&&de.category_id!==le&&await L(de.category_id),P(null),E({})}catch(be){console.error("Error updating item:",be),alert("Error updating item")}finally{F(!1),z(!1)}},he=async re=>{const{error:le}=await ee.from("menu_items").update({is_visible:!re.is_visible}).eq("id",re.id);le||L(re.category_id)},xe=async re=>{if(confirm(t.menu.confirmDeleteItem))try{re.photo_url&&await Sf(re.photo_url,re.thumbnail_url);const{error:le}=await ee.from("menu_items").delete().eq("id",re.id);le||L(re.category_id)}catch(le){console.error("Error deleting item:",le),alert("Error deleting item")}};return p?s.jsx(_t,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:t.common.loading})]})})}):i?s.jsxs(_t,{children:[K&&s.jsx(xO,{imageUrl:K.url,altText:K.alt,onClose:()=>Y(null)}),s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("button",{onClick:()=>a("/dashboard/menu"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6 transition-colors",children:[s.jsx(Kf,{className:"w-4 h-4"}),t.menu.backToMenus]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-8",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:i.name}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:[s.jsxs("button",{onClick:()=>a(`/dashboard/menu/${e}/settings`),className:"flex items-center justify-center gap-2 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:[s.jsx(uk,{className:"w-5 h-5"}),"Settings"]}),s.jsxs("button",{onClick:()=>a(`/dashboard/menu/${e}/ai-import`),className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 transition-all shadow-md hover:shadow-lg",children:[s.jsx(bg,{className:"w-5 h-5"}),"Import AI"]}),s.jsxs("button",{onClick:()=>v(!0),className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[s.jsx(ti,{className:"w-5 h-5"}),t.menu.addCategory]})]})]}),j.length>0&&s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-2 mb-6",children:s.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto",children:[s.jsxs("button",{onClick:()=>k("fr"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg font-medium transition-colors whitespace-nowrap ${C==="fr"?"bg-orange-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx("span",{className:"text-xl",children:""}),"Franais"]}),j.map(re=>{const le=kie.find(de=>de.code===re);return le?s.jsxs("button",{onClick:()=>k(re),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg font-medium transition-colors whitespace-nowrap ${C===re?"bg-orange-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx("span",{className:"text-xl",children:le.flag}),le.name]},re):null})]})}),g&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6 mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:t.menu.addCategory}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"text",value:y.name,onChange:re=>b({...y,name:re.target.value}),placeholder:t.menu.categoryNamePlaceholder,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0}),s.jsx("input",{type:"text",value:y.description,onChange:re=>b({...y,description:re.target.value}),placeholder:t.menu.descriptionPlaceholder,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsx("button",{onClick:V,disabled:D||!y.name.trim(),className:"flex-1 px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:bg-blue-400 disabled:cursor-not-allowed",children:D?t.common.saving:t.common.create}),s.jsx("button",{onClick:()=>{v(!1),b({name:"",description:""})},className:"flex-1 px-6 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:t.common.cancel})]})]})]}),u.length===0?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:t.menu.noCategories}),s.jsx("p",{className:"text-gray-600 mb-6",children:t.menu.createFirstCategory}),s.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center gap-2 px-6 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[s.jsx(ti,{className:"w-5 h-5"}),t.menu.addCategory]})]}):s.jsx("div",{className:"space-y-8",children:u.map(re=>{var le,de,fe,ge,be;return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between bg-gray-50",children:x===re.id?s.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[s.jsx("input",{type:"text",defaultValue:re.name,id:`edit-category-name-${re.id}`,placeholder:"Category name",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0}),s.jsx("input",{type:"text",defaultValue:re.description||"",id:`edit-category-desc-${re.id}`,placeholder:"Description (optional)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsx("button",{onClick:async()=>{const oe=document.getElementById(`edit-category-name-${re.id}`),_e=document.getElementById(`edit-category-desc-${re.id}`);if(!oe.value.trim())return;F(!0);const{error:Ee}=await ee.from("menu_categories").update({name:oe.value.trim(),description:_e.value.trim()||null}).eq("id",re.id);!Ee&&e&&await te(e),S(null),F(!1)},disabled:D,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400 transition-colors",children:D?t.common.saving:t.common.update}),s.jsx("button",{onClick:()=>S(null),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:t.common.cancel})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ak,{className:"w-5 h-5 text-gray-400 cursor-grab"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:((le=N[re.id])==null?void 0:le.name)||re.name}),(((de=N[re.id])==null?void 0:de.description)||re.description)&&s.jsx("p",{className:"text-sm text-gray-600",children:((fe=N[re.id])==null?void 0:fe.description)||re.description}),s.jsxs("p",{className:"text-sm text-gray-500",children:[((ge=f[re.id])==null?void 0:ge.length)||0," items"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>S(re.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:s.jsx(Jb,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>q(re.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:s.jsx(Ul,{className:"w-4 h-4"})})]})]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[(be=f[re.id])==null?void 0:be.map(oe=>{var _e,Ee,ye;return s.jsx("div",{children:_===oe.id?s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 sm:p-6 bg-gray-50",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[s.jsxs("div",{className:"md:col-span-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image"}),s.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg h-32 flex items-center justify-center bg-white cursor-pointer hover:border-gray-400 transition-colors",onClick:()=>{var Se;return(Se=document.getElementById(`edit-photo-${oe.id}`))==null?void 0:Se.click()},children:(_e=O[oe.id])!=null&&_e.preview?s.jsx("img",{src:O[oe.id].preview,alt:"",className:"w-full h-full object-cover rounded-lg"}):oe.photo_url?s.jsx("img",{src:oe.photo_url,alt:"",className:"w-full h-full object-cover rounded-lg"}):s.jsxs("div",{className:"text-center",children:[s.jsx(ui,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Click to upload"})]})}),s.jsx("input",{type:"file",id:`edit-photo-${oe.id}`,accept:"image/*",onChange:Se=>H(oe.id,Se),className:"hidden"})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom"}),s.jsx("input",{type:"text",defaultValue:oe.name,id:`edit-name-${oe.id}`,placeholder:"Nom du plat",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{defaultValue:oe.description||"",id:`edit-desc-${oe.id}`,placeholder:"Description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg resize-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prix"}),s.jsx("input",{type:"number",step:"0.01",defaultValue:oe.price,id:`edit-price-${oe.id}`,placeholder:"Prix",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"}),s.jsx("select",{defaultValue:oe.category_id,id:`edit-category-${oe.id}`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg mt-2",children:u.map(Se=>s.jsx("option",{value:Se.id,children:Se.name},Se.id))})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{onClick:()=>{const Se=document.getElementById(`edit-name-${oe.id}`),Ie=document.getElementById(`edit-price-${oe.id}`),Fe=document.getElementById(`edit-desc-${oe.id}`),At=document.getElementById(`edit-category-${oe.id}`);se(oe.id,oe.category_id,{name:Se.value,price:Ie.value,description:Fe.value,category_id:At.value},oe.photo_url,oe.thumbnail_url)},disabled:D||W,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400",children:W?"Uploading...":D?t.common.saving:t.common.update}),s.jsx("button",{onClick:()=>{P(null),E({})},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:t.common.cancel})]})]}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4 p-4 border border-gray-200 rounded-lg hover:border-gray-300 transition-colors",children:[s.jsx("div",{className:"w-full sm:w-16 h-32 sm:h-16 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0 cursor-pointer hover:opacity-80 transition-opacity",onClick:Se=>{Se.stopPropagation(),oe.photo_url&&Y({url:oe.photo_url,alt:oe.name})},children:oe.photo_url?s.jsx("img",{src:oe.photo_url,alt:oe.name,className:"w-full h-full object-cover rounded-lg pointer-events-none"}):s.jsx(ui,{className:"w-6 h-6 text-gray-400"})}),s.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[s.jsx("div",{className:"flex items-start gap-2 mb-1",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:((Ee=R[oe.id])==null?void 0:Ee.name)||oe.name})}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:((ye=R[oe.id])==null?void 0:ye.description)||oe.description}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"text-lg font-bold text-orange-600",children:Z(oe.price)})})]}),s.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-center gap-2 w-full sm:w-auto",children:[s.jsx("select",{value:oe.category_id,onChange:Se=>se(oe.id,oe.category_id,{name:oe.name,description:oe.description||"",price:oe.price.toString(),category_id:Se.target.value},oe.photo_url,oe.thumbnail_url),className:"flex-1 sm:flex-initial px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:u.map(Se=>s.jsx("option",{value:Se.id,children:Se.name},Se.id))}),s.jsx("button",{onClick:()=>P(oe.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:s.jsx(Jb,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>he(oe),className:`relative inline-flex h-6 w-12 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${oe.is_visible?"bg-green-500":"bg-gray-300"}`,role:"switch","aria-checked":oe.is_visible,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white shadow-lg transition-transform duration-200 flex items-center justify-center ${oe.is_visible?"translate-x-7":"translate-x-1"}`,children:oe.is_visible&&s.jsx("svg",{className:"w-3 h-3 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})}),s.jsx("button",{onClick:()=>xe(oe),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:s.jsx(Ul,{className:"w-4 h-4"})})]})]})})},oe.id)}),U&&I.category_id===re.id?s.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 sm:p-6 bg-gray-50",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[s.jsxs("div",{className:"md:col-span-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image"}),s.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg h-32 flex items-center justify-center bg-white cursor-pointer hover:border-gray-400 transition-colors",onClick:()=>{var oe;return(oe=J.current)==null?void 0:oe.click()},children:I.photoPreview?s.jsxs("div",{className:"relative w-full h-full",children:[s.jsx("img",{src:I.photoPreview,alt:"",className:"w-full h-full object-cover rounded-lg"}),s.jsx("button",{onClick:oe=>{oe.stopPropagation(),A({...I,photo:null,photoPreview:null})},className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:s.jsx(_n,{className:"w-3 h-3"})})]}):s.jsxs("div",{className:"text-center",children:[s.jsx(ui,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Click to upload"})]})}),s.jsx("input",{ref:J,type:"file",accept:"image/*",onChange:Q,className:"hidden"})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom"}),s.jsx("input",{type:"text",value:I.name,onChange:oe=>A({...I,name:oe.target.value}),placeholder:"Nom du plat",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",autoFocus:!0})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:I.description,onChange:oe=>A({...I,description:oe.target.value}),placeholder:"Description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg resize-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prix ()"}),s.jsx("input",{type:"number",step:"0.01",value:I.price,onChange:oe=>A({...I,price:oe.target.value}),placeholder:"Prix",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"}),s.jsxs("button",{onClick:ae,disabled:D||W||!I.name.trim()||!I.price,className:"w-full mt-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:bg-orange-400 flex items-center justify-center gap-2",children:[s.jsx(ti,{className:"w-4 h-4"}),W?"Uploading...":"Ajouter"]})]})]})}):s.jsxs("button",{onClick:()=>{$(!0),A({name:"",description:"",price:"",photo:null,photoPreview:null,category_id:re.id})},className:"w-full p-4 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-gray-400 hover:text-gray-600 transition-colors flex items-center justify-center gap-2",children:[s.jsx(ti,{className:"w-5 h-5"}),t.menu.addItem]})]})]},re.id)})})]})]}):s.jsx(_t,{children:s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-600",children:t.menu.noMenus})})})}const nj=[{code:"en",name:"English",flag:""},{code:"es",name:"Espaol",flag:""},{code:"ar",name:"",flag:""},{code:"ja",name:"",flag:""},{code:"de",name:"Deutsch",flag:""},{code:"it",name:"Italiano",flag:""},{code:"pt",name:"Portugus",flag:""},{code:"zh",name:"",flag:""},{code:"ko",name:"",flag:""}];function Cie({menuId:e,baseLanguage:t,baseName:r}){const[n,a]=T.useState([]),[i,o]=T.useState(!0),[l,c]=T.useState(!1),[u,d]=T.useState(""),[f,h]=T.useState(!1),[p,m]=T.useState(null),[g,v]=T.useState("");T.useEffect(()=>{y()},[e]);const y=async()=>{const{data:j}=await ee.from("menu_translations").select("*").eq("menu_id",e);j&&a(j),o(!1)},b=async j=>{h(!0);try{const{data:w}=await ee.from("menu_categories").select("*").eq("menu_id",e);if(!w)throw new Error("No categories found");const C=await fetch("undefined/functions/v1/translate-menu",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer undefined"},body:JSON.stringify({text:r,targetLanguage:j,context:"a restaurant menu name"})});if(!C.ok)throw new Error("Menu translation failed");const{translation:k}=await C.json();await ee.from("menu_translations").insert({menu_id:e,language_code:j,name:k});for(const N of w){const M=await fetch("undefined/functions/v1/translate-menu",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer undefined"},body:JSON.stringify({text:N.name,targetLanguage:j,context:"a menu category name"})});if(M.ok){const{translation:B}=await M.json();let U=null;if(N.description){const $=await fetch("undefined/functions/v1/translate-menu",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer undefined"},body:JSON.stringify({text:N.description,targetLanguage:j,context:"a menu category description"})});if($.ok){const{translation:I}=await $.json();U=I}}await ee.from("category_translations").insert({category_id:N.id,language_code:j,name:B,description:U})}const{data:R}=await ee.from("menu_items").select("*").eq("category_id",N.id);if(R)for(const B of R){const U=await fetch("undefined/functions/v1/translate-menu",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer undefined"},body:JSON.stringify({text:B.name,targetLanguage:j,context:"a menu item name (food or drink)"})});if(U.ok){const{translation:$}=await U.json();let I=null;if(B.description){const A=await fetch("undefined/functions/v1/translate-menu",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer undefined"},body:JSON.stringify({text:B.description,targetLanguage:j,context:"a menu item description (ingredients)"})});if(A.ok){const{translation:_}=await A.json();I=_}}await ee.from("item_translations").insert({item_id:B.id,language_code:j,name:$,description:I})}}}await y(),c(!1),d(""),alert("Traduction termine avec succs !")}catch(w){console.error("Translation error:",w),alert("chec de la traduction. Veuillez ressayer.")}finally{h(!1)}},x=async j=>{if(confirm(`tes-vous sr de vouloir supprimer toutes les traductions ${j.name} ?`))try{const{data:w}=await ee.from("menu_categories").select("id").eq("menu_id",e);if(w){const C=w.map(N=>N.id);await ee.from("category_translations").delete().eq("language_code",j.language_code).in("category_id",C);const{data:k}=await ee.from("menu_items").select("id").in("category_id",C);if(k){const N=k.map(M=>M.id);await ee.from("item_translations").delete().eq("language_code",j.language_code).in("item_id",N)}}await ee.from("menu_translations").delete().eq("id",j.id),await y()}catch(w){console.error("Delete error:",w),alert("Erreur lors de la suppression")}},S=nj.filter(j=>j.code!==t&&!n.some(w=>w.language_code===j.code));return i?s.jsx("div",{className:"text-center py-4",children:"Chargement des traductions..."}):s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nk,{className:"w-5 h-5 text-gray-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Langues du Menu"})]}),S.length>0&&s.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",disabled:f,children:[s.jsx(ti,{className:"w-4 h-4"}),"Ajouter une langue"]})]}),l&&s.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx(Bu,{className:"w-5 h-5 text-blue-600 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Traduction automatique complte"}),s.jsx("p",{className:"text-xs text-blue-700",children:"Toutes les catgories et tous les plats seront automatiquement traduits. Vous pourrez les modifier ensuite dans l'onglet de la langue."})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{value:u,onChange:j=>d(j.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white",disabled:f,children:[s.jsx("option",{value:"",children:"-- Choisir une langue --"}),S.map(j=>s.jsxs("option",{value:j.code,children:[j.flag," ",j.name]},j.code))]}),s.jsx("button",{onClick:()=>b(u),disabled:!u||f,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center gap-2 whitespace-nowrap",children:f?s.jsxs(s.Fragment,{children:[s.jsx(Dl,{className:"w-4 h-4 animate-spin"}),"Traduction en cours..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bu,{className:"w-4 h-4"}),"Traduire tout"]})}),s.jsx("button",{onClick:()=>{c(!1),d("")},disabled:f,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Annuler"})]})]}),s.jsx("div",{className:"space-y-3",children:n.map(j=>{const w=nj.find(k=>k.code===j.language_code),C=p===j.id;return s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx("span",{className:"text-3xl",children:w==null?void 0:w.flag}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-gray-900 mb-2",children:w==null?void 0:w.name}),C?s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Nom du Menu"}),s.jsx("input",{type:"text",value:g,onChange:k=>v(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",autoFocus:!0})]}):s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Nom du Menu"}),s.jsx("div",{className:"text-sm font-medium text-gray-800",children:j.name}),s.jsxs("div",{className:"text-xs text-gray-600 mt-2",children:[`Cliquez sur l'onglet "`,w==null?void 0:w.name,'" dans le menu pour modifier les catgories et plats']})]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:C?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:async()=>{const{error:k}=await ee.from("menu_translations").update({name:g}).eq("id",j.id);k||(await y(),m(null),v(""))},className:"p-2 text-green-600 hover:bg-green-50 rounded transition-colors",title:"Enregistrer",children:s.jsx(Yr,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>{m(null),v("")},className:"p-2 text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Annuler",children:s.jsx(_n,{className:"w-5 h-5"})})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>{m(j.id),v(j.name)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Modifier le nom du menu",children:s.jsx(Zf,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>x(j),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Supprimer cette langue",children:s.jsx(Ul,{className:"w-5 h-5"})})]})})]},j.id)})}),n.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Bu,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),s.jsx("p",{className:"font-medium mb-1",children:"Aucune langue ajoute"}),s.jsx("p",{className:"text-sm",children:"Ajoutez une langue pour traduire automatiquement tout votre menu"})]})]})}function Aie(){const{menuId:e}=Pi(),{t}=qt(),{user:r,effectiveUserId:n}=ze(),a=nt(),i=T.useRef(null),[o,l]=T.useState(null),[c,u]=T.useState(!0),[d,f]=T.useState(!1),[h,p]=T.useState(!1),[m,g]=T.useState(""),[v,y]=T.useState(null),[b,x]=T.useState(null);T.useEffect(()=>{r&&e&&S()},[r,e]);const S=async()=>{if(!e)return;const{data:k}=await ee.from("menus").select("*").eq("id",e).maybeSingle();k&&(l(k),g(k.name),x(k.photo_url)),u(!1)},j=k=>{var M;const N=(M=k.target.files)==null?void 0:M[0];if(N){const R=new FileReader;R.onloadend=()=>{y(N),x(R.result)},R.readAsDataURL(N)}},w=()=>{y(null),x(null)},C=async()=>{if(!(!e||!m.trim())){f(!0),p(!0);try{let k=(o==null?void 0:o.photo_url)||null;if(v&&n){if(o!=null&&o.photo_url&&await Sf(o.photo_url),k=await vie(v,n),!k)throw new Error("Failed to upload photo")}else b===null&&(o!=null&&o.photo_url)&&(await Sf(o.photo_url),k=null);const{error:N}=await ee.from("menus").update({name:m.trim(),photo_url:k}).eq("id",e);if(N)throw N;await S(),a(`/dashboard/menu/${e}`)}catch(k){console.error("Error updating menu:",k),alert("Error updating menu settings")}finally{f(!1),p(!1)}}};return c?s.jsx(_t,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:t.common.loading})]})})}):o?s.jsx(_t,{children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("button",{onClick:()=>a(`/dashboard/menu/${e}`),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6 transition-colors",children:[s.jsx(Kf,{className:"w-4 h-4"}),t.menu.backToMenus]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:t.menu.menuSettings}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.menu.menuName}),s.jsx("input",{type:"text",value:m,onChange:k=>g(k.target.value),placeholder:t.menu.menuNamePlaceholder,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.menu.menuImage}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-48 h-48 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center bg-white cursor-pointer hover:border-gray-400 transition-colors overflow-hidden",onClick:()=>{var k;return(k=i.current)==null?void 0:k.click()},children:b?s.jsxs("div",{className:"relative w-full h-full",children:[s.jsx("img",{src:b,alt:"",className:"w-full h-full object-cover"}),s.jsx("button",{onClick:k=>{k.stopPropagation(),w()},className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:s.jsx(_n,{className:"w-4 h-4"})})]}):s.jsxs("div",{className:"text-center p-6",children:[s.jsx(ui,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),s.jsx("span",{className:"text-sm text-gray-500",children:t.menu.uploadImage})]})}),s.jsx("input",{ref:i,type:"file",accept:"image/*",onChange:j,className:"hidden"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-600",children:t.menu.menuImageHelper}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:t.menu.menuImageSize})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t border-gray-200",children:[s.jsxs("button",{onClick:C,disabled:d||h||!m.trim(),className:"flex items-center gap-2 px-6 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:bg-blue-400 disabled:cursor-not-allowed",children:[s.jsx(ck,{className:"w-5 h-5"}),h?t.menu.uploading:d?t.common.saving:t.menu.saveChanges]}),s.jsx("button",{onClick:()=>a(`/dashboard/menu/${e}`),className:"px-6 py-2.5 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:t.common.cancel})]})]}),e&&m&&s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mt-6",children:s.jsx(Cie,{menuId:e,baseLanguage:"fr",baseName:m})})]})]})}):s.jsx(_t,{children:s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-600",children:t.menu.noMenus})})})}function Oie(){const{menuId:e}=Pi();qt(),ze();const t=nt(),r=T.useRef(null),[n,a]=T.useState(null),[i,o]=T.useState(null),[l,c]=T.useState(!1),[u,d]=T.useState(!1),[f,h]=T.useState(null),p=v=>{var b;const y=(b=v.target.files)==null?void 0:b[0];if(y){a(y),h(null);const x=new FileReader;x.onloadend=()=>{o(x.result)},x.readAsDataURL(y)}},m=async()=>{if(!(!n||!i)){c(!0),h(null);try{const v=i.split(",")[1],b=await fetch("undefined/functions/v1/parse-menu-image",{method:"POST",headers:{Authorization:"Bearer undefined","Content-Type":"application/json"},body:JSON.stringify({image:v})}),x=await b.json();if(!b.ok){const S=x.error||"Failed to process image";throw console.error("API Error:",S,"Status:",b.status),new Error(S)}if(x.items&&Array.isArray(x.items))h({success:!0,items:x.items});else throw new Error("Invalid response format from AI")}catch(v){console.error("Error processing image:",v);const y=v instanceof Error?v.message:"Failed to process menu image. Please try again.";h({success:!1,error:y})}finally{c(!1)}}},g=async()=>{if(!(!(f!=null&&f.items)||!e)){d(!0);try{const v=new Map;let y=0,b=0;console.log("Starting import of",f.items.length,"items");for(const x of f.items){console.log("Processing item:",x.name,"in category:",x.category);let S=v.get(x.category);if(!S){console.log("Looking for existing category:",x.category);const{data:N,error:M}=await ee.from("menu_categories").select("id").eq("menu_id",e).eq("name",x.category).maybeSingle();if(M)throw console.error("Error checking category:",M),M;if(N)console.log("Found existing category:",N.id),S=N.id;else{console.log("Creating new category:",x.category);const{data:R}=await ee.from("menu_categories").select("display_order").eq("menu_id",e).order("display_order",{ascending:!1}).limit(1),B=R&&R.length>0?R[0].display_order:-1;console.log("Max order for categories:",B);const{data:U,error:$}=await ee.from("menu_categories").insert({menu_id:e,name:x.category,description:null,display_order:B+1}).select().single();if($)throw console.error("Error creating category:",$),$;console.log("Created category:",U),S=U.id,y++}v.set(x.category,S)}console.log("Creating item in category:",S);const{data:j}=await ee.from("menu_items").select("display_order").eq("category_id",S).order("display_order",{ascending:!1}).limit(1),w=j&&j.length>0?j[0].display_order:-1;console.log("Max order for items in category:",w);const{data:C,error:k}=await ee.from("menu_items").insert({category_id:S,name:x.name,description:x.description||null,price:x.price,display_order:w+1,is_visible:!0,photo_url:null}).select().single();if(k)throw console.error("Error creating item:",k),k;console.log("Created item:",C),b++}console.log(`Import complete! Created ${y} categories and ${b} items`),alert(`Successfully imported ${b} items in ${y} new categories!`),t(`/dashboard/menu/${e}`)}catch(v){console.error("Error importing items:",v),alert(`Error importing items to database: ${v instanceof Error?v.message:"Unknown error"}`)}finally{d(!1)}}};return s.jsx(_t,{children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("button",{onClick:()=>t(`/dashboard/menu/${e}`),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6 transition-colors",children:[s.jsx(Kf,{className:"w-4 h-4"}),"Back to Menu"]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:s.jsx(bg,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"AI Menu Import"}),s.jsx("p",{className:"text-gray-600",children:"Upload a menu image and let AI extract the items"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Upload Menu Image"}),s.jsx("div",{onClick:()=>{var v;return(v=r.current)==null?void 0:v.click()},className:"border-2 border-dashed border-gray-300 rounded-xl p-12 text-center hover:border-blue-500 transition-colors cursor-pointer",children:i?s.jsxs("div",{className:"space-y-4",children:[s.jsx("img",{src:i,alt:"Menu preview",className:"max-h-96 mx-auto rounded-lg shadow-md"}),s.jsx("p",{className:"text-sm text-gray-600",children:n==null?void 0:n.name}),s.jsx("button",{onClick:v=>{v.stopPropagation(),a(null),o(null),h(null)},className:"text-sm text-red-600 hover:text-red-700 font-medium",children:"Remove Image"})]}):s.jsxs("div",{children:[s.jsx(ui,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-700 mb-2",children:"Click to upload or drag and drop"}),s.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG, JPEG up to 10MB"})]})}),s.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:p,className:"hidden"})]}),n&&!f&&s.jsx("button",{onClick:m,disabled:l,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing with AI..."]}):s.jsxs(s.Fragment,{children:[s.jsx(bg,{className:"w-5 h-5"}),"Process with AI"]})}),f&&s.jsx("div",{className:"space-y-4",children:f.success&&f.items?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2 p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx(Xb,{className:"w-5 h-5 text-green-600"}),s.jsxs("span",{className:"text-green-800 font-medium",children:["Successfully parsed ",f.items.length," items!"]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Parsed Items Preview"}),s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:f.items.map((v,y)=>s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:v.name}),s.jsxs("span",{className:"text-orange-600 font-bold",children:["$",v.price.toFixed(2)]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:v.description}),s.jsx("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded",children:v.category})]},y))})]}),s.jsx("button",{onClick:g,disabled:u,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Importing to Database..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Xb,{className:"w-5 h-5"}),"Import to Database"]})})]}):s.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx(ls,{className:"w-5 h-5 text-red-600"}),s.jsx("span",{className:"text-red-800",children:f.error})]})})]})]})]})})}const um={classic:{id:"classic",name:"Classic",colors:{primary:"#2563eb",secondary:"#64748b",accent:"#f59e0b",background:"#ffffff",text:"#1f2937"}},elegant:{id:"elegant",name:"Elegant",colors:{primary:"#1f2937",secondary:"#6b7280",accent:"#d97706",background:"#f9fafb",text:"#111827"}},modern:{id:"modern",name:"Modern",colors:{primary:"#7c3aed",secondary:"#a78bfa",accent:"#ec4899",background:"#ffffff",text:"#1f2937"}},fresh:{id:"fresh",name:"Fresh",colors:{primary:"#059669",secondary:"#10b981",accent:"#f59e0b",background:"#ffffff",text:"#1f2937"}},warm:{id:"warm",name:"Warm",colors:{primary:"#dc2626",secondary:"#f87171",accent:"#fb923c",background:"#fffbeb",text:"#991b1b"}},ocean:{id:"ocean",name:"Ocean",colors:{primary:"#0891b2",secondary:"#06b6d4",accent:"#3b82f6",background:"#f0fdfa",text:"#134e4a"}}},Eie=e=>!e||!(e in um)?um.classic:um[e],bO="cloudmenu_selected_language",Tie=["en","fr","es","ar","ja","de","it","pt","zh","ko"];function $ie(){try{return localStorage.getItem(bO)}catch{return null}}function wO(e){try{localStorage.setItem(bO,e)}catch{console.warn("Failed to store language preference")}}function Mie(){const t=(navigator.language||navigator.userLanguage).split("-")[0].toLowerCase();return Tie.includes(t)?t:"fr"}function Yy(e=[]){const t=$ie();if(t&&(e.length===0||e.includes(t)))return t;const r=Mie();return e.length===0||e.includes(r)?r:e.length>0&&!e.includes("fr")?e[0]:"fr"}function Iie(e="fr"){return{t:T.useMemo(()=>{const r=e;return Fu[r]?Fu[r]:Fu.fr},[e])}}const Rie=()=>s.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"})});function _O({restaurantName:e,primaryColor:t,secondaryColor:r,footerBgColor:n,footerTextPrimary:a,footerTextSecondary:i,phone:o,email:l,address:c,instagramUrl:u,facebookUrl:d,tiktokUrl:f,linkedinUrl:h,googleMapsUrl:p,language:m="fr"}){const{t:g}=Iie(m),v=o||l||c,y=[{url:u,icon:Rl,label:"Instagram"},{url:d,icon:Yf,label:"Facebook"},{url:f,icon:Rie,label:"TikTok",isCustom:!0},{url:h,icon:Xf,label:"LinkedIn"},{url:p,icon:ik,label:"Google Maps"}].filter(x=>x.url),b=y.length>0;return!v&&!b?s.jsx("footer",{className:"mt-auto",style:{backgroundColor:n},children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-sm",style:{color:i},children:[" ",new Date().getFullYear()," ",e,". ",g.footer.allRightsReserved,"."]})})})}):s.jsx("footer",{className:"mt-auto",style:{backgroundColor:n},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[v&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:a},children:g.footer.contactUs}),s.jsxs("div",{className:"space-y-3",children:[o&&s.jsxs("a",{href:`tel:${o}`,className:"flex items-center gap-3 transition-colors hover:opacity-80",style:{color:i},children:[s.jsx(Co,{className:"w-5 h-5 flex-shrink-0",style:{color:a}}),s.jsx("span",{children:o})]}),l&&s.jsxs("a",{href:`mailto:${l}`,className:"flex items-center gap-3 transition-colors hover:opacity-80",style:{color:i},children:[s.jsx(Tc,{className:"w-5 h-5 flex-shrink-0",style:{color:a}}),s.jsx("span",{children:l})]}),c&&s.jsxs("div",{className:"flex items-start gap-3",style:{color:i},children:[s.jsx(Jf,{className:"w-5 h-5 flex-shrink-0 mt-0.5",style:{color:a}}),s.jsx("span",{children:c})]})]})]}),b&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:a},children:g.footer.followUs}),s.jsx("div",{className:"flex flex-wrap gap-3",children:y.map((x,S)=>{const j=x.icon;return s.jsx("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:"p-3 rounded-full transition-all hover:scale-110",style:{backgroundColor:`${a}20`,color:a},title:x.label,onMouseEnter:w=>{w.currentTarget.style.backgroundColor=a,w.currentTarget.style.color=n},onMouseLeave:w=>{w.currentTarget.style.backgroundColor=`${a}20`,w.currentTarget.style.color=a},children:x.isCustom?s.jsx(j,{}):s.jsx(j,{className:"w-5 h-5"})},S)})})]})]}),s.jsx("div",{className:"pt-8 border-t text-center",style:{borderColor:`${a}20`},children:s.jsxs("p",{className:"text-sm",style:{color:i},children:[" ",new Date().getFullYear()," ",e,". ",g.footer.allRightsReserved,"."]})})]})})}const jO=T.createContext(void 0);function SO({children:e}){const[t,r]=T.useState(()=>localStorage.getItem("darkMode")==="true");T.useEffect(()=>{localStorage.setItem("darkMode",t.toString())},[t]);const n=()=>{r(a=>!a)};return s.jsx(jO.Provider,{value:{isDarkMode:t,toggleDarkMode:n},children:e})}function NO(){const e=T.useContext(jO);if(e===void 0)throw new Error("useDarkMode must be used within a DarkModeProvider");return e}function Die(){const{slug:e}=Pi(),t=nt(),[r,n]=T.useState(null),[a,i]=T.useState([]),[o,l]=T.useState(!0),[c,u]=T.useState(!1),[d,f]=T.useState(()=>Yy()),h=[{code:"en",name:"English",flag:""},{code:"fr",name:"Franais",flag:""},{code:"es",name:"Espaol",flag:""},{code:"ar",name:"",flag:""},{code:"ja",name:"",flag:""},{code:"de",name:"Deutsch",flag:""},{code:"it",name:"Italiano",flag:""},{code:"pt",name:"Portugus",flag:""},{code:"zh",name:"",flag:""},{code:"ko",name:"",flag:""}];T.useEffect(()=>{e&&p()},[e]),T.useEffect(()=>{document.documentElement.lang=d},[d]),T.useEffect(()=>{if(a.length>0&&a[0].photo_url){const v=document.createElement("link");v.rel="preload",v.as="image",v.href=a[0].photo_url,document.head.appendChild(v)}},[a]);const p=async()=>{const{data:v,error:y}=await ee.from("restaurants").select("*").eq("slug",e).maybeSingle();if(y||!v){l(!1);return}n(v);const x=new URLSearchParams(window.location.search).get("ref")||"direct";try{await fetch("undefined/functions/v1/track-visit",{method:"POST",headers:{Authorization:"Bearer undefined","Content-Type":"application/json"},body:JSON.stringify({restaurant_id:v.id,ref_source:x})})}catch(j){console.error("Error tracking visit:",j)}const{data:S}=await ee.from("menus").select("id, name, photo_url, color_palette").eq("restaurant_id",v.id).eq("is_visible",!0).order("display_order",{ascending:!0});S&&i(S),l(!1)};if(!r&&!o)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Restaurant not found"}),s.jsx("p",{className:"text-gray-600",children:"The page you're looking for doesn't exist."})]})});const{isDarkMode:m,toggleDarkMode:g}=NO();return s.jsxs("div",{className:`min-h-screen flex flex-col transition-colors ${m?"bg-gray-900":"bg-gray-50"}`,lang:d,children:[s.jsx("nav",{className:`shadow-sm sticky top-0 z-40 transition-colors ${m?"bg-gray-800":"bg-white"}`,children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsx("h1",{className:`text-xl font-bold ${m?"text-white":"text-gray-900"}`,children:(r==null?void 0:r.name)||""}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:g,className:`p-2 rounded-lg transition-colors ${m?"text-yellow-400 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,title:m?"Light Mode":"Dark Mode","aria-label":m?"Switch to light mode":"Switch to dark mode",children:m?s.jsx(fk,{className:"w-5 h-5"}):s.jsx(ok,{className:"w-5 h-5"})}),s.jsx("div",{className:"relative",children:s.jsx("select",{value:d,onChange:v=>{const y=v.target.value;f(y),wO(y)},className:`appearance-none pl-3 pr-8 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer transition-colors ${m?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,"aria-label":"Select language",children:h.map(v=>s.jsxs("option",{value:v.code,children:[v.flag," ",v.code.toUpperCase()]},v.code))})}),s.jsx("button",{onClick:()=>u(!c),className:`p-2 transition-colors ${m?"text-gray-300 hover:text-white":"text-gray-700 hover:text-gray-900"}`,"aria-label":"Toggle menu","aria-expanded":c,children:s.jsx($c,{className:"w-6 h-6"})})]})]})})}),c&&s.jsxs("div",{className:"fixed inset-0 z-50",children:[s.jsx("div",{className:"absolute inset-0",onClick:()=>u(!1),"aria-hidden":"true"}),s.jsx("div",{className:`absolute top-16 left-0 right-0 shadow-lg border-b transition-colors ${m?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:s.jsx("div",{className:"max-w-7xl mx-auto",children:a.map(v=>s.jsx("button",{onClick:()=>{t(`/${e}/menu/${v.id}`),u(!1)},className:`w-full text-left px-4 sm:px-6 lg:px-8 py-4 transition-colors border-b last:border-b-0 ${m?"text-gray-300 hover:bg-gray-700 border-gray-700":"text-gray-700 hover:bg-gray-50 border-gray-200"}`,children:s.jsx("span",{className:"text-lg",children:v.name})},v.id))})})]}),r&&s.jsx("div",{className:"relative overflow-hidden",style:{backgroundColor:r.hero_background_color},children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-24 lg:py-32",children:s.jsxs("div",{className:"text-center",children:[r.logo_url&&s.jsx("img",{src:r.logo_url,alt:`${r.name} logo`,className:"h-32 w-auto mx-auto drop-shadow-2xl"}),r.description_en&&s.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto mt-8",children:r.description_en})]})})}),s.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:o?s.jsx("div",{className:"space-y-4",children:Array.from({length:2}).map((v,y)=>s.jsx("div",{className:`rounded-xl shadow-sm overflow-hidden animate-pulse p-4 sm:p-6 ${m?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-24 h-24 sm:w-32 sm:h-32 rounded-lg flex-shrink-0 ${m?"bg-gray-700":"bg-gray-200"}`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:`h-8 rounded w-2/3 mb-2 ${m?"bg-gray-700":"bg-gray-200"}`}),s.jsx("div",{className:`h-4 rounded w-1/2 ${m?"bg-gray-700":"bg-gray-200"}`})]})]})},y))}):a.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:m?"text-gray-400":"text-gray-600",children:"No menus available yet."})}):s.jsx("div",{className:"space-y-4",children:a.map((v,y)=>{const b=Eie(v.color_palette);return s.jsx("button",{onClick:()=>t(`/${e}/menu/${v.id}`),className:"w-full rounded-xl shadow-sm hover:shadow-md transition-all overflow-hidden group",style:{backgroundColor:b.colors.background},"aria-label":`View ${v.name} menu`,children:s.jsxs("div",{className:"flex items-center gap-4 p-4 sm:p-6",children:[v.photo_url?s.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-lg overflow-hidden flex-shrink-0",children:s.jsx("img",{src:v.photo_url,alt:`${v.name} preview`,className:"w-full h-full object-cover",width:"128",height:"128",loading:y===0?void 0:"lazy",fetchPriority:y===0?"high":void 0})}):s.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-lg flex items-center justify-center flex-shrink-0",style:{backgroundColor:b.colors.secondary+"20"},role:"img","aria-label":"Menu placeholder image",children:s.jsx(ja,{className:"w-12 h-12",style:{color:b.colors.secondary}})}),s.jsx("div",{className:"flex-1 text-left min-w-0",children:s.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold group-hover:opacity-80 transition-opacity",style:{color:b.colors.text},children:v.name})}),s.jsx(Qf,{className:"w-8 h-8 group-hover:translate-x-1 transition-all flex-shrink-0",style:{color:b.colors.primary}})]})},v.id)})})}),r&&s.jsx(_O,{restaurantName:r.name,primaryColor:r.primary_color,secondaryColor:r.secondary_color,footerBgColor:r.footer_bg_color,footerTextPrimary:r.footer_text_primary,footerTextSecondary:r.footer_text_secondary,phone:r.phone,email:r.email,address:r.address,instagramUrl:r.instagram_url,facebookUrl:r.facebook_url,tiktokUrl:r.tiktok_url,linkedinUrl:r.linkedin_url,googleMapsUrl:r.google_maps_url,language:d})]})}function Lie(){return s.jsx(SO,{children:s.jsx(Die,{})})}const Uie=[{code:"en",name:"English",flag:""},{code:"fr",name:"Franais",flag:""},{code:"es",name:"Espaol",flag:""},{code:"ar",name:"",flag:""},{code:"ja",name:"",flag:""},{code:"de",name:"Deutsch",flag:""},{code:"it",name:"Italiano",flag:""},{code:"pt",name:"Portugus",flag:""},{code:"zh",name:"",flag:""},{code:"ko",name:"",flag:""}];function Fie(){const{slug:e,menuId:t}=Pi(),r=nt(),[n,a]=T.useState(null),[i,o]=T.useState(null),[l,c]=T.useState([]),[u,d]=T.useState([]),[f,h]=T.useState({}),[p,m]=T.useState(!0),[g,v]=T.useState(!0),[y,b]=T.useState(!1),[x,S]=T.useState(""),[j,w]=T.useState(()=>Yy()),[C,k]=T.useState([]),[N,M]=T.useState({}),[R,B]=T.useState({}),[U,$]=T.useState({}),[I,A]=T.useState(null),_=T.useRef(null);T.useEffect(()=>{e&&t&&P()},[e,t]),T.useEffect(()=>{document.documentElement.lang=j},[j]),T.useEffect(()=>{if(u.length>0){const Y=u[0],J=f[Y.id];if(J&&J.length>0){const Z=J[0];if(Z.photo_url){const X=document.createElement("link");X.rel="preload",X.as="image",X.href=Z.photo_url,document.head.appendChild(X)}}}},[u,f]),T.useEffect(()=>{const Y=()=>{const J=u.map(X=>({id:X.id,element:document.getElementById(`category-${X.id}`)})),Z=window.scrollY+200;for(let X=J.length-1;X>=0;X--){const{id:ne,element:te}=J[X];if(te&&te.offsetTop<=Z){S(ne);const L=document.querySelector(`button[data-category-id="${ne}"]`);if(L&&_.current){const V=_.current,q=L.getBoundingClientRect(),Q=V.getBoundingClientRect();(q.left<Q.left||q.right>Q.right)&&L.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}break}}};return window.addEventListener("scroll",Y),Y(),()=>window.removeEventListener("scroll",Y)},[u]);const P=async()=>{try{const{data:Y,error:J}=await ee.from("restaurants").select("*").eq("slug",e).maybeSingle();if(J||!Y){m(!1),v(!1);return}a(Y);const[Z,X]=await Promise.all([ee.from("menus").select("id, name").eq("restaurant_id",Y.id).eq("is_visible",!0).order("created_at",{ascending:!0}),ee.from("menus").select("id, name, photo_url").eq("id",t).eq("restaurant_id",Y.id).eq("is_visible",!0).maybeSingle()]);if(Z.data&&c(Z.data),!X.data){m(!1),v(!1);return}o(X.data),m(!1);const[ne,te]=await Promise.all([ee.from("menu_categories").select("*").eq("menu_id",X.data.id).order("display_order",{ascending:!0}),ee.from("menu_translations").select("language_code, name").eq("menu_id",X.data.id)]);if(ne.data&&ne.data.length>0){d(ne.data);const L=ne.data.map(q=>q.id),{data:V}=await ee.from("menu_items").select("*").in("category_id",L).eq("is_visible",!0).order("display_order",{ascending:!0});if(V){const q={};V.forEach(Q=>{q[Q.category_id]||(q[Q.category_id]=[]),q[Q.category_id].push(Q)}),h(q)}}if(te.data){const L=te.data.map(Q=>Q.language_code);k(L);const V={};te.data.forEach(Q=>{V[Q.language_code]=Q.name}),M(V);const q=Yy(L);w(q)}v(!1)}catch(Y){console.error("Error loading menu:",Y),m(!1),v(!1)}};T.useEffect(()=>{j!=="fr"&&u.length>0?O():(B({}),$({}))},[j,u]);const O=async()=>{const Y=u.map(ne=>ne.id),{data:J}=await ee.from("category_translations").select("category_id, language_code, name, description").eq("language_code",j).in("category_id",Y);if(J){const ne={};J.forEach(te=>{ne[te.category_id]={language_code:te.language_code,name:te.name,description:te.description}}),B(ne)}const X=Object.values(f).flat().map(ne=>ne.id);if(X.length>0){const{data:ne}=await ee.from("item_translations").select("item_id, language_code, name, description").eq("language_code",j).in("item_id",X);if(ne){const te={};ne.forEach(L=>{te[L.item_id]={language_code:L.language_code,name:L.name,description:L.description}}),$(te)}}},E=()=>j==="fr"||!N[j]?(i==null?void 0:i.name)||"":N[j],D=Y=>j==="fr"||!U[Y.id]?Y.name:U[Y.id].name,F=Y=>j==="fr"||!U[Y.id]?Y.description:U[Y.id].description,W=Y=>{const J=Y.toFixed(2);return(n==null?void 0:n.currency_position)==="right"?`${J}${n.currency_symbol}`:`${n==null?void 0:n.currency_symbol}${J}`};if(!p&&(!n||!i))return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Menu not found"}),s.jsx("p",{className:"text-gray-600",children:"The menu you're looking for doesn't exist."})]})});const{isDarkMode:z,toggleDarkMode:K}=NO();return n?s.jsxs("div",{className:`min-h-screen flex flex-col transition-colors ${z?"bg-gray-900":"bg-gray-50"}`,lang:j,children:[I&&s.jsx(xO,{imageUrl:I.url,altText:I.alt,onClose:()=>A(null)}),s.jsx("nav",{className:`shadow-sm sticky top-0 z-40 transition-colors ${z?"bg-gray-800":"bg-white"}`,children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{onClick:()=>r(`/${e}`),className:`flex items-center transition-colors ${z?"text-gray-300 hover:text-white":"text-gray-700 hover:text-gray-900"}`,"aria-label":"Back to restaurant page",children:s.jsx(Kf,{className:"w-5 h-5"})})}),s.jsx("h1",{className:`text-xl font-bold ${z?"text-white":"text-gray-900"}`,children:E()}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:K,className:`p-2 rounded-lg transition-colors ${z?"text-yellow-400 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,title:z?"Light Mode":"Dark Mode","aria-label":z?"Switch to light mode":"Switch to dark mode",children:z?s.jsx(fk,{className:"w-5 h-5"}):s.jsx(ok,{className:"w-5 h-5"})}),s.jsx("div",{className:"relative",children:s.jsxs("select",{value:j,onChange:Y=>{const J=Y.target.value;w(J),wO(J)},className:`appearance-none pl-3 pr-8 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer transition-colors ${z?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,"aria-label":"Select language",children:[s.jsx("option",{value:"fr",children:" FR"}),C.map(Y=>{const J=Uie.find(Z=>Z.code===Y);return s.jsxs("option",{value:Y,children:[J==null?void 0:J.flag," ",J==null?void 0:J.code.toUpperCase()]},Y)})]})}),s.jsx("button",{onClick:()=>b(!y),className:`p-2 transition-colors ${z?"text-gray-300 hover:text-white":"text-gray-700 hover:text-gray-900"}`,"aria-label":"Toggle menu","aria-expanded":y,children:s.jsx($c,{className:"w-6 h-6"})})]})]})})}),y&&s.jsxs("div",{className:"fixed inset-0 z-50",children:[s.jsx("div",{className:"absolute inset-0",onClick:()=>b(!1),"aria-hidden":"true"}),s.jsx("div",{className:`absolute top-16 left-0 right-0 shadow-lg border-b transition-colors ${z?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:s.jsx("div",{className:"max-w-7xl mx-auto",children:l.map(Y=>s.jsx("button",{onClick:()=>{r(`/${e}/menu/${Y.id}`),b(!1)},className:`w-full text-left px-4 sm:px-6 lg:px-8 py-4 transition-colors border-b last:border-b-0 ${Y.id===t?z?"bg-gray-700 text-white font-semibold":"bg-gray-100 text-gray-900 font-semibold":z?"text-gray-300 hover:bg-gray-700 border-gray-700":"text-gray-700 hover:bg-gray-50 border-gray-200"}`,children:s.jsx("span",{className:"text-lg",children:Y.name})},Y.id))})})]}),(i==null?void 0:i.photo_url)&&s.jsx("div",{className:"relative h-64 sm:h-80 lg:h-96 overflow-hidden",children:s.jsx("img",{src:i.photo_url,alt:E(),className:"w-full h-full object-cover"})}),u.length>0&&s.jsx("div",{className:`sticky top-16 z-30 shadow-sm transition-colors ${z?"bg-gray-800 border-b border-gray-700":"bg-white border-b border-gray-200"}`,children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{ref:_,className:"flex gap-6 overflow-x-auto py-4 scrollbar-hide",children:u.map(Y=>{var Z;const J=x===Y.id;return s.jsx("button",{"data-category-id":Y.id,onClick:()=>{const X=document.getElementById(`category-${Y.id}`);if(X){const te=X.getBoundingClientRect().top+window.pageYOffset+-140;window.scrollTo({top:te,behavior:"smooth"})}},className:`whitespace-nowrap text-base font-medium transition-all pb-1 border-b-2 ${J?"border-current":"border-transparent"} hover:opacity-80`,style:{color:J?n.primary_color:z?"#9ca3af":"#6b7280"},children:((Z=R[Y.id])==null?void 0:Z.name)||Y.name},Y.id)})})})}),s.jsx("div",{className:"flex-1 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",style:{minHeight:"600px"},children:u.length===0&&!g?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:z?"text-gray-400":"text-gray-600",children:"No menu items available yet."})}):s.jsx("div",{className:"space-y-12",children:u.map(Y=>s.jsxs("div",{id:`category-${Y.id}`,children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:`text-3xl font-bold mb-2 ${z?"text-white":"text-gray-900"}`,children:Y.name}),Y.description&&s.jsx("p",{className:z?"text-gray-400":"text-gray-600",children:Y.description})]}),s.jsx("div",{className:"space-y-4",children:g?Array.from({length:3}).map((J,Z)=>s.jsxs("div",{className:`rounded-xl shadow-sm overflow-hidden animate-pulse flex gap-4 p-4 ${z?"bg-gray-800":"bg-white"}`,children:[s.jsx("div",{className:`w-32 h-32 rounded-lg flex-shrink-0 ${z?"bg-gray-700":"bg-gray-200"}`}),s.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:`h-6 rounded w-3/4 ${z?"bg-gray-700":"bg-gray-200"}`}),s.jsx("div",{className:`h-4 rounded w-full mt-2 ${z?"bg-gray-700":"bg-gray-200"}`}),s.jsx("div",{className:`h-4 rounded w-2/3 mt-2 ${z?"bg-gray-700":"bg-gray-200"}`})]}),s.jsx("div",{className:`h-6 w-20 rounded ${z?"bg-gray-700":"bg-gray-200"}`})]})]},Z)):f[Y.id]&&f[Y.id].length>0?f[Y.id].map((J,Z)=>s.jsxs("div",{className:`rounded-xl shadow-sm hover:shadow-md transition-all overflow-hidden flex gap-4 p-4 ${z?"bg-gray-800":"bg-white"}`,children:[J.photo_url&&s.jsx("img",{src:J.photo_url,alt:`${D(J)} photo`,className:"w-32 h-32 object-cover rounded-lg flex-shrink-0 cursor-pointer hover:opacity-80 transition-opacity",width:"128",height:"128",loading:Y.display_order===0&&Z===0?void 0:"lazy",fetchPriority:Y.display_order===0&&Z===0?"high":void 0,onClick:()=>{A({url:J.photo_url,alt:D(J)})}}),s.jsxs("div",{className:"flex-1 flex flex-col justify-between min-w-0",children:[s.jsxs("div",{children:[s.jsx("h3",{className:`text-xl font-semibold mb-2 ${z?"text-white":"text-gray-900"}`,children:D(J)}),F(J)&&s.jsx("p",{className:`text-sm leading-relaxed ${z?"text-gray-400":"text-gray-600"}`,children:F(J)})]}),s.jsx("div",{className:"mt-3",children:s.jsx("span",{className:"text-lg font-bold",style:{color:n.primary_color},children:W(J.price)})})]})]},J.id)):s.jsx("p",{className:"text-center py-6 text-gray-500",children:"No items in this category yet."})})]},Y.id))})}),n&&s.jsx(_O,{restaurantName:n.name,primaryColor:n.primary_color,secondaryColor:n.secondary_color,footerBgColor:n.footer_bg_color,footerTextPrimary:n.footer_text_primary,footerTextSecondary:n.footer_text_secondary,phone:n.phone,email:n.email,address:n.address,instagramUrl:n.instagram_url,facebookUrl:n.facebook_url,tiktokUrl:n.tiktok_url,linkedinUrl:n.linkedin_url,googleMapsUrl:n.google_maps_url,language:j})]}):null}function Bie(){return s.jsx(SO,{children:s.jsx(Fie,{})})}function zie({product:e}){const[t,r]=T.useState(!1),[n,a]=T.useState(!1),[i,o]=T.useState(!0),{user:l}=ze(),{t:c}=qt(),u=nt();T.useEffect(()=>{d()},[l]);const d=async()=>{if(!l){o(!1);return}try{const{data:p}=await ee.from("stripe_customers").select("customer_id").eq("user_id",l.id).maybeSingle();if(!p){a(!1),o(!1);return}const{data:m}=await ee.from("stripe_subscriptions").select("status").eq("customer_id",p.customer_id).maybeSingle();m&&(m.status==="active"||m.status==="trialing")&&a(!0)}catch(p){console.error("Error checking subscription:",p)}finally{o(!1)}},f=async()=>{if(!l){u("/signup");return}if(n){alert(c.subscription.alreadyActiveAlert);return}r(!0);try{const p=`${window.location.origin}/success`,m=`${window.location.origin}/dashboard/abonnement`;await hM({priceId:e.priceId,mode:e.mode,successUrl:p,cancelUrl:m})}catch(p){console.error("Error creating checkout session:",p),alert("Failed to create checkout session. Please try again.")}finally{r(!1)}},h=(p,m)=>`${m==="eur"?"":"$"}${p.toFixed(2)}`;return s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border-2 border-gray-200 overflow-hidden transform hover:scale-[1.02] transition-all duration-300",children:[s.jsxs("div",{className:"bg-gradient-to-br from-[#092033] to-[#0d2d47] px-8 py-8 text-center",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:e.name}),s.jsx("p",{className:"text-gray-300 text-base",children:e.description})]}),s.jsxs("div",{className:"px-8 py-8",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsxs("div",{className:"flex items-baseline justify-center",children:[s.jsx("span",{className:"text-5xl font-bold text-[#092033]",children:h(e.price,e.currency)}),e.mode==="subscription"&&s.jsx("span",{className:"text-gray-500 ml-2 text-lg",children:c.subscription.perMonth})]})}),s.jsxs("div",{className:"space-y-4 mb-8",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-green-100 flex items-center justify-center mt-0.5",children:s.jsx(Yr,{className:"h-4 w-4 text-green-600"})}),s.jsx("span",{className:"ml-3 text-base text-gray-700",children:c.subscription.aiPoweredManagement})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-green-100 flex items-center justify-center mt-0.5",children:s.jsx(Yr,{className:"h-4 w-4 text-green-600"})}),s.jsx("span",{className:"ml-3 text-base text-gray-700",children:c.subscription.automaticTranslations})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-green-100 flex items-center justify-center mt-0.5",children:s.jsx(Yr,{className:"h-4 w-4 text-green-600"})}),s.jsx("span",{className:"ml-3 text-base text-gray-700",children:c.subscription.smartRecommendations})]})]}),s.jsx("button",{onClick:f,disabled:t||i||n,className:"w-full bg-[#092033] text-white py-4 px-6 rounded-xl font-semibold text-lg hover:bg-[#0d2d47] active:bg-[#061620] focus:outline-none focus:ring-4 focus:ring-[#092033]/20 disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:i?c.subscription.checking:n?c.subscription.alreadySubscribed:t?c.subscription.processing:c.subscription.subscribeNow}),n&&s.jsx("p",{className:"mt-4 text-center text-sm text-gray-600",children:c.subscription.alreadyHaveSubscription})]})]})}function qie(){const{user:e,effectiveUserId:t}=ze(),{t:r}=qt(),[n]=J0(),a=nt(),i=n.get("new_user")==="true",[o,l]=T.useState(!1),[c,u]=T.useState(!0);T.useEffect(()=>{d()},[e,t]);const d=async()=>{if(!e){u(!1);return}try{const h=t||e.id,{data:p}=await ee.from("stripe_subscriptions").select("status").eq("user_id",h).maybeSingle(),m=p&&(p.status==="active"||p.status==="trialing");l(m||!1),m&&i&&a("/dashboard")}catch(h){console.error("Error checking subscription:",h)}finally{u(!1)}},f=i&&!o&&!c;return s.jsx(_t,{hideSidebar:f,children:s.jsx("div",{className:"min-h-[calc(100vh-8rem)] flex items-center justify-center py-8",children:s.jsxs("div",{className:"w-full max-w-6xl mx-auto",children:[i&&e&&s.jsx("div",{className:"mb-10 bg-gradient-to-r from-green-50 to-emerald-50 border-l-4 border-green-500 rounded-lg p-6 shadow-sm",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(iv,{className:"h-7 w-7 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-xl font-bold text-green-900",children:r.subscription.accountCreated}),s.jsx("p",{className:"mt-2 text-base text-green-700 leading-relaxed",children:r.subscription.welcomeMessage})]})]})}),s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl sm:text-5xl font-bold text-[#092033] mb-4",children:i&&e?r.subscription.completeSetup:r.subscription.subscriptionPlans}),s.jsx("p",{className:"mt-4 text-lg sm:text-xl text-gray-600 max-w-2xl mx-auto",children:i&&e?r.subscription.subscribeUnlock:r.subscription.selectPlan})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-full max-w-lg",children:yk.map(h=>s.jsx(zie,{product:h},h.id))})})]})})})}function Wie(){const e=nt(),[t]=J0(),{user:r,effectiveUserId:n}=ze(),[a,i]=T.useState(5),[o,l]=T.useState(!0),[c,u]=T.useState(!1);T.useEffect(()=>{const h=t.get("session_id");if(!h){e("/dashboard/abonnement");return}if(!r){const p=setTimeout(()=>{e(`/signup?session_id=${h}`)},3e3);return()=>clearTimeout(p)}d()},[r,e,t]);const d=async()=>{if(!r)return;let h=0;const p=15,g=setInterval(async()=>{h++,console.log(`Checking subscription attempt ${h}/${p}`);try{const{data:v,error:y}=await ee.from("stripe_customers").select("customer_id").eq("user_id",n||r.id).maybeSingle();if(console.log("Customer data:",v,"Error:",y),!v){h>=p&&(console.log("Max attempts reached, no customer found - redirecting to dashboard anyway"),clearInterval(g),l(!1),u(!0),f());return}const{data:b,error:x}=await ee.from("stripe_subscriptions").select("status").eq("customer_id",v.customer_id).maybeSingle();console.log("Subscription data:",b,"Error:",x),b&&(b.status==="active"||b.status==="trialing")?(console.log("Subscription confirmed as active!"),clearInterval(g),u(!0),l(!1),f()):h>=p&&(console.log("Max attempts reached, subscription not confirmed yet - redirecting to dashboard anyway"),clearInterval(g),l(!1),u(!0),f())}catch(v){console.error("Error checking subscription:",v),h>=p&&(clearInterval(g),l(!1),u(!0),f())}},2e3);return()=>clearInterval(g)},f=()=>{const h=setInterval(()=>{i(p=>p<=1?(clearInterval(h),e("/dashboard"),0):p-1)},1e3)};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"max-w-md w-full space-y-8 text-center",children:s.jsx("div",{children:o?s.jsxs(s.Fragment,{children:[s.jsx(Dl,{className:"mx-auto h-16 w-16 text-blue-600 animate-spin"}),s.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Processing Payment..."}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Please wait while we confirm your subscription."})]}):s.jsxs(s.Fragment,{children:[s.jsx(iv,{className:"mx-auto h-16 w-16 text-green-500"}),s.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Payment Successful!"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Thank you for your purchase. Your subscription is now active."}),s.jsx("p",{className:"mt-4 text-sm text-gray-500",children:r?`Redirecting to dashboard in ${a} seconds...`:"Redirecting to create your account..."})]})})})})}function Hie(){const[e]=J0(),[t,r]=T.useState(""),[n,a]=T.useState(""),[i,o]=T.useState(""),[l,c]=T.useState(""),[u,d]=T.useState(""),[f,h]=T.useState(!1),[p,m]=T.useState(null),g=nt(),v=e.get("session_id"),y=async b=>{if(b.preventDefault(),h(!0),m(null),!t.trim()){m("Full name is required"),h(!1);return}if(l!==u){m("Passwords do not match"),h(!1);return}if(l.length<6){m("Password must be at least 6 characters long"),h(!1);return}try{const{data:x,error:S}=await ee.auth.signUp({email:i,password:l,options:{data:{full_name:t,phone:n||null},emailRedirectTo:void 0}});if(S){m(S.message),h(!1);return}if(x.user){const{error:j}=await ee.from("user_profiles").upsert({id:x.user.id,full_name:t,phone:n||null,source:"website"},{onConflict:"id"});j&&console.error("Error updating user profile:",j)}g("/dashboard/abonnement?new_user=true")}catch{m("An unexpected error occurred")}finally{h(!1)}};return s.jsx(av,{title:"Create your account",subtitle:v?"Complete your registration to access your subscription":"Create an account to start managing your menus",children:s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[p&&s.jsx("div",{className:"p-4 bg-red-50 border-l-4 border-red-500 rounded-r-lg",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsx("p",{className:"ml-3 text-sm text-red-700",children:p})]})}),s.jsx(Pr,{id:"full-name",name:"name",type:"text",label:"Full Name",value:t,onChange:b=>r(b.target.value),required:!0,icon:th,autoComplete:"name"}),s.jsx(Pr,{id:"phone",name:"phone",type:"tel",label:"Phone Number",value:n,onChange:b=>a(b.target.value),icon:Co,autoComplete:"tel"}),s.jsx(Pr,{id:"email-address",name:"email",type:"email",label:"Email address",value:i,onChange:b=>o(b.target.value),required:!0,icon:Tc,autoComplete:"email"}),s.jsx(Pr,{id:"password",name:"password",type:"password",label:"Password",value:l,onChange:b=>c(b.target.value),required:!0,icon:Ll,autoComplete:"new-password"}),s.jsx(Pr,{id:"confirm-password",name:"confirmPassword",type:"password",label:"Confirm Password",value:u,onChange:b=>d(b.target.value),required:!0,icon:Ll,autoComplete:"new-password"}),l.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-600",children:"Password strength:"}),s.jsx("span",{className:`font-medium ${l.length<6?"text-red-600":l.length<10?"text-orange-600":"text-green-600"}`,children:l.length<6?"Weak":l.length<10?"Medium":"Strong"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:s.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${l.length<6?"w-1/3 bg-red-500":l.length<10?"w-2/3 bg-orange-500":"w-full bg-green-500"}`})})]}),s.jsxs("div",{className:"flex items-start space-x-2 pt-2",children:[s.jsx("input",{id:"terms",type:"checkbox",required:!0,className:"w-4 h-4 mt-1 rounded border-gray-300 text-[#092033] focus:ring-[#092033] focus:ring-offset-0 cursor-pointer"}),s.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-600 cursor-pointer",children:["I agree to the"," ",s.jsx("a",{href:"#",className:"text-[#092033] hover:underline font-medium",children:"Terms of Service"})," ","and"," ",s.jsx("a",{href:"#",className:"text-[#092033] hover:underline font-medium",children:"Privacy Policy"})]})]}),s.jsx(cv,{type:"submit",variant:"primary",loading:f,children:f?"Creating account...":"Create account"}),!v&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-4 bg-white text-gray-500",children:"Already have an account?"})})]}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Sign in to your account"," ",s.jsx(xn,{to:"/login",className:"text-[#092033] hover:underline font-semibold transition-colors",children:"Sign in"})]})})]})]})})}function Vie(){return s.jsx(Hie,{})}function Bt({children:e}){const t=Rr(),r=nt(),{signOut:n}=ze(),[a,i]=T.useState(!1),[o,l]=T.useState(!1),c=async()=>{await n(),r("/login")},u=[{label:"Dashboard",icon:xg,href:"/admin"},{label:"Clients",icon:Jr,href:"/admin/clients"},{label:"Resellers",icon:pk,href:"/admin/resellers"},{label:"Admins",icon:dk,href:"/admin/admins"},{label:"Subscriptions",icon:ll,href:"/admin/subscriptions"}];return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>l(!1)}),s.jsx("aside",{className:`fixed left-0 top-0 h-screen bg-white border-r border-gray-200 transition-all duration-300 z-50 lg:z-30 ${a?"w-20":"w-64"} ${o?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:`flex items-center p-4 border-b border-gray-200 ${a?"justify-center":"justify-between"}`,children:[s.jsx("img",{src:a?"https://pub-237d2da54b564d23aaa1c3826e1d4e65.r2.dev/Aimenu/Logo_icon.svg":"https://pub-237d2da54b564d23aaa1c3826e1d4e65.r2.dev/Aimenu/Aimenu.svg",alt:"Aimenu",className:`transition-all ${a?"h-8 w-8":"h-8"}`}),!a&&s.jsx("button",{onClick:()=>l(!1),className:"lg:hidden p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",children:s.jsx(_n,{className:"w-5 h-5"})})]}),s.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:s.jsxs("div",{className:"mb-6",children:[!a&&s.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Administration"}),s.jsx("ul",{className:"space-y-1",children:u.map((d,f)=>{const h=t.pathname===d.href;return s.jsx("li",{children:s.jsxs(xn,{to:d.href,onClick:()=>l(!1),className:`flex items-center gap-3 px-4 py-2.5 transition-colors ${h?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"} ${a?"justify-center":""}`,title:a?d.label:void 0,children:[s.jsx(d.icon,{className:"w-5 h-5 flex-shrink-0"}),!a&&s.jsx("span",{className:"text-sm font-medium",children:d.label})]})},f)})})]})}),s.jsxs("div",{className:"border-t border-gray-200",children:[s.jsxs("button",{onClick:c,className:`w-full flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-gray-50 transition-colors ${a?"justify-center":""}`,title:a?"Sign Out":void 0,children:[s.jsx(sv,{className:"w-5 h-5 flex-shrink-0"}),!a&&s.jsx("span",{className:"text-sm font-medium",children:"Sign Out"})]}),s.jsx("div",{className:"p-4",children:s.jsx("button",{onClick:()=>i(!a),className:"hidden lg:flex items-center justify-center w-full p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:a?"Expand sidebar":"Collapse sidebar",children:a?s.jsx(Qf,{className:"w-5 h-5"}):s.jsx(ov,{className:"w-5 h-5"})})})]})]})}),s.jsxs("div",{className:`transition-all duration-300 ${a?"lg:ml-20":"lg:ml-64"}`,children:[s.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-20",children:s.jsxs("div",{className:"px-4 sm:px-6 h-16 flex items-center justify-between",children:[s.jsx("button",{onClick:()=>l(!0),className:"lg:hidden p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",children:s.jsx($c,{className:"w-6 h-6"})}),s.jsx("img",{src:"https://pub-237d2da54b564d23aaa1c3826e1d4e65.r2.dev/Aimenu/Aimenu.svg",alt:"Aimenu",className:"h-8 lg:hidden"}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsx("span",{className:"text-sm text-gray-600 hidden sm:block",children:"Admin Panel"})})]})}),s.jsx("main",{className:"min-h-[calc(100vh-4rem)]",children:e})]})]})}function Gie(){const{user:e}=ze(),t=nt(),[r,n]=T.useState(null),[a,i]=T.useState({totalClients:0,totalResellers:0,totalRestaurants:0,totalMenus:0}),[o,l]=T.useState(!0),[c,u]=T.useState(!1),[d,f]=T.useState(null);T.useEffect(()=>{if(e!=null&&e.id){p();const m=setInterval(()=>{p()},3e4);return()=>clearInterval(m)}},[e]);const h=async()=>{u(!0),await p(),u(!1)},p=async()=>{try{const[m,g,v,y]=await Promise.all([ee.rpc("get_admin_financial_overview"),ee.rpc("get_all_user_profiles"),ee.rpc("get_all_restaurants"),ee.rpc("get_admin_all_menus")]);if(console.log("Financial data:",m),console.log("Profiles data:",g),console.log("Restaurants data:",v),console.log("Menus data:",y),m.error&&(console.error("Financial overview error:",m.error),n({total_revenue:0,total_commissions:0,pending_commissions:0,paid_commissions:0,net_benefit:0,currency:"eur"})),m.data){console.log("Setting financial overview:",m.data);const b=Number(m.data.total_revenue)||0,x=Number(m.data.total_commissions)||0,S=Number(m.data.pending_commissions)||0,j=Number(m.data.paid_commissions)||0,w=Number(m.data.net_benefit)||0;n({total_revenue:b/100,total_commissions:x/100,pending_commissions:S/100,paid_commissions:j/100,net_benefit:w/100,currency:m.data.currency||"eur"})}else console.log("No financial data"),n({total_revenue:0,total_commissions:0,pending_commissions:0,paid_commissions:0,net_benefit:0,currency:"eur"});if(g.data){const b=g.data.filter(S=>S.role==="client"),x=g.data.filter(S=>S.role==="reseller");i(S=>({...S,totalClients:b.length,totalResellers:x.length}))}v.data&&i(b=>({...b,totalRestaurants:v.data.length})),y.data!==null&&y.data!==void 0&&i(b=>({...b,totalMenus:Number(y.data)}))}catch(m){console.error("Error fetching data:",m)}finally{l(!1),f(new Date)}};return o?s.jsx(Bt,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"text-lg text-gray-600",children:"Loading..."})})}):s.jsx(Bt,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Overview of platform metrics and finances"})]}),s.jsxs("button",{onClick:h,disabled:c,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(lk,{className:`w-4 h-4 ${c?"animate-spin":""}`}),c?"Refreshing...":"Refresh Data"]})]}),d&&s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Last updated: ",d.toLocaleTimeString()," (Auto-refreshes every 30s)"]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Financial Overview"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Revenue"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[(r==null?void 0:r.currency)==="eur"?"":"$",(r==null?void 0:r.total_revenue.toFixed(2))||"0.00"]})]}),s.jsx(Il,{className:"w-12 h-12 text-green-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Pending Commissions"}),s.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[(r==null?void 0:r.currency)==="eur"?"":"$",(r==null?void 0:r.pending_commissions.toFixed(2))||"0.00"]})]}),s.jsx(lv,{className:"w-12 h-12 text-orange-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Paid Out"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[(r==null?void 0:r.currency)==="eur"?"":"$",(r==null?void 0:r.paid_commissions.toFixed(2))||"0.00"]})]}),s.jsx(ri,{className:"w-12 h-12 text-blue-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Net Benefit"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(r==null?void 0:r.currency)==="eur"?"":"$",(r==null?void 0:r.net_benefit.toFixed(2))||"0.00"]})]}),s.jsx(Il,{className:"w-12 h-12 text-gray-500"})]})})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Platform Statistics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("button",{onClick:()=>t("/admin/clients"),className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow text-left",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Clients"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:a.totalClients})]}),s.jsx(Jr,{className:"w-12 h-12 text-blue-500"})]})}),s.jsx("button",{onClick:()=>t("/admin/resellers"),className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow text-left",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Resellers"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:a.totalResellers})]}),s.jsx(Jr,{className:"w-12 h-12 text-green-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Restaurants"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:a.totalRestaurants})]}),s.jsx(Jr,{className:"w-12 h-12 text-orange-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Menus"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:a.totalMenus})]}),s.jsx(Jr,{className:"w-12 h-12 text-purple-500"})]})})]})]})]})})}function Kie(){const{user:e}=ze(),t=nt(),[r,n]=T.useState([]),[a,i]=T.useState([]),[o,l]=T.useState([]),[c,u]=T.useState(!0),[d,f]=T.useState(""),[h,p]=T.useState("all"),[m,g]=T.useState("all"),[v,y]=T.useState(1),[b,x]=T.useState(20),[S,j]=T.useState(""),[w,C]=T.useState(""),[k,N]=T.useState(new Set),[M,R]=T.useState(null),[B,U]=T.useState(""),[$,I]=T.useState(""),[A,_]=T.useState("");T.useEffect(()=>{e!=null&&e.id&&P()},[e]);const P=async()=>{try{const[L,V]=await Promise.all([ee.rpc("get_all_user_profiles"),ee.rpc("get_all_stripe_subscriptions")]);if(L.data){i(L.data);const q=L.data.filter(Q=>Q.role==="client");n(q)}V.data&&l(V.data)}catch(L){console.error("Error fetching data:",L)}finally{u(!1)}},O=L=>{const V=o.find(ae=>ae.user_id===L);if(!V)return"N/A";const q=39900,Q=V.discount_amount||0;return`${((q-Q)/100).toFixed(2)}`},E=L=>{if(!L)return"N/A";const V=a.find(q=>q.id===L&&q.role==="reseller");return(V==null?void 0:V.full_name)||"Unknown"},D=(L,V)=>L==="website"?s.jsx("span",{className:"inline-flex items-center px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-xs sm:text-sm font-medium bg-blue-100 text-blue-800",children:"Website"}):L==="reseller"?s.jsx("span",{className:"inline-flex items-center px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-xs sm:text-sm font-medium bg-green-100 text-green-800",children:"Reseller"}):L==="admin"?s.jsx("span",{className:"inline-flex items-center px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-xs sm:text-sm font-medium bg-purple-100 text-purple-800",children:"Admin"}):null,F=L=>{const V=o.find(Q=>Q.user_id===L);if(!V||!V.subscription_status)return s.jsx("span",{className:"inline-flex items-center px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-xs sm:text-sm font-medium bg-gray-100 text-gray-800",children:"No Subscription"});const q=V.subscription_status;return q==="active"?s.jsxs("div",{children:[s.jsx("span",{className:"inline-flex items-center px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-xs sm:text-sm font-medium bg-green-100 text-green-800",children:"Active"}),V.cancel_at_period_end&&s.jsx("span",{className:"ml-2 text-xs text-orange-600",children:"(Canceling)"})]}):q==="past_due"?s.jsx("span",{className:"inline-flex items-center px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-xs sm:text-sm font-medium bg-orange-100 text-orange-800",children:"Past Due"}):q==="canceled"?s.jsx("span",{className:"inline-flex items-center px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-xs sm:text-sm font-medium bg-red-100 text-red-800",children:"Canceled"}):q==="unpaid"?s.jsx("span",{className:"inline-flex items-center px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-xs sm:text-sm font-medium bg-red-100 text-red-800",children:"Unpaid"}):s.jsx("span",{className:"inline-flex items-center px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-xs sm:text-sm font-medium bg-gray-100 text-gray-800",children:q})},W=async(L,V)=>{try{const{error:q}=await ee.rpc("toggle_user_status",{target_user_id:L,disable:!V});if(q)throw q;await P()}catch(q){console.error("Error toggling user status:",q),alert("Failed to toggle user status")}},z=async L=>{if(confirm("Are you sure you want to delete this user? This action cannot be undone."))try{const{data:{session:V}}=await ee.auth.getSession();if(!V)throw new Error("No session");const q=await fetch("undefined/functions/v1/delete-user",{method:"POST",headers:{Authorization:`Bearer ${V.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({user_id:L})}),Q=await q.json();if(!q.ok)throw new Error(Q.error||"Failed to delete user");await P()}catch(V){console.error("Error deleting user:",V),alert(V.message||"Failed to delete user")}},K=async(L,V)=>{try{const{error:q}=await ee.rpc("update_user_email",{target_user_id:L,new_email:V});if(q)throw q;R(null),await P()}catch(q){console.error("Error updating email:",q),alert("Failed to update email")}},Y=async()=>{if(M)try{await K(M.id,B);const{error:L}=await ee.from("user_profiles").update({full_name:$,phone:A||null}).eq("id",M.id);if(L)throw L;R(null),await P()}catch(L){console.error("Error updating user:",L),alert("Failed to update user information")}},J=L=>{const V=new Set(k);V.has(L)?V.delete(L):V.add(L),N(V)},Z=()=>{k.size===X.length?N(new Set):N(new Set(X.map(L=>L.id)))},X=r.filter(L=>{const V=L.full_name.toLowerCase().includes(d.toLowerCase())||L.email.toLowerCase().includes(d.toLowerCase())||L.phone&&L.phone.includes(d),q=h==="all"||L.source===h,Q=o.find(se=>se.user_id===L.id),H=m==="all"||m==="paid"&&(Q==null?void 0:Q.subscription_status)==="active"||m==="unpaid"&&(Q==null?void 0:Q.subscription_status)==="unpaid"||m==="past_due"&&(Q==null?void 0:Q.subscription_status)==="past_due"||m==="no_subscription"&&(!Q||!Q.subscription_status)||m==="canceled"&&(Q==null?void 0:Q.subscription_status)==="canceled",ae=!S||!w||new Date(L.created_at)>=new Date(S)&&new Date(L.created_at)<=new Date(w);return V&&q&&H&&ae}),ne=X.slice((v-1)*b,v*b),te=Math.ceil(X.length/b);return c?s.jsx(Bt,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"text-lg text-gray-600",children:"Loading..."})})}):s.jsx(Bt,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Clients Management"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage all client accounts and subscriptions"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 mb-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(eh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search clients...",value:d,onChange:L=>f(L.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:h,onChange:L=>p(L.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Sources"}),s.jsx("option",{value:"website",children:"Website"}),s.jsx("option",{value:"reseller",children:"Reseller"}),s.jsx("option",{value:"admin",children:"Admin"})]}),s.jsxs("select",{value:m,onChange:L=>g(L.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Payments"}),s.jsx("option",{value:"paid",children:"Active"}),s.jsx("option",{value:"unpaid",children:"Unpaid"}),s.jsx("option",{value:"past_due",children:"Past Due"}),s.jsx("option",{value:"no_subscription",children:"No Subscription"}),s.jsx("option",{value:"canceled",children:"Canceled"})]}),s.jsxs("select",{value:b,onChange:L=>{x(Number(L.target.value)),y(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:10,children:"10 per page"}),s.jsx("option",{value:20,children:"20 per page"}),s.jsx("option",{value:50,children:"50 per page"}),s.jsx("option",{value:100,children:"100 per page"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[s.jsx("input",{type:"date",value:S,onChange:L=>j(L.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Start Date"}),s.jsx("input",{type:"date",value:w,onChange:L=>C(L.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"End Date"})]}),s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mt-4",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",ne.length," of ",X.length," clients",k.size>0&&` (${k.size} selected)`]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:s.jsxs("table",{className:"w-full min-w-max",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left",children:s.jsx("input",{type:"checkbox",checked:k.size===X.length&&X.length>0,onChange:Z,className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"})}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"User"}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Source"}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Payment Status"}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Montant"}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Menus"}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Joined"}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ne.map(L=>{var V;return s.jsxs("tr",{onClick:()=>t(`/admin/client/${L.id}`),className:"hover:bg-gray-50 cursor-pointer",children:[s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",onClick:q=>q.stopPropagation(),children:s.jsx("input",{type:"checkbox",checked:k.has(L.id),onChange:()=>J(L.id),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"})}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm sm:text-base font-medium text-gray-900",children:L.full_name}),s.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:L.email})]})}),s.jsxs("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:[D(L.source,L.reseller_id),L.source==="reseller"&&L.reseller_id&&s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:E(L.reseller_id)})]}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:F(L.id)}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:O(L.id)})}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-gray-900",children:((V=L.restaurant_names)==null?void 0:V.length)||0})}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-gray-500",children:new Date(L.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-sm",onClick:q=>q.stopPropagation(),children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsx("button",{onClick:()=>t(`/admin/client/${L.id}`),className:"text-blue-600 hover:text-blue-900 flex items-center gap-1",children:s.jsx(Ec,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{R(L),U(L.email),I(L.full_name),_(L.phone||"")},className:"text-blue-600 hover:text-blue-900 flex items-center gap-1",children:s.jsx(Zf,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>W(L.id,L.is_disabled||!1),className:`${L.is_disabled?"text-green-600 hover:text-green-900":"text-orange-600 hover:text-orange-900"} flex items-center gap-1`,children:L.is_disabled?s.jsx(hk,{className:"w-4 h-4"}):s.jsx(gk,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>z(L.id),className:"text-red-600 hover:text-red-900 flex items-center gap-1",children:s.jsx(Ul,{className:"w-4 h-4"})})]})})]},L.id)})})]})}),te>1&&s.jsx("div",{className:"px-4 sm:px-6 py-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("button",{onClick:()=>y(L=>Math.max(1,L-1)),disabled:v===1,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",v," of ",te]}),s.jsx("button",{onClick:()=>y(L=>Math.min(te,L+1)),disabled:v===te,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]}),M&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Edit User"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),s.jsx("input",{type:"text",value:$,onChange:L=>I(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:B,onChange:L=>U(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),s.jsx("input",{type:"tel",value:A,onChange:L=>_(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx("button",{onClick:()=>R(null),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),s.jsx("button",{onClick:Y,className:"px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Save Changes"})]})]})})]})})}function Qie(){const{user:e}=ze(),t=nt(),[r,n]=T.useState([]),[a,i]=T.useState(new Map),[o,l]=T.useState(!0),[c,u]=T.useState(""),[d,f]=T.useState(1),[h,p]=T.useState(20),[m,g]=T.useState(new Set),[v,y]=T.useState(null),[b,x]=T.useState(""),[S,j]=T.useState(""),[w,C]=T.useState("");T.useEffect(()=>{e!=null&&e.id&&k()},[e]);const k=async()=>{try{const A=await ee.rpc("get_all_user_profiles");if(A.data){const _=A.data.filter(E=>E.role==="reseller");n(_);const{data:P}=await ee.from("reseller_earnings_summary").select("*"),O=new Map;_.forEach(E=>{const D=(P||[]).find(F=>F.reseller_id===E.id);D?O.set(E.id,{total_earnings:(Number(D.total_commissions)||0)/100,pending_earnings:(Number(D.pending_commissions)||0)/100,paid_out:(Number(D.paid_out)||0)/100}):O.set(E.id,{total_earnings:0,pending_earnings:0,paid_out:0})}),i(O)}}catch(A){console.error("Error fetching data:",A)}finally{l(!1)}},N=async(A,_)=>{try{const{error:P}=await ee.rpc("update_user_email",{target_user_id:A,new_email:_});if(P)throw P;y(null),await k()}catch(P){console.error("Error updating email:",P),alert("Failed to update email")}},M=async()=>{if(v)try{await N(v.id,b);const{error:A}=await ee.from("user_profiles").update({full_name:S,phone:w||null}).eq("id",v.id);if(A)throw A;y(null),await k()}catch(A){console.error("Error updating user:",A),alert("Failed to update user information")}},R=A=>{const _=new Set(m);_.has(A)?_.delete(A):_.add(A),g(_)},B=()=>{m.size===U.length?g(new Set):g(new Set(U.map(A=>A.id)))},U=r.filter(A=>A.full_name.toLowerCase().includes(c.toLowerCase())||A.email.toLowerCase().includes(c.toLowerCase())||A.phone&&A.phone.includes(c)),$=U.slice((d-1)*h,d*h),I=Math.ceil(U.length/h);return o?s.jsx(Bt,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"text-lg text-gray-600",children:"Loading..."})})}):s.jsx(Bt,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Resellers Management"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage reseller accounts and earnings"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 mb-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(eh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search resellers...",value:c,onChange:A=>u(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:h,onChange:A=>{p(Number(A.target.value)),f(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:10,children:"10 per page"}),s.jsx("option",{value:20,children:"20 per page"}),s.jsx("option",{value:50,children:"50 per page"}),s.jsx("option",{value:100,children:"100 per page"})]})]}),s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mt-4",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",$.length," of ",U.length," resellers",m.size>0&&` (${m.size} selected)`]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:s.jsxs("table",{className:"w-full min-w-max",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left",children:s.jsx("input",{type:"checkbox",checked:m.size===U.length&&U.length>0,onChange:B,className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"})}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"User"}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Email"}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Total Earnings"}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Pending Earnings"}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Paid Out"}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Status"}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Joined"}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:$.map(A=>{var _,P,O;return s.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>t(`/admin/reseller/${A.id}`),children:[s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",onClick:E=>E.stopPropagation(),children:s.jsx("input",{type:"checkbox",checked:m.has(A.id),onChange:()=>R(A.id),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"})}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm sm:text-base font-medium text-gray-900",children:A.full_name}),s.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:A.phone||"No phone"})]})}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:A.email})}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["",(((_=a.get(A.id))==null?void 0:_.total_earnings)||0).toFixed(2)]})}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm font-medium text-orange-600",children:["",(((P=a.get(A.id))==null?void 0:P.pending_earnings)||0).toFixed(2)]})}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm font-medium text-blue-600",children:["",(((O=a.get(A.id))==null?void 0:O.paid_out)||0).toFixed(2)]})}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-xs sm:text-sm font-medium ${A.is_disabled?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:A.is_disabled?"Disabled":"Active"})}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-gray-500",children:new Date(A.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-sm",onClick:E=>E.stopPropagation(),children:s.jsxs("button",{onClick:()=>{y(A),x(A.email),j(A.full_name),C(A.phone||"")},className:"text-blue-600 hover:text-blue-900 flex items-center gap-1",children:[s.jsx(Zf,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Edit"})]})})]},A.id)})})]})}),I>1&&s.jsx("div",{className:"px-4 sm:px-6 py-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("button",{onClick:()=>f(A=>Math.max(1,A-1)),disabled:d===1,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",d," of ",I]}),s.jsx("button",{onClick:()=>f(A=>Math.min(I,A+1)),disabled:d===I,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]}),v&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Edit Reseller"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),s.jsx("input",{type:"text",value:S,onChange:A=>j(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:b,onChange:A=>x(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),s.jsx("input",{type:"tel",value:w,onChange:A=>C(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx("button",{onClick:()=>y(null),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),s.jsx("button",{onClick:M,className:"px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Save Changes"})]})]})})]})})}function Yie(){const{user:e}=ze();nt();const[t,r]=T.useState([]),[n,a]=T.useState(!0),[i,o]=T.useState(""),[l,c]=T.useState(1),[u,d]=T.useState(20),[f,h]=T.useState(new Set),[p,m]=T.useState(null),[g,v]=T.useState(""),[y,b]=T.useState(""),[x,S]=T.useState(""),[j,w]=T.useState(!1),[C,k]=T.useState(""),[N,M]=T.useState(""),[R,B]=T.useState(""),[U,$]=T.useState(""),[I,A]=T.useState("client"),[_,P]=T.useState(""),[O,E]=T.useState("10"),[D,F]=T.useState("50");T.useEffect(()=>{e!=null&&e.id&&W()},[e]);const W=async()=>{try{const H=await ee.rpc("get_all_user_profiles");if(H.data){const ae=H.data.filter(se=>se.role==="admin");r(ae)}}catch(H){console.error("Error fetching data:",H)}finally{a(!1)}},z=H=>H==="website"?s.jsx("span",{className:"inline-flex items-center px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-xs sm:text-sm font-medium bg-blue-100 text-blue-800",children:"Website"}):H==="reseller"?s.jsx("span",{className:"inline-flex items-center px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-xs sm:text-sm font-medium bg-green-100 text-green-800",children:"Reseller"}):H==="admin"?s.jsx("span",{className:"inline-flex items-center px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-xs sm:text-sm font-medium bg-purple-100 text-purple-800",children:"Admin"}):null,K=async(H,ae)=>{try{const{error:se}=await ee.rpc("assign_role",{target_user_id:H,new_role:ae});if(se)throw se;await W()}catch(se){console.error("Error updating user role:",se),alert("Failed to update user role")}},Y=async(H,ae)=>{try{const{error:se}=await ee.rpc("toggle_user_status",{target_user_id:H,disable:!ae});if(se)throw se;await W()}catch(se){console.error("Error toggling user status:",se),alert("Failed to toggle user status")}},J=async H=>{if(confirm("Are you sure you want to delete this admin? This action cannot be undone."))try{const{data:{session:ae}}=await ee.auth.getSession();if(!ae)throw new Error("No session");const se=await fetch("undefined/functions/v1/delete-user",{method:"POST",headers:{Authorization:`Bearer ${ae.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({user_id:H})}),he=await se.json();if(!se.ok)throw new Error(he.error||"Failed to delete user");await W()}catch(ae){console.error("Error deleting user:",ae),alert(ae.message||"Failed to delete user")}},Z=async(H,ae)=>{try{const{error:se}=await ee.rpc("update_user_email",{target_user_id:H,new_email:ae});if(se)throw se;m(null),await W()}catch(se){console.error("Error updating email:",se),alert("Failed to update email")}},X=async()=>{if(p)try{await Z(p.id,g);const{error:H}=await ee.from("user_profiles").update({full_name:y,phone:x||null}).eq("id",p.id);if(H)throw H;m(null),await W()}catch(H){console.error("Error updating user:",H),alert("Failed to update user information")}},ne=H=>{const ae=new Set(f);ae.has(H)?ae.delete(H):ae.add(H),h(ae)},te=()=>{f.size===V.length?h(new Set):h(new Set(V.map(H=>H.id)))},L=async H=>{var ae;H.preventDefault();try{const{data:{session:se}}=await ee.auth.getSession();if(!se)throw new Error("No active session");const xe=await fetch("undefined/functions/v1/create-user",{method:"POST",headers:{Authorization:`Bearer ${se.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({email:C,password:R,full_name:N,phone:U||null,role:I,reseller_id:null})}),re=await xe.json();if(!xe.ok||re.error)throw new Error(re.error||"Failed to create user");if(I==="reseller"&&_.trim())try{const de=await fetch("undefined/functions/v1/create-reseller-promo-code",{method:"POST",headers:{Authorization:`Bearer ${se.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({reseller_id:re.user.id,promo_code_text:_.trim().toUpperCase(),discount_percent:parseFloat(O)||10,commission_rate:parseFloat(D)||50})}),fe=await de.json();!de.ok||fe.error?(console.error("Failed to create promo code:",fe.error),alert(`User created successfully, but promo code creation failed: ${fe.error}`)):alert(`User and promo code created successfully! Code: ${_.trim().toUpperCase()}`)}catch(le){console.error("Error creating promo code:",le),alert(`User created successfully, but promo code creation failed: ${le.message}`)}else alert("User created successfully!");k(""),M(""),B(""),$(""),A("client"),P(""),E("10"),F("20"),w(!1),await W()}catch(se){console.error("Error adding user:",se),(ae=se==null?void 0:se.message)!=null&&ae.includes("User already registered")?alert("This email is already registered. Please use a different email."):se!=null&&se.message?alert(`Failed to add new user: ${se.message}`):alert("Failed to add new user")}},V=t.filter(H=>H.full_name.toLowerCase().includes(i.toLowerCase())||H.email.toLowerCase().includes(i.toLowerCase())||H.phone&&H.phone.includes(i)),q=V.slice((l-1)*u,l*u),Q=Math.ceil(V.length/u);return n?s.jsx(Bt,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"text-lg text-gray-600",children:"Loading..."})})}):s.jsx(Bt,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admins Management"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage administrator accounts"})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("button",{onClick:()=>w(!j),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(mk,{className:"w-5 h-5"}),"Add User"]})}),j&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add New User"}),s.jsxs("form",{onSubmit:L,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),s.jsx("input",{type:"text",placeholder:"John Doe",value:N,onChange:H=>M(H.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),s.jsx("input",{type:"email",placeholder:"john@example.com",value:C,onChange:H=>k(H.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),s.jsx("input",{type:"password",placeholder:"Minimum 6 characters",value:R,onChange:H=>B(H.target.value),required:!0,minLength:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),s.jsx("input",{type:"tel",placeholder:"+1234567890",value:U,onChange:H=>$(H.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),s.jsxs("select",{value:I,onChange:H=>{A(H.target.value),H.target.value!=="reseller"&&(P(""),E("10"),F("20"))},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"client",children:"Client"}),s.jsx("option",{value:"reseller",children:"Reseller"}),s.jsx("option",{value:"admin",children:"Admin"})]})]}),I==="reseller"&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[s.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Promo Code (Optional)"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Promo Code"}),s.jsx("input",{type:"text",placeholder:"RESELLER20",value:_,onChange:H=>P(H.target.value.toUpperCase()),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount %"}),s.jsx("input",{type:"number",placeholder:"10",value:O,onChange:H=>E(H.target.value),min:"1",max:"100",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Commission %"}),s.jsx("input",{type:"number",placeholder:"50",value:D,onChange:H=>F(H.target.value),min:"1",max:"100",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Leave promo code blank to create reseller without a promo code. You can create one later."})]})}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create User"}),s.jsx("button",{type:"button",onClick:()=>{w(!1),k(""),M(""),B(""),$(""),A("client"),P(""),E("10"),F("20")},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 mb-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(eh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search admins...",value:i,onChange:H=>o(H.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:u,onChange:H=>{d(Number(H.target.value)),c(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:10,children:"10 per page"}),s.jsx("option",{value:20,children:"20 per page"}),s.jsx("option",{value:50,children:"50 per page"}),s.jsx("option",{value:100,children:"100 per page"})]})]}),s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mt-4",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",q.length," of ",V.length," admins",f.size>0&&` (${f.size} selected)`]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:s.jsxs("table",{className:"w-full min-w-max",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left",children:s.jsx("input",{type:"checkbox",checked:f.size===V.length&&V.length>0,onChange:te,className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"})}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"User"}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Source"}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Role"}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Status"}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Restaurants"}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Joined"}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:q.map(H=>{var ae;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:s.jsx("input",{type:"checkbox",checked:f.has(H.id),onChange:()=>ne(H.id),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"})}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm sm:text-base font-medium text-gray-900",children:H.full_name}),s.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:H.phone||"No phone"})]})}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:z(H.source)}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:s.jsxs("select",{value:H.role,onChange:se=>K(H.id,se.target.value),className:"px-2 sm:px-3 py-1 border border-gray-300 rounded-md text-xs sm:text-sm focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"client",children:"Client"}),s.jsx("option",{value:"reseller",children:"Reseller"}),s.jsx("option",{value:"admin",children:"Admin"})]})}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-xs sm:text-sm font-medium ${H.is_disabled?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:H.is_disabled?"Disabled":"Active"})}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-gray-900",children:((ae=H.restaurant_names)==null?void 0:ae.length)||0})}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-gray-500",children:new Date(H.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-sm",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsx("button",{onClick:()=>{m(H),v(H.email),b(H.full_name),S(H.phone||"")},className:"text-blue-600 hover:text-blue-900 flex items-center gap-1",children:s.jsx(Zf,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Y(H.id,H.is_disabled||!1),className:`${H.is_disabled?"text-green-600 hover:text-green-900":"text-orange-600 hover:text-orange-900"} flex items-center gap-1`,children:H.is_disabled?s.jsx(hk,{className:"w-4 h-4"}):s.jsx(gk,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>J(H.id),className:"text-red-600 hover:text-red-900 flex items-center gap-1",children:s.jsx(Ul,{className:"w-4 h-4"})})]})})]},H.id)})})]})}),Q>1&&s.jsx("div",{className:"px-4 sm:px-6 py-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("button",{onClick:()=>c(H=>Math.max(1,H-1)),disabled:l===1,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",l," of ",Q]}),s.jsx("button",{onClick:()=>c(H=>Math.min(Q,H+1)),disabled:l===Q,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]}),p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Edit Admin"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),s.jsx("input",{type:"text",value:y,onChange:H=>b(H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:g,onChange:H=>v(H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),s.jsx("input",{type:"tel",value:x,onChange:H=>S(H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx("button",{onClick:()=>m(null),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),s.jsx("button",{onClick:X,className:"px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Save Changes"})]})]})})]})})}function Xie(){const{user:e}=ze(),[t,r]=T.useState([]),[n,a]=T.useState(!0),[i,o]=T.useState(!1),[l,c]=T.useState(1),[u,d]=T.useState(0),[f,h]=T.useState(""),[p,m]=T.useState([]),[g,v]=T.useState(!1),y=20;T.useEffect(()=>{e!=null&&e.id&&b()},[e,l,f]);const b=async()=>{try{a(!0);const w=(l-1)*y,{data:C,error:k}=await ee.rpc("get_subscriptions_with_emails",{search_term:f||null,page_offset:w,page_limit:y});if(k){console.error("Error fetching subscriptions:",k);return}const{count:N}=await ee.from("stripe_subscriptions").select("*",{count:"exact",head:!0});if(C){const M=C.map(R=>{const B=R.promo_code_id?R.discount_amount?39900-R.discount_amount:19950:39900;return{...R,payment_method:`${R.payment_method_brand||"Carte"} ****${R.payment_method_last4||"****"}`,amount:B,refund_date:null,payment_failure_reason:R.status==="canceled"?"Abonnement annul":null}});r(M),d(N||0)}}catch(w){console.error("Error fetching subscriptions:",w)}finally{a(!1)}},x=async()=>{o(!0),await b(),o(!1)},S=Math.ceil(u/y),j=w=>{const k={active:{label:"Actif",color:"bg-green-100 text-green-800"},trialing:{label:"Essai",color:"bg-blue-100 text-blue-800"},canceled:{label:"Annul",color:"bg-red-100 text-red-800"},past_due:{label:"En retard",color:"bg-orange-100 text-orange-800"},unpaid:{label:"Impay",color:"bg-red-100 text-red-800"},incomplete:{label:"Incomplet",color:"bg-gray-100 text-gray-800"}}[w]||{label:w,color:"bg-gray-100 text-gray-800"};return s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${k.color}`,children:k.label})};return n?s.jsx(Bt,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"text-lg text-gray-600",children:"Chargement..."})})}):s.jsx(Bt,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Subscriptions"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Grer toutes les subscriptions Stripe"})]}),s.jsxs("button",{onClick:x,disabled:i,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(lk,{className:`w-4 h-4 ${i?"animate-spin":""}`}),"Actualiser"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(eh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Rechercher par ID subscription, client...",value:f,onChange:w=>{h(w.target.value),c(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Montant"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mode de paiement"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de remboursement"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Motif du refus"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"Aucune subscription trouve"})}):t.map(w=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.user_email}),s.jsx("div",{className:"text-xs text-gray-500",children:w.subscription_id})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["",((w.amount||0)/100).toFixed(2)]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:w.payment_method})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:new Date(w.created_at).toLocaleDateString("fr-FR")})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j(w.status)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-500",children:w.refund_date?new Date(w.refund_date).toLocaleDateString("fr-FR"):"-"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:w.payment_failure_reason||"-"})})]},w.id))})]})}),S>1&&s.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-between border-t border-gray-200",children:[s.jsxs("div",{className:"text-sm text-gray-700",children:["Affichage ",(l-1)*y+1,"  ",Math.min(l*y,u)," sur ",u," rsultats"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>c(w=>Math.max(1,w-1)),disabled:l===1,className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[s.jsx(ov,{className:"w-4 h-4"}),"Prcdent"]}),s.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,S)},(w,C)=>{let k;return S<=5||l<=3?k=C+1:l>=S-2?k=S-4+C:k=l-2+C,s.jsx("button",{onClick:()=>c(k),className:`px-3 py-2 border rounded-lg text-sm font-medium ${l===k?"bg-blue-600 text-white border-blue-600":"border-gray-300 text-gray-700 hover:bg-white"}`,children:k},k)})}),s.jsxs("button",{onClick:()=>c(w=>Math.min(S,w+1)),disabled:l===S,className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:["Suivant",s.jsx(Qf,{className:"w-4 h-4"})]})]})]})]}),g&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[80vh] flex flex-col",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Erreurs de synchronisation (",p.length,")"]}),s.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx("span",{className:"text-2xl",children:""})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsx("div",{className:"space-y-4",children:p.map((w,C)=>s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-red-100 rounded-full flex items-center justify-center text-red-600 font-semibold",children:C+1}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Subscription ID:"}),s.jsx("span",{className:"ml-2 text-sm text-gray-900 font-mono",children:w.subscription_id})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Customer ID:"}),s.jsx("span",{className:"ml-2 text-sm text-gray-900 font-mono",children:w.customer_id})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Erreur:"}),s.jsx("p",{className:"mt-1 text-sm text-red-700",children:w.error})]})]})]})},C))})}),s.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>{const w=p.map((C,k)=>`${k+1}. Subscription: ${C.subscription_id}
   Customer: ${C.customer_id}
   Error: ${C.error}`).join(`

`);navigator.clipboard.writeText(w),alert("Erreurs copies dans le presse-papiers")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Copier les erreurs"}),s.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Fermer"})]})]})})]})})}function Jie(){const{user:e,signOut:t}=ze(),r=nt(),[n,a]=T.useState([]),[i,o]=T.useState([]),[l,c]=T.useState({total_commissions:0,pending_commissions:0,paid_out:0}),[u,d]=T.useState([]),[f,h]=T.useState(!0),[p,m]=T.useState(!1),[g,v]=T.useState(""),[y,b]=T.useState(!1),[x,S]=T.useState(""),[j,w]=T.useState(""),[C,k]=T.useState(""),[N,M]=T.useState(1),[R,B]=T.useState(20);T.useEffect(()=>{e!=null&&e.id&&U()},[e]),T.useEffect(()=>{$()},[n,x,j,C,N,R]);const U=async()=>{if(e!=null&&e.id)try{const[E,D,F]=await Promise.all([ee.rpc("get_reseller_clients_with_details"),ee.from("reseller_earnings_summary").select("*").eq("reseller_id",e.id).maybeSingle(),ee.rpc("get_reseller_cashouts")]);if(E.error?console.error("Error fetching clients:",E.error):E.data&&a(E.data),D.error)console.error("Error fetching earnings:",D.error);else if(D.data){const W=D.data;c({total_commissions:(Number(W.total_commissions)||0)/100,pending_commissions:(Number(W.pending_commissions)||0)/100,paid_out:(Number(W.paid_out)||0)/100})}F.error?console.error("Error fetching cashouts:",F.error):F.data&&d(F.data)}catch(E){console.error("Error fetching data:",E)}finally{h(!1)}},$=()=>{let E=[...n];if(x){const D=x.toLowerCase();E=E.filter(F=>{var W;return F.full_name.toLowerCase().includes(D)||F.email.toLowerCase().includes(D)||((W=F.phone)==null?void 0:W.toLowerCase().includes(D))||F.restaurant_names.some(z=>z.toLowerCase().includes(D))})}j&&(E=E.filter(D=>new Date(D.created_at)>=new Date(j))),C&&(E=E.filter(D=>new Date(D.created_at)<=new Date(C))),o(E)},I=async E=>{if(E.preventDefault(),!g.trim()||!g.includes("@")){alert("Valid email address is required");return}b(!0);try{const{data:{session:D}}=await ee.auth.getSession();if(!D)throw new Error("No active session");const W=await fetch("undefined/functions/v1/invite-client",{method:"POST",headers:{Authorization:`Bearer ${D.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({email:g.trim().toLowerCase()})}),z=await W.json();if(!W.ok||z.error)throw new Error(z.error||"Failed to invite client");alert(`Success! A magic link has been sent to ${g}`),v(""),m(!1),U()}catch(D){console.error("Error inviting client:",D),alert(D.message||"Failed to invite client")}finally{b(!1)}},A=async()=>{await t(),r("/login")},_=E=>E?E==="active"?s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-700",children:"Active"}):E==="trialing"?s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-700",children:"Trial"}):E==="canceled"?s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-700",children:"Canceled"}):s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-700",children:E}):s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-700",children:"No Subscription"}),P=i.slice((N-1)*R,N*R),O=Math.ceil(i.length/R);return f?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"text-gray-600",children:"Loading..."})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsx("img",{src:"https://pub-237d2da54b564d23aaa1c3826e1d4e65.r2.dev/Aimenu/Aimenu.svg",alt:"AI Menu Logo",className:"h-8 w-auto"})}),s.jsxs("button",{onClick:A,className:"inline-flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[s.jsx(sv,{className:"w-5 h-5"}),"Sign Out"]})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:py-8",children:[s.jsxs("div",{className:"mb-4 sm:mb-8",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-1 sm:mb-2",children:"Reseller Dashboard"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Manage your client accounts and track your earnings"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-4 sm:mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Total Clients"}),s.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:n.length})]}),s.jsx(Jr,{className:"w-8 h-8 sm:w-12 sm:h-12 text-blue-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Total Earnings"}),s.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:["",l.total_commissions.toFixed(2)]})]}),s.jsx(Il,{className:"w-8 h-8 sm:w-12 sm:h-12 text-green-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Pending Commissions"}),s.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:["",l.pending_commissions.toFixed(2)]})]}),s.jsx(lv,{className:"w-8 h-8 sm:w-12 sm:h-12 text-orange-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Paid Out"}),s.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:["",l.paid_out.toFixed(2)]})]}),s.jsx(ri,{className:"w-8 h-8 sm:w-12 sm:h-12 text-blue-500"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-0 mb-4 sm:mb-6",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Client Accounts"}),s.jsxs("button",{onClick:()=>m(!p),className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm sm:text-base w-full sm:w-auto",children:[s.jsx(mk,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Add Client"]})]}),p&&s.jsxs("form",{onSubmit:I,className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Email Address"}),s.jsx("input",{type:"email",placeholder:"client@example.com",value:g,onChange:E=>v(E.target.value),required:!0,disabled:y,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"A magic link will be sent to this email address. The client will be automatically linked to your account."})]})}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{type:"submit",disabled:y,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-300 disabled:cursor-not-allowed",children:y?"Sending...":"Send Invitation"}),s.jsx("button",{type:"button",onClick:()=>m(!1),disabled:y,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed",children:"Cancel"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[s.jsx("input",{type:"text",placeholder:"Search clients...",value:x,onChange:E=>S(E.target.value),className:"sm:col-span-2 px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsx("input",{type:"date",value:j,onChange:E=>w(E.target.value),placeholder:"From date",className:"px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsx("input",{type:"date",value:C,onChange:E=>k(E.target.value),placeholder:"To date",className:"px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"mt-3 sm:mt-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2",children:[s.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:["Showing ",(N-1)*R+1,"-",Math.min(N*R,i.length)," of ",i.length," clients"]}),s.jsxs("select",{value:R,onChange:E=>{B(Number(E.target.value)),M(1)},className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:10,children:"10 per page"}),s.jsx("option",{value:20,children:"20 per page"}),s.jsx("option",{value:50,children:"50 per page"}),s.jsx("option",{value:100,children:"100 per page"})]})]})]}),s.jsx("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:s.jsxs("table",{className:"w-full min-w-max",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Client"}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Contact"}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Restaurant"}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Subscription"}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Joined"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 sm:px-6 py-6 sm:py-8 text-center text-sm sm:text-base text-gray-500",children:"No clients found. Try adjusting your filters or add your first client."})}):P.map(E=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm sm:text-base font-medium text-gray-900",children:E.full_name})}),s.jsxs("td",{className:"px-3 sm:px-6 py-3 sm:py-4",children:[s.jsx("div",{className:"text-xs sm:text-sm text-gray-900",children:E.email}),s.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:E.phone||"No phone"})]}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4",children:s.jsx("div",{className:"text-xs sm:text-sm text-gray-900",children:E.restaurant_names.length>0?E.restaurant_names.join(", "):s.jsx("span",{className:"text-gray-500",children:"No restaurant"})})}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:_(E.subscription_status)}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-gray-500",children:new Date(E.created_at).toLocaleDateString()})]},E.client_id))})]})}),O>1&&s.jsxs("div",{className:"px-4 sm:px-6 py-3 sm:py-4 border-t border-gray-200 flex items-center justify-between",children:[s.jsx("button",{onClick:()=>M(Math.max(1,N-1)),disabled:N===1,className:"px-3 sm:px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("div",{className:"hidden sm:flex items-center gap-2",children:Array.from({length:Math.min(5,O)},(E,D)=>{let F;return O<=5||N<=3?F=D+1:N>=O-2?F=O-4+D:F=N-2+D,s.jsx("button",{onClick:()=>M(F),className:`px-3 py-1 text-sm font-medium rounded-md ${N===F?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,children:F},F)})}),s.jsxs("span",{className:"sm:hidden text-xs text-gray-700",children:[N," / ",O]}),s.jsx("button",{onClick:()=>M(Math.min(O,N+1)),disabled:N===O,className:"px-3 sm:px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),u.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow mt-4 sm:mt-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Cashout History"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:"Your payment history"})]}),s.jsx("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:s.jsxs("table",{className:"w-full min-w-max",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Date"}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Amount"}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Note"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(E=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-gray-900",children:new Date(E.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-xs sm:text-sm font-medium text-green-600",children:new Intl.NumberFormat("en-US",{style:"currency",currency:E.currency.toUpperCase()}).format(E.amount/100)}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-gray-500",children:E.note||"-"})]},E.id))})]})})]})]})]})}function aj(){const{clientId:e}=Pi();ze(),nt();const[t,r]=T.useState(null),[n,a]=T.useState([]),[i,o]=T.useState(null),[l,c]=T.useState(null),[u,d]=T.useState(null),[f,h]=T.useState(!0);T.useEffect(()=>{e&&p()},[e]);const p=async()=>{try{const[m,g,v,y]=await Promise.all([ee.from("user_profiles").select("*").eq("id",e).maybeSingle(),ee.rpc("get_user_email",{target_user_id:e}),ee.rpc("get_client_menus",{target_user_id:e}),ee.rpc("get_all_stripe_subscriptions")]);if(m.data&&(r({...m.data,email:g.data||"N/A"}),m.data.reseller_id)){const{data:b}=await ee.from("user_profiles").select("id, full_name").eq("id",m.data.reseller_id).maybeSingle();b&&d(b)}if(v.data&&a(v.data),y.data){const b=y.data.find(x=>x.user_id===e);if(b&&(o(b),b.promo_code)){const{data:x}=await ee.from("promo_codes").select("id, promo_code_text, reseller_id, discount_amount, discount_percent").eq("promo_code_text",b.promo_code).maybeSingle();x&&c(x)}}}catch(m){console.error("Error fetching client data:",m)}finally{h(!1)}};return f?s.jsx(Bt,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"text-gray-600",children:"Loading..."})})}):t?s.jsx(Bt,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsx("div",{className:"flex items-center justify-end mb-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[n.length>0&&s.jsxs(xn,{to:`/${n[0].restaurant_slug}`,target:"_blank",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(nk,{className:"w-4 h-4"}),"View Landing Page"]}),s.jsxs("a",{href:`/dashboard?impersonate=${e}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(sM,{className:"w-4 h-4"}),"Access Client Account"]})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:t.full_name}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Email:"}),s.jsx("p",{className:"font-medium text-gray-900",children:t.email||"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Phone:"}),s.jsx("p",{className:"font-medium text-gray-900",children:t.phone||"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Amount:"}),s.jsx("p",{className:"font-medium text-gray-900",children:i?s.jsx("span",{children:i.discount_amount?s.jsxs(s.Fragment,{children:["",((39900-i.discount_amount)/100).toFixed(2)]}):s.jsx(s.Fragment,{children:"399.00"})}):"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Source:"}),s.jsxs("p",{className:"font-medium text-gray-900",children:[t.source==="website"&&s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full bg-blue-100 text-blue-800 text-xs",children:"Website"}),t.source==="reseller"&&s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full bg-green-100 text-green-800 text-xs",children:"Reseller"}),t.source==="admin"&&s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full bg-orange-100 text-orange-800 text-xs",children:"Admin"})]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Reseller:"}),s.jsx("p",{className:"font-medium text-gray-900",children:u?u.full_name:"Website"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Joined:"}),s.jsx("p",{className:"font-medium text-gray-900",children:t.created_at?new Date(t.created_at).toLocaleDateString():"N/A"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(ll,{className:"w-6 h-6 text-blue-600"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Payment Information"})]}),i?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Il,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Subscription Status"})]}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900 capitalize",children:[i.subscription_status==="active"&&s.jsx("span",{className:"text-green-600",children:"Active"}),i.subscription_status==="trialing"&&s.jsx("span",{className:"text-blue-600",children:"Trialing"}),i.subscription_status==="past_due"&&s.jsx("span",{className:"text-red-600",children:"Past Due"}),i.subscription_status==="canceled"&&s.jsx("span",{className:"text-orange-600",children:"Canceled"}),i.subscription_status==="unpaid"&&s.jsx("span",{className:"text-red-600",children:"Unpaid"}),!["active","trialing","past_due","canceled","unpaid"].includes(i.subscription_status||"")&&s.jsx("span",{className:"text-gray-600",children:i.subscription_status||"Unknown"})]})]}),i.payment_method_brand&&s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ll,{className:"w-5 h-5 text-gray-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Payment Method"})]}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900 capitalize",children:[i.payment_method_brand,"  ",i.payment_method_last4]})]}),i.current_period_start&&s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(vg,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Subscription Started"})]}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:new Date(i.current_period_start*1e3).toLocaleDateString()})]}),i.current_period_end&&s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(vg,{className:"w-5 h-5 text-gray-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Current Period Ends"})]}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:new Date(i.current_period_end*1e3).toLocaleDateString()}),i.cancel_at_period_end&&s.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-orange-600",children:[s.jsx(ls,{className:"w-3 h-3"}),s.jsx("span",{children:"Cancels at period end"})]})]})]}),i.subscription_id&&s.jsx("div",{className:"pt-4 border-t border-gray-200",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Customer ID:"}),s.jsx("p",{className:"font-mono text-gray-900",children:i.customer_id})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Subscription ID:"}),s.jsx("p",{className:"font-mono text-gray-900",children:i.subscription_id})]}),i.price_id&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Price ID:"}),s.jsx("p",{className:"font-mono text-gray-900",children:i.price_id})]})]})}),l&&s.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(zu,{className:"w-5 h-5 text-green-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Promo Code Applied"})]}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Code:"}),s.jsx("p",{className:"text-lg font-bold text-green-700",children:l.promo_code_text})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Discount:"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:l.discount_percent?`${l.discount_percent}%`:`${((l.discount_amount||0)/100).toFixed(2)}`})]}),i.discount_amount&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Discount Applied:"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["",(i.discount_amount/100).toFixed(2)]})]}),u&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(th,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Reseller:"})]}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:u.full_name})]})]})})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ll,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No subscription data available"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(yg,{className:"w-6 h-6 text-green-600"}),s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Menus (",n.length,")"]})]})}),n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(yg,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No menus created yet"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Menu Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Restaurant"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(m=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.restaurant_name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(m.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(xn,{to:`/${m.restaurant_slug}/${m.slug}`,target:"_blank",className:"inline-flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:[s.jsx(Ec,{className:"w-4 h-4"}),"View"]})})})]},m.id))})]})})]})]})}):s.jsx(Bt,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"text-center",children:s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Client Not Found"})})})})}function Zie({isOpen:e,onClose:t,onConfirm:r,totalEarnings:n,paidOut:a,pendingEarnings:i,currency:o}){const[l,c]=T.useState(""),[u,d]=T.useState(""),[f,h]=T.useState(!1),[p,m]=T.useState("");if(!e)return null;const g=y=>new Intl.NumberFormat("en-US",{style:"currency",currency:o.toUpperCase(),minimumFractionDigits:2}).format(y),v=async()=>{const y=parseFloat(l);if(!y||y<=0){m("Please enter a valid amount");return}const b=Math.round(y*100),x=Math.round(i*100);if(b>x){m(`Amount cannot exceed pending earnings (${g(i)})`);return}h(!0),m("");try{await r(b,u),c(""),d(""),t()}catch(S){m(S.message||"Failed to process cashout")}finally{h(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(ri,{className:"w-6 h-6 text-green-600"})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Process Cashout"})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(_n,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6",children:[p&&s.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2",children:[s.jsx(ls,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-800",children:p})]}),s.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Total Earnings:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:g(n)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Already Paid Out:"}),s.jsx("span",{className:"font-semibold text-blue-600",children:g(a)})]}),s.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t border-gray-200",children:[s.jsx("span",{className:"text-gray-700 font-medium",children:"Available to Pay:"}),s.jsx("span",{className:"font-bold text-green-600",children:g(i)})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"cashoutAmount",className:"block text-sm font-medium text-gray-700 mb-2",children:"Payout Amount"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-500 sm:text-sm",children:o.toUpperCase()})}),s.jsx("input",{id:"cashoutAmount",type:"number",step:"0.01",value:l,onChange:y=>c(y.target.value),placeholder:"0.00",className:"block w-full pl-16 pr-12 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"cashoutNote",className:"block text-sm font-medium text-gray-700 mb-2",children:"Note (Optional)"}),s.jsx("textarea",{id:"cashoutNote",value:u,onChange:y=>d(y.target.value),placeholder:"Add a note about this payout...",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 resize-none"})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:[s.jsx("button",{onClick:t,disabled:f,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:"Cancel"}),s.jsx("button",{onClick:v,disabled:f,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Processing...":"Confirm Payout"})]})]})})}function eoe(){var B;const{resellerId:e}=Pi(),{userRole:t}=ze(),r=nt(),[n,a]=T.useState(null),[i,o]=T.useState([]),[l,c]=T.useState([]),[u,d]=T.useState(null),[f,h]=T.useState(!0),[p,m]=T.useState("clients"),[g,v]=T.useState(!1),[y,b]=T.useState(null),[x,S]=T.useState("");T.useEffect(()=>{e&&(t==="admin"?j():t&&(console.log("Access denied: User role is",t,"but admin required"),h(!1)))},[e,t]);const j=async()=>{try{console.log("Fetching reseller data for ID:",e);const[U,$,I,A,_]=await Promise.all([ee.from("user_profiles").select("*").eq("id",e).maybeSingle(),ee.rpc("get_user_email",{target_user_id:e}),ee.rpc("get_reseller_promo_codes",{target_reseller_id:e}),ee.from("reseller_earnings_summary").select("*").eq("reseller_id",e).maybeSingle(),ee.from("reseller_cashouts").select("*").eq("reseller_id",e).order("created_at",{ascending:!1})]);U.data&&a({...U.data,email:$.data||"N/A"}),I.data&&c(I.data);const P=_.data||[],O=A.data;d({total_earnings:O?Number(O.total_commissions)/100:0,paid_out:O?Number(O.paid_out)/100:0,pending_earnings:O?Number(O.pending_commissions)/100:0,currency:"eur",cashouts:P.map(F=>({...F,amount:F.amount/100}))});const{data:E,error:D}=await ee.from("user_profiles").select("id, full_name, phone, source, created_at").eq("reseller_id",e);if(D&&console.error("Error fetching clients:",D),E&&E.length>0){const F=E.map(L=>L.id),[W,z,K]=await Promise.all([ee.rpc("get_all_stripe_subscriptions"),ee.from("restaurants").select("id, user_id").in("user_id",F),Promise.all(F.map(L=>ee.rpc("get_user_email",{target_user_id:L})))]);let Y=[];if(z.data&&z.data.length>0){const L=z.data.map(q=>q.id),{data:V}=await ee.from("menus").select("id, restaurant_id").in("restaurant_id",L);Y=V||[]}const J=new Map((W.data||[]).map(L=>[L.user_id,L.subscription_status])),Z=new Map;(z.data||[]).forEach(L=>{Z.has(L.user_id)||Z.set(L.user_id,[]),Z.get(L.user_id).push(L)});const X=new Map;Y.forEach(L=>{const V=(z.data||[]).find(q=>q.id===L.restaurant_id);V&&X.set(V.user_id,(X.get(V.user_id)||0)+1)});const ne=new Map(F.map((L,V)=>[L,K[V].data||"N/A"])),te=E.map(L=>{var V;return{...L,email:ne.get(L.id)||"N/A",subscription_status:J.get(L.id)||null,restaurant_count:((V=Z.get(L.id))==null?void 0:V.length)||0,menu_count:X.get(L.id)||0}});o(te)}else o([])}catch(U){console.error("Error fetching reseller data:",U)}finally{h(!1)}},w=U=>{r(`/admin/client/${U}`)},C=async(U,$)=>{try{const{data:I,error:A}=await ee.rpc("record_reseller_cashout",{p_reseller_id:e,p_amount:U,p_note:$||null});if(A)throw A;await j(),alert("Cashout recorded successfully!")}catch(I){throw console.error("Error recording cashout:",I),new Error(I.message||"Failed to record cashout")}},k=async(U,$)=>{try{const{error:I}=await ee.from("reseller_promo_codes").update({commission_rate:$}).eq("id",U);if(I)throw I;await j(),b(null),S(""),alert("Commission rate updated successfully!")}catch(I){console.error("Error updating commission rate:",I),alert("Failed to update commission rate")}},N=U=>{if(!U)return s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:"No Subscription"});switch(U){case"active":case"trialing":return s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"});case"past_due":return s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Past Due"});case"canceled":return s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Canceled"});default:return s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:U})}},M=U=>new Intl.NumberFormat("en-US",{style:"currency",currency:"EUR",minimumFractionDigits:2}).format(U),R=async()=>{if(!n)return;const U=n.is_disabled?`Are you sure you want to enable ${n.full_name}? They will be able to log in to the dashboard.`:`Are you sure you want to disable ${n.full_name}? They will not be able to log in to the dashboard.`;if(confirm(U))try{const{data:$,error:I}=await ee.rpc("toggle_user_disabled_status",{target_user_id:n.id,disabled:!n.is_disabled});if(I)throw I;a({...n,is_disabled:!n.is_disabled}),alert(`Reseller ${n.is_disabled?"enabled":"disabled"} successfully`)}catch($){console.error("Error toggling disabled status:",$),alert("Failed to update reseller status")}};return f?s.jsx(Bt,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"text-gray-600",children:"Loading..."})})}):n?s.jsxs(Bt,{children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:n.full_name}),s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:"Reseller"}),n.is_disabled&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800",children:"Disabled"})]}),s.jsx("button",{onClick:R,className:`px-4 py-2 rounded-lg font-medium transition-colors ${n.is_disabled?"bg-green-600 hover:bg-green-700 text-white":"bg-red-600 hover:bg-red-700 text-white"}`,children:n.is_disabled?"Enable Reseller":"Disable Reseller"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Email:"}),s.jsx("p",{className:"font-medium text-gray-900",children:n.email})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Phone:"}),s.jsx("p",{className:"font-medium text-gray-900",children:n.phone||"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Joined:"}),s.jsx("p",{className:"font-medium text-gray-900",children:new Date(n.created_at).toLocaleDateString()})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Clients"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:i.length})]}),s.jsx(Jr,{className:"w-12 h-12 text-blue-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active Promo Codes"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:l.filter(U=>U.is_active).length})]}),s.jsx(zu,{className:"w-12 h-12 text-green-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Earnings"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:u?M(u.total_earnings):"0.00"})]}),s.jsx(Il,{className:"w-12 h-12 text-green-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Pending Earnings"}),s.jsx("p",{className:"text-3xl font-bold text-orange-600",children:u?M(u.pending_earnings):"0.00"})]}),s.jsx(lv,{className:"w-12 h-12 text-orange-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Paid Out"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:u?M(u.paid_out):"0.00"})]}),s.jsx(ri,{className:"w-12 h-12 text-blue-500"})]})})]}),u&&u.pending_earnings>0&&s.jsx("div",{className:"mb-8",children:s.jsxs("button",{onClick:()=>v(!0),className:"w-full inline-flex items-center justify-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-lg font-medium shadow-sm",children:[s.jsx(ri,{className:"w-5 h-5"}),"Process Cashout"]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"flex -mb-px",children:[s.jsx("button",{onClick:()=>m("clients"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${p==="clients"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jr,{className:"w-5 h-5"}),"Clients (",i.length,")"]})}),s.jsx("button",{onClick:()=>m("promoCodes"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${p==="promoCodes"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zu,{className:"w-5 h-5"}),"Promo Codes (",l.length,")"]})}),s.jsx("button",{onClick:()=>m("cashouts"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${p==="cashouts"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ri,{className:"w-5 h-5"}),"Cashout History (",((B=u==null?void 0:u.cashouts)==null?void 0:B.length)||0,")"]})})]})}),s.jsxs("div",{className:"p-6",children:[p==="clients"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Client List"}),i.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Jr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No clients yet"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subscription"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Restaurants"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Menus"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(U=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:U.full_name}),s.jsx("div",{className:"text-sm text-gray-500",children:U.email})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:N(U.subscription_status)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-900",children:[s.jsx(yg,{className:"w-4 h-4"}),U.restaurant_count||0]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:U.menu_count||0}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(U.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsxs("button",{onClick:()=>w(U.id),className:"inline-flex items-center gap-2 px-3 py-1 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[s.jsx(Ec,{className:"w-4 h-4"}),"View Details"]})})]},U.id))})]})})]}),p==="promoCodes"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Promo Codes"}),l.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(zu,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No promo codes created yet"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map(U=>{var $;return s.jsxs("div",{className:`border rounded-lg p-6 ${U.is_active?"border-green-200 bg-green-50":"border-gray-200 bg-gray-50"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:U.promo_code_text}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${U.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-700"}`,children:U.is_active?"Active":"Inactive"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Discount:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:U.discount_percent?`${U.discount_percent}%`:`${U.discount_amount} ${($=U.currency)==null?void 0:$.toUpperCase()}`})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Times Used:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:U.usage_count})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Total Discount:"}),s.jsxs("span",{className:"font-semibold text-gray-900",children:["",(U.total_discount_amount/100).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Created:"}),s.jsx("span",{className:"text-gray-900",children:new Date(U.created_at).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200 mt-2",children:[s.jsx("span",{className:"text-gray-600",children:"Commission Rate:"}),y===U.id?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"number",step:"0.01",value:x,onChange:I=>S(I.target.value),className:"w-20 px-2 py-1 text-sm border border-gray-300 rounded",placeholder:"10.00"}),s.jsx("button",{onClick:()=>k(U.id,parseFloat(x)),className:"text-xs px-2 py-1 bg-green-600 text-white rounded hover:bg-green-700",children:"Save"}),s.jsx("button",{onClick:()=>{b(null),S("")},className:"text-xs px-2 py-1 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Cancel"})]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:U.commission_rate!=null?`${U.commission_rate}%`:"Not set"}),s.jsx("button",{onClick:()=>{b(U.id),S(U.commission_rate!=null?U.commission_rate.toString():"10.00")},className:"text-xs text-blue-600 hover:text-blue-700",children:"Edit"})]})]})]})]},U.id)})})]}),p==="cashouts"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Cashout History"}),!u||u.cashouts.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ri,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No cashouts yet"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Note"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.cashouts.map(U=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(U.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-lg font-semibold text-green-600",children:M(U.amount)})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:U.note||"-"})]},U.id))})]})})]})]})]})]}),u&&s.jsx(Zie,{isOpen:g,onClose:()=>v(!1),onConfirm:C,totalEarnings:u.total_earnings,paidOut:u.paid_out,pendingEarnings:u.pending_earnings,currency:"eur"})]}):s.jsx(Bt,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"text-center",children:s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Reseller Not Found"})})})})}function toe(){return s.jsx(p3,{children:s.jsx(B5,{children:s.jsx(Z5,{children:s.jsxs(W4,{children:[s.jsx(We,{path:"/",element:s.jsx(Wa,{to:"/login",replace:!0})}),s.jsx(We,{path:"/login",element:s.jsx(uM,{})}),s.jsx(We,{path:"/register",element:s.jsx(dM,{})}),s.jsx(We,{path:"/signup",element:s.jsx(Vie,{})}),s.jsx(We,{path:"/dashboard",element:s.jsx(St,{children:s.jsx(iie,{})})}),s.jsx(We,{path:"/admin",element:s.jsx(St,{allowWithoutSubscription:!0,requiredRole:"admin",children:s.jsx(Gie,{})})}),s.jsx(We,{path:"/admin/clients",element:s.jsx(St,{allowWithoutSubscription:!0,requiredRole:"admin",children:s.jsx(Kie,{})})}),s.jsx(We,{path:"/admin/resellers",element:s.jsx(St,{allowWithoutSubscription:!0,requiredRole:"admin",children:s.jsx(Qie,{})})}),s.jsx(We,{path:"/admin/admins",element:s.jsx(St,{allowWithoutSubscription:!0,requiredRole:"admin",children:s.jsx(Yie,{})})}),s.jsx(We,{path:"/admin/subscriptions",element:s.jsx(St,{allowWithoutSubscription:!0,requiredRole:"admin",children:s.jsx(Xie,{})})}),s.jsx(We,{path:"/reseller",element:s.jsx(St,{allowWithoutSubscription:!0,requiredRole:"reseller",children:s.jsx(Jie,{})})}),s.jsx(We,{path:"/admin/client/:clientId",element:s.jsx(St,{allowWithoutSubscription:!0,requiredRole:"admin",children:s.jsx(aj,{})})}),s.jsx(We,{path:"/admin/reseller/:resellerId",element:s.jsx(St,{allowWithoutSubscription:!0,requiredRole:"admin",children:s.jsx(eoe,{})})}),s.jsx(We,{path:"/reseller/client/:clientId",element:s.jsx(St,{allowWithoutSubscription:!0,requiredRole:"reseller",children:s.jsx(aj,{})})}),s.jsx(We,{path:"/dashboard/abonnement",element:s.jsx(St,{allowWithoutSubscription:!0,children:s.jsx(qie,{})})}),s.jsx(We,{path:"/dashboard/visual-identity",element:s.jsx(St,{children:s.jsx(wie,{})})}),s.jsx(We,{path:"/dashboard/contact-info",element:s.jsx(St,{children:s.jsx(jie,{})})}),s.jsx(We,{path:"/dashboard/qr-code",element:s.jsx(St,{children:s.jsx(Sie,{})})}),s.jsx(We,{path:"/dashboard/menu",element:s.jsx(St,{children:s.jsx(Nie,{})})}),s.jsx(We,{path:"/dashboard/menu/:menuId",element:s.jsx(St,{children:s.jsx(Pie,{})})}),s.jsx(We,{path:"/dashboard/menu/:menuId/settings",element:s.jsx(St,{children:s.jsx(Aie,{})})}),s.jsx(We,{path:"/dashboard/menu/:menuId/ai-import",element:s.jsx(St,{children:s.jsx(Oie,{})})}),s.jsx(We,{path:"/success",element:s.jsx(Wie,{})}),s.jsx(We,{path:"/:slug",element:s.jsx(Lie,{})}),s.jsx(We,{path:"/:slug/menu/:menuId",element:s.jsx(Bie,{})})]})})})})}yN(document.getElementById("root")).render(s.jsx(T.StrictMode,{children:s.jsx(toe,{})}));
